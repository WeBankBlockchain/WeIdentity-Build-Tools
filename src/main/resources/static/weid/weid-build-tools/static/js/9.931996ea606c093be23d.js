webpackJsonp([9],{ck7i:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("lC5x"),n=a.n(i),l=a("J0Oq"),o=a.n(l),r=a("/p82"),s=a("gej+"),c={data:function(){return{page:{policyList:[],total:0,pageIndex:1,pageSize:6},dialog:{policy:"",dialogShowPolicyVisible:!1}}},methods:{showCpt:function(t){var e=this;r.a.doGet("queryPolicy/"+t).then(function(t){0===t.data.errorCode?(e.dialog.policy=t.data.result,e.dialog.dialogShowPolicyVisible=!0):e.$alert("Policy查询异常!","温馨提示",{}).catch(function(){})})},indexChange:function(t){this.page.pageIndex=t,this.init()},init:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize,r.a.doGet("getPolicyList",e).then(function(e){0===e.data.errorCode&&(t.page.policyList=e.data.result.dataList,t.page.total=e.data.result.allCount)})},check:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.checkNodeState(!0);case 2:s.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.check()}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content app_main"},[a("div",{staticClass:"app_view"},[a("el-table",{attrs:{data:t.page.policyList,border:"true",align:"center"}},[a("el-table-column",{attrs:{prop:"id",label:"披露策略ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(a){return t.showCpt(e.row.id)}}},[t._v("预览Policy")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),a("el-dialog",{staticClass:"dialog-view",attrs:{title:"预览policy",width:"40%",visible:t.dialog.dialogShowPolicyVisible},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogShowPolicyVisible",e)}}},[a("div",{staticClass:"dialog-body"},[a("el-row",[a("el-col",[a("el-input",{attrs:{type:"textarea",readOnly:"",rows:15,resize:"none"},model:{value:t.dialog.policy,callback:function(e){t.$set(t.dialog,"policy",e)},expression:"dialog.policy"}})],1)],1)],1)])],1)},staticRenderFns:[]},d=a("C7Lr")(c,p,!1,null,null,null);e.default=d.exports}});