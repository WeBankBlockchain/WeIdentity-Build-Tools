(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+4MC":function(t,e,a){e=t.exports=a("JPst")(!1);var i=a("tgXZ"),n=i(a("Rh3H")),l=i(a("4lKH")),o=i(a("6NnZ")),s=i(a("mmIr")),r=i(a("HSCu"));e.push([t.i,'.status_success {\n  color: #419250;\n}\n.status_fail {\n  color: #E92A2A;\n}\n.success-span {\n  color: green;\n}\n.fail-span {\n  color: red;\n}\n.el-table table {\n  height: auto !important;\n}\n.el-table th,\n.el-table tr {\n  font-size: 14px;\n  color: #000;\n}\n.el-table__header {\n  width: 100%;\n}\n.el-table__header .has-gutter tr {\n  color: #000;\n  background-color: #f4f4f4;\n}\n.el-table__header .has-gutter tr th {\n  display: table-cell !important;\n  background-color: #f4f4f4;\n  padding: 8px !important;\n}\n.el-table__header .has-gutter tr th .cell {\n  background-color: #f4f4f4;\n  padding: 5px 0px;\n  line-height: normal;\n  display: inline-block;\n}\n.el-table__body {\n  width: 100%;\n}\n.el-table__body .el-table__row tr {\n  color: #000;\n  background-color: #f4f4f4;\n}\n.el-table__body .el-table__row tr th {\n  background-color: #f4f4f4;\n}\n.el-table__body .el-table__row tr th .cell {\n  background-color: #f4f4f4;\n  padding: 5px 0px;\n  line-height: normal;\n  padding: 5px 0;\n  display: inline-block;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.el-table__body .long_words {\n  display: inline-block;\n  width: 80%;\n  word-break: break-word;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: default;\n}\n.el-table__body .link {\n  color: #017CFF;\n  cursor: pointer;\n}\n.el-pagination {\n  margin-top: 10px;\n  text-align: right !important;\n}\n.dialog-view .el-dialog__headerbtn,\n.dialog-view .el-message-box__headerbtn {\n  width: auto !important;\n}\n.dialog-view .el-table tr th,\n.dialog-view .el-table tr td {\n  text-align: center;\n  height: 30px;\n  margin: 0px;\n  line-height: 30px;\n}\n.dialog-view .el-textarea__inner {\n  background-color: #F4F4F4 !important;\n}\n@-webkit-keyframes show-error {\nfrom {\n    transform: translateY(-24px);\n    -webkit-transform: translateY(-24px);\n    z-index: -1;\n}\nto {\n    transform: translateY(0);\n    -webkit-transform: translateY(0);\n    z-index: 0;\n}\n}\n.wrapper {\n  position: relative;\n}\n.navbar-nav {\n  width: 100%;\n  z-index: 99;\n  background: #fff;\n}\n.nav-item {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 64px;\n  -webkit-box-flex: 1;\n      -ms-flex: auto;\n          flex: auto;\n}\n.nav-item span {\n  font-size: 21px;\n  color: #333;\n}\n.openLog {\n  border: 1px solid #017CFF;\n  border-radius: 2px;\n  padding: 0.4rem 0.7rem;\n  color: #017CFF;\n  font-size: 14px;\n  cursor: pointer;\n}\n.swiper-container {\n  position: absolute;\n  top: 66px;\n  left: 0;\n  right: 0;\n  bottom: 25px;\n}\n.swiper-slide {\n  overflow: auto;\n}\n.content-wrapper {\n  margin-left: 0 !important;\n  display: flow-root;\n  min-height: auto !important;\n  background: #fff;\n  height: 100vh;\n}\n.navbar-nav {\n  border-bottom: 1px solid #dee2e6;\n}\n.container-fluid {\n  padding: 0;\n  padding-top: 50px;\n}\n.card-primary:not(.card-outline) > .card-header {\n  background-color: #fff;\n  border: 0;\n  color: #333;\n}\n.card-header {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.card-header::after {\n  display: none;\n}\n.card-header h6 {\n  font-size: 18px;\n  color: #333;\n}\n.card-header .guide_notice {\n  color: #017CFF;\n  font-size: 12px;\n}\n.role_body {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.role_body::after {\n  display: none;\n}\n.role_body .role_part {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  width: 47%;\n  text-align: center;\n  border: 2px solid transparent;\n  border-radius: 4px;\n  font-size: 14px;\n  padding: 30px 24px;\n  cursor: pointer;\n  -webkit-box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n          box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n}\n.icon_question {\n  vertical-align: middle;\n}\n.role_body .role_part .role_icon {\n  margin-right: 15px;\n  vertical-align: middle;\n}\n.role_body .role_part .selected_icon {\n  opacity: 0;\n  width: 22px;\n  vertical-align: middle;\n}\n.role_active {\n  border-color: #017CFF !important;\n}\n.role_active .selected_icon {\n  opacity: 1 !important;\n}\n.node_part,\n.db-part {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 1rem 2rem;\n}\n.node_part .btn-primary {\n  width: 106px;\n  height: 36px;\n  background: #017CFF;\n  border-radius: 4px;\n  color: #fff;\n  margin: 0 10px;\n}\n.db-part .btn-primary {\n  width: 106px;\n  height: 36px;\n  background: #017CFF;\n  border-radius: 4px;\n  color: #fff;\n  margin: 0 10px;\n}\n.btn-primary {\n  line-height: 22px;\n}\n.box_shadow {\n  -webkit-box-shadow: 0px 2px 10px #909090;\n          box-shadow: 0px 2px 10px #909090;\n}\n.form-group span {\n  font-size: 12px;\n  color: red;\n  display: block;\n  margin-bottom: 0.5rem;\n}\n.form-group label {\n  font-size: 15px;\n  margin-bottom: 0.5rem;\n}\n.warning_box {\n  position: relative;\n  border: 1px solid #ddd;\n}\n.warning_box .sql_warning {\n  position: absolute;\n  right: -300px;\n  top: 0;\n}\n.sql_warning .warning_title {\n  font-family: PingFangSC-Medium;\n  font-size: 14px;\n  color: #333333;\n  line-height: 22px;\n  margin-bottom: 10px;\n}\n.sql_warning p {\n  font-size: 12px;\n  color: #666666;\n  line-height: 20px;\n  margin-bottom: 5px;\n  text-align: left;\n}\n#createDiv {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n#createDiv .key_item {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-right: 3.5rem;\n  cursor: pointer;\n}\n#createDiv .key_item p {\n  margin-bottom: 0;\n}\n#createDiv .key_item .item_out_role {\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n  border: 1px solid #ddd;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 0;\n  margin-right: 0.5rem;\n}\n#createDiv .key_item .item_out_role span {\n  margin: auto;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n}\n#createDiv .active_key .item_out_role {\n  border-color: #017CFF;\n}\n#createDiv .active_key .item_out_role span {\n  background: #017CFF;\n}\n.application {\n  width: 100%;\n  min-height: 100vh;\n}\n.application table {\n  width: 100%;\n  height: 100vh;\n}\n.application table .t_sidebar {\n  width: 250px;\n  vertical-align: top;\n  background-color: #334154;\n}\n.application table .t_sidebar .el-submenu__title {\n  background-color: #334154 !important;\n}\n.application table .t_sidebar .el-menu {\n  border-right: 0px ;\n  background-color: #334154 !important;\n}\n.application table .t_sidebar .el-menu-item {\n  background-color: #222d3c !important;\n}\n.application table .t_sidebar .logo {\n  background-color: #334154;\n  height: 50px;\n  line-height: 50px;\n}\n.application table .t_sidebar .logo .logo_image {\n  opacity: 0.8;\n  border-radius: 0;\n  width: 110px;\n  margin: 0 5px;\n}\n.application table .t_sidebar .logo .logo_title {\n  font-size: 1rem;\n  color: #DADCE0;\n  font-weight: bold;\n}\n.application table .t_header {\n  height: 50px;\n  background: #fff;\n}\n.application table .s_header {\n  border-bottom: 1.5px solid #DDDDDD;\n  background: #fff;\n}\n.application table .s_header .application_header {\n  height: 60px;\n  min-width: 900px;\n}\n.application table .s_header .application_header .header_left_part {\n  width: 50%;\n  float: left;\n}\n.application table .s_header .application_header .header_left_part .nav_link {\n  height: 60px;\n  line-height: 60px;\n  padding-left: 50px;\n}\n.application table .s_header .application_header .header_left_part .nav_link span {\n  font-size: 20px;\n  font-weight: bold;\n}\n.application table .s_header .application_header .header_right_part {\n  width: 50%;\n  float: right;\n}\n.application table .s_header .application_header .header_right_part .nav_link {\n  float: right;\n  height: 60px;\n  line-height: 60px;\n  padding-right: 50px;\n}\n.application table .t_main {\n  height: 100%;\n  background-color: #F4F4F4;\n  vertical-align: top;\n}\n.application table .t_boder {\n  border-top: 0.5px solid #D3D3D3;\n  border-bottom: 0.5px solid #D3D3D3;\n}\n.application table .s_main {\n  background-color: #ffffff;\n  padding-top: 35px;\n}\n.application table .t_footer {\n  height: 50px;\n  text-align: center;\n  min-width: 800px;\n}\n.application table .t_footer .footBar {\n  position: relative;\n  height: 50px;\n  line-height: 50px;\n  width: 100%;\n  display: block;\n  background-color: #fff;\n  float: none;\n  margin-bottom: 0px;\n  text-align: center;\n  font-size: 14px;\n  letter-spacing: 1px;\n  z-index: 1;\n}\n.application table .t_footer .footBar .copyright a {\n  color: #133ABD;\n}\n.app_main {\n  padding: 10px 10px;\n}\n.app_main .app_view {\n  background-color: #fff;\n  height: 100%;\n  padding: 30px 30px;\n  border: 1px solid #D3D3D3;\n  border-radius: 5px;\n}\n.app_main .app_view .app_list {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.app_main .app_view .app_list .app_list_item {\n  width: 30%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  color: #333;\n  border: 1px solid #DDDDDD;\n  height: 180px;\n  padding: 0 28px;\n}\n.app_main .app_view .app_list .app_list_item img {\n  margin-right: 29px;\n}\n.app_main .app_view .app_list .app_list_item .item_des .item_des_title {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 10px;\n  font-family: PingFangSC-Medium;\n}\n.app_main .app_view .app_list .app_list_item .item_des .item_des_content {\n  font-size: 14px;\n  font-family: PingFangSC-Regular;\n}\n.app_main .app_view .app_list .app_item_more {\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.app_main .app_view .app_list .app_item_more img {\n  margin: 0;\n  margin-bottom: 15px;\n}\n.app_main .app_view .app_list .app_item_more p {\n  font-size: 14px;\n  color: #9B9B9B;\n}\n.app_main .app_view .wrapper .app_view_footer {\n  margin-top: 20px;\n}\n.app_main .el-row {\n  margin-top: 5px;\n  margin-bottom: 10px;\n}\n.app_main .item .el-form-item__label {\n  font-weight: bold;\n}\n.app_main .head-icon {\n  padding-top: 8px;\n}\n.app_main .head-icon a {\n  color: #017CFF;\n  font-size: 12px;\n  display: inline-block;\n  padding-left: 10px;\n}\n.app_main .panle {\n  width: 100%;\n  margin-top: 10px;\n}\n.app_main .panle .el-col {\n  height: 100px;\n  margin-left: 23px;\n  width: 31%;\n  border-radius: 5px;\n  background-color: #fff;\n  border: 1px solid #D3D3D3;\n  -webkit-box-shadow: #D3D3D3 0px 1px 2px 1px;\n          box-shadow: #D3D3D3 0px 1px 2px 1px;\n  padding: 15px;\n  margin-bottom: 15px;\n}\n.app_main .panle .el-col .panle-box {\n  height: 100%;\n  cursor: pointer;\n}\n.app_main .panle .el-col .panle-box .left {\n  float: left;\n  width: 70%;\n  height: 100%;\n}\n.app_main .panle .el-col .panle-box .left .title {\n  font-size: 14px;\n  letter-spacing: 1px;\n  font-weight: bold;\n  height: 30px;\n  line-height: 30px;\n  color: gray;\n}\n.app_main .panle .el-col .panle-box .left .data {\n  font-size: 24px;\n  font-weight: bold;\n  height: 40px;\n  line-height: 40px;\n}\n.app_main .panle .el-col .panle-box .right {\n  float: left;\n  width: 30%;\n  height: 100%;\n  text-align: center;\n}\n.app_main .panle .el-col .panle-box .right img {\n  margin-top: -5px;\n  width: 80px;\n  height: 80px;\n}\n.app_main .app_main_header_row {\n  min-width: 1200px;\n}\n.btn {\n  padding-left: 5px;\n  padding-right: 5px;\n  letter-spacing: 1px;\n  width: 60px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.box {\n  width: 55%;\n  height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.box .card {\n  background: #ffffff;\n  text-align: left;\n  padding: 1.5rem 1.5rem;\n  padding-bottom: 1rem;\n}\n.box .card .card-header {\n  margin-top: -30px;\n  height: 40px;\n  line-height: 40px;\n  border-bottom: 3px solid #F4F4F4;\n  margin-bottom: 15px;\n  margin-top: -5px;\n}\n.box .card .card-mark .card-mark-text {\n  display: block;\n  font-size: 13px;\n  color: gray;\n  margin-top: 10px;\n}\n.box .card .card-mark .card-mark-icon {\n  margin-top: 0.5rem;\n}\n.box .card .card-footer {\n  background: #fff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 20px;\n}\n.box .card .card-footer .btn {\n  width: 106px;\n  border-radius: 4px;\n  color: #fff;\n}\n.box .card .el-form-item__error {\n  margin-left: 0%;\n}\n.box .btn_150 {\n  letter-spacing: 5px !important;\n  width: 150px !important;\n  font-size: 15px;\n}\n.box .btn_50 {\n  width: 50px;\n}\n.box .upload-btn,\n.dialog-view .upload-btn {\n  background-color: #409EFF;\n  border-color: #409EFF;\n  color: #FFF;\n  border-radius: 3px 3px;\n  border: 0px;\n  width: 80px;\n  height: 35px;\n  margin-left: 5px;\n  outline: none;\n  cursor: pointer;\n}\n.box .upload-btn:hover,\n.dialog-view .upload-btn:hover {\n  background-color: #66b1ff;\n}\n.box .upload-btn:active,\n.dialog-view .upload-btn:active {\n  background-color: #409EFF;\n}\n.guide_step_part {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 0 25px;\n}\n.guide_step_part .bottom_line {\n  position: absolute;\n  border-color: #ddd;\n  border-width: 1px;\n  border-style: dashed;\n  z-index: 0;\n  width: 51%;\n  min-width: 420px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.guide_step_part .guide_step_item {\n  text-align: center;\n  position: relative;\n  width: 30px;\n  height: 30px;\n  line-height: 28px;\n  border-radius: 15px;\n  border: 1px solid #ddd;\n  background: #fff;\n  z-index: 1;\n}\n.guide_step_part .guide_step_item img {\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  display: none;\n}\n.guide_step_part .guide_step_item p {\n  position: absolute;\n  bottom: -30px;\n  left: -39px;\n  font-size: 12px;\n  width: 108px;\n  text-align: center;\n  margin-bottom: 0;\n  color: #333;\n}\n.guide_step_part .guide_step_complated span {\n  display: none;\n}\n.guide_step_part .guide_step_complated img {\n  display: block;\n}\n.guide_step_part .guide_step_active {\n  color: #fff;\n  background: #017CFF;\n  border-color: #017CFF;\n}\n.guide_step_part .guide_step_active p {\n  font-size: 14px;\n  color: #017CFF;\n}\n.application_header .header_left_part .nav_link {\n  display: inline-block;\n  float: left;\n  margin-left: 20px;\n  line-height: 30px;\n}\n.application_header .header_left_part .nav_link a span {\n  font-size: 13px;\n  cursor: pointer;\n  margin-right: 1.5px;\n  margin-left: 1.5px;\n}\n.application_header .header_left_part .nav_link .nav_icon {\n  font-size: 12px;\n  font-weight: bold;\n}\n.application_header .header_left_part .nav_link .nav_title_last {\n  cursor: text;\n}\n.application_header .header_right_part {\n  float: right;\n}\n.application_header .header_right_part .nav_link {\n  display: inline-block;\n  line-height: 30px;\n}\n.application_header .header_right_part .nav_link a span {\n  font-size: 13px;\n  cursor: pointer;\n  margin-right: 20px;\n}\n.application_header .header_right_part .role_select {\n  display: inline-block;\n  margin-right: 20px;\n}\n.application_header .header_right_part .role_select .el-input__inner {\n  height: 30px !important;\n  width: 198px;\n}\n.application_header .header_right_part .role_select .el-input__icon {\n  line-height: 30px !important;\n}\n.section_main {\n  padding-top: 40px;\n  padding-bottom: 40px;\n}\n.section_main .bg_color {\n  background-color: #F4F4F4;\n}\n.section_main .bg_color p,\n.section_main .bg_color div {\n  background-color: #F4F4F4;\n}\n.dialog-view .el-dialog {\n  margin-top: 8vh !important;\n}\n.dialog-view .el-dialog__body {\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #D3D3D3;\n  border-top: 1px solid #D3D3D3;\n}\n.dialog-view .width_100 {\n  width: 100%;\n}\n.dialog-view .deployMessage {\n  min-height: 180px;\n}\n.dialog-view .deployMessage p {\n  line-height: 30px;\n  font-size: 13px;\n}\nform .el-form-item__label {\n  font-weight: bold;\n}\nform .mark-icon {\n  clear: both;\n  display: block;\n  line-height: 16px;\n  font-size: 12px;\n  padding-bottom: 8px;\n}\nform .mark-icon .icon_question {\n  color: #017CFF !important;\n}\nform .mark-text {\n  clear: both;\n  display: block;\n  font-size: 12px;\n  color: gray;\n  line-height: 18px;\n  padding-bottom: 8px;\n}\nform .mark-bottom {\n  clear: both;\n  display: block;\n  font-size: 12px;\n  color: gray;\n  line-height: 18px;\n  padding-top: 8px;\n}\nform .mark-red {\n  color: red;\n  margin-bottom: -10px;\n}\nform .mark-line span {\n  color: #017CFF;\n  font-size: 12px;\n  cursor: pointer;\n}\n.deployDetail .el-row {\n  border-bottom: 1px solid #D3D3D3;\n  line-height: 40px;\n  min-height: 40px;\n  margin-bottom: 0px;\n  margin-top: 0px;\n}\n.deployDetail .el-row .value:hover {\n  background-color: rgba(0, 0, 0, 0.075);\n}\n.deployDetail .title {\n  font-size: 0.8rem;\n}\n.deployDetail .bold {\n  font-weight: bold;\n}\n.deployDetail .none-border {\n  border-bottom: 0px;\n}\n.deployDetail .line-height-24 {\n  padding-top: 15px;\n  padding-bottom: 15px;\n  line-height: 24px;\n}\n.deployDetail .value {\n  font-size: 0.8rem;\n  padding-left: 10px;\n}\n.select_part .el-textarea__inner {\n  background-color: #ffffff !important;\n}\n.select_part input {\n  width: 100%;\n  border: 0;\n  margin: 0px;\n  padding: 0px;\n  outline: none;\n}\n.select_part textarea {\n  width: 100%;\n  border: 0;\n  margin: 0px;\n  padding: 0px;\n  outline: none;\n  resize: none;\n  height: 130px;\n}\nhtml,\nbody,\ndiv,\np,\nul,\nli,\ntextarea {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  font-family: "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;\n}\na {\n  text-decoration: none;\n}\nli {\n  list-style: none;\n}\nhtml,\nbody,\n#app {\n  height: 100%;\n}\n.container {\n  max-width: 1140px;\n  margin: auto;\n  overflow: hidden;\n}\n.status {\n  font-weight: bold;\n}\n.form_option {\n  color: #017CFF;\n  margin-right: 5px;\n  cursor: pointer;\n}\n.btns {\n  display: block;\n  background: #017CFF;\n  border-radius: 4px;\n  outline: none;\n  border: 0;\n  color: #fff;\n  margin: auto;\n}\n.input_error_word {\n  bottom: -22px;\n  z-index: 0 !important;\n  animation: show-error 0.3s;\n  -moz-animation: show-error 0.3s;\n  -webkit-animation: show-error 0.3s;\n  -o-animation: show-error 0.3s;\n}\n.input_error {\n  border-color: #E92A2A !important;\n}\n.index_header {\n  background: #fff;\n  border-bottom: 1px solid #ddd;\n}\n.index_header .header_part {\n  height: 64px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.index_header .header_part .nav_part {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.index_header .header_part .nav_part a {\n  height: 61px;\n  margin: 0 20px;\n  border-bottom: 3px solid transparent;\n  color: rgba(255, 255, 255, 0.8);\n  line-height: 64px;\n  font-size: 16px;\n  font-weight: normal;\n  cursor: pointer;\n}\n.index_header .header_part .nav_part a::first-child {\n  margin-left: 0;\n}\n.index_header .header_part .nav_part a::last-child {\n  margin-right: 0;\n}\n.index_header .header_part .nav_part a:hover {\n  color: #fff;\n}\n.index_header .header_part .nav_part .isActive {\n  color: #fff;\n  font-weight: bold;\n  border-bottom-color: #fff;\n}\n.index_header_black {\n  background: #1D1E1C;\n  border-color: #1D1E1C;\n}\n.index_advantage {\n  width: 100%;\n  height: 547px;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#173196), to(#00036C));\n  background-image: linear-gradient(180deg, #173196 0%, #00036C 100%);\n}\n.index_advantage .container {\n  height: 100%;\n}\n.index_advantage .index_top_part {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 100%;\n}\n.index_advantage .index_top_part .word_part {\n  max-width: 662px;\n}\n.index_advantage .index_top_part .word_part .index_top_title {\n  font-size: 54px;\n  color: #fff;\n}\n.index_advantage .index_top_part .word_part .index_top_des {\n  font-size: 18px;\n  color: #fff;\n  margin: 26px 0 36px;\n  line-height: 34px;\n}\n.index_advantage .index_top_part .word_part .index_top_links a {\n  background-color: transparent;\n  border: 1px solid #FFFFFF;\n  border-radius: 8px;\n  font-size: 18px;\n  color: #fff;\n  width: 136px;\n  height: 50px;\n  text-align: center;\n  line-height: 50px;\n  margin-right: 20px;\n  display: inline-block;\n}\n.index_advantage .index_top_part .word_part .index_top_links a:first-child {\n  color: #017CFF;\n  background-color: #fff;\n}\n.part_title {\n  font-size: 44px;\n  margin: 80px auto 68px;\n  text-align: center;\n}\n.index_produce {\n  width: 100%;\n  height: 586px;\n  background: #fff;\n}\n.index_produce .container .part_title {\n  color: #022044;\n}\n.index_produce .container .index_produce_list {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n}\n.index_produce .container .index_produce_list .index_produce_item {\n  background: #FFFFFF;\n  border: 1px solid #DDDDDD;\n  border-radius: 8px;\n  width: 276px;\n  height: 295px;\n  padding: 36px 32px 0 32px;\n}\n.index_produce .container .index_produce_list .index_produce_item img {\n  display: block;\n}\n.index_produce .container .index_produce_list .index_produce_item .produce_item_title {\n  font-family: PingFangSC-Medium;\n  color: #022044;\n  margin: 24px 0;\n}\n.index_produce .container .index_produce_list .index_produce_item .produce_item_des {\n  font-family: PingFangSC-Regular;\n  font-size: 14px;\n  color: #4E545A;\n  line-height: 24px;\n}\n.index_features {\n  background: #F4F8FF;\n  height: 667px;\n}\n.index_features .index_features_list {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.index_features .index_features_list .index_features_item {\n  width: 558px;\n  height: 176px;\n  border: 1px solid #B5C3F2;\n  border-radius: 8px;\n  margin-bottom: 24px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 32px 43px 0 43px;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n.index_features .index_features_list .index_features_item img {\n  margin-right: 28px;\n}\n.index_features .index_features_list .index_features_item .word_part .features_item_title {\n  font-family: PingFangSC-Medium;\n  font-size: 18px;\n  color: #022044;\n  height: 30px;\n  line-height: 30px;\n  margin-bottom: 24px;\n}\n.index_features .index_features_list .index_features_item .word_part .features_item_des {\n  font-family: PingFangSC-Regular;\n  font-size: 14px;\n  color: #4E545A;\n}\n.index_scense {\n  height: 580px;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#173196), to(#00036C));\n  background-image: linear-gradient(180deg, #173196 0%, #00036C 100%);\n}\n.index_scense .container .part_title {\n  color: #fff;\n}\n.index_scense .container .index_produce_list .index_produce_item {\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  width: 269px;\n  height: 288px;\n  border: 0;\n}\n.index_scense .container .index_produce_list .index_produce_item .produce_item_title {\n  color: #FFFFFF;\n}\n.index_scense .container .index_produce_list .index_produce_item .produce_item_des {\n  color: #FFFFFF;\n}\n.index_case {\n  background: #fff;\n}\n.index_case .part_title {\n  margin-top: 128px;\n}\n.index_case .index_case_list {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 80px auto 160px;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.index_case .index_case_list .index_case_item {\n  width: 356px;\n  height: 102px;\n  border: 1px solid #D0D0D0;\n}\n.index_case .index_case_list .index_case_item:nth-child(2) {\n  margin: auto 24px;\n}\n.foot-bar {\n  font-family: PingFangSC-Regular;\n  font-size: 16px;\n  color: #888880;\n  text-align: center;\n  height: 100px;\n  background: #F4F4F4;\n  line-height: 100px;\n}\n.login_part {\n  height: 100%;\n  background: #F4F4F4;\n}\n.login_part .input_part {\n  width: 420px;\n  height: 442px;\n  background: #FFFFFF;\n  padding: 35px;\n  margin: auto;\n  margin-top: 80px;\n}\n.login_part .input_part .input_part_title {\n  display: inline-block;\n  color: #022044;\n  font-weight: bold;\n  font-size: 18px;\n  padding-bottom: 10px;\n  border-bottom: 3px solid #017CFF;\n}\n.login_part .input_part .input_part_item {\n  width: 100%;\n  margin-top: 30px;\n  position: relative;\n  height: 50px;\n}\n.login_part .input_part .input_part_item input {\n  display: block;\n  width: 100%;\n  height: 100%;\n  border: 1px solid #ddd;\n  font-size: 16px;\n  padding: 0 12px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  z-index: 1;\n}\n.login_part .input_part .input_part_item span {\n  position: absolute;\n  right: 12px;\n  top: 14px;\n  cursor: pointer;\n}\n.login_part .input_part .input_part_item .get_code {\n  color: #017CFF;\n}\n.login_part .input_part .input_part_item .watting_code {\n  color: #7E90A5;\n}\n.login_part .input_part .input_part_item p {\n  position: absolute;\n  color: #E92A2A;\n  font-size: 12px;\n  z-index: -1;\n}\n.login_part .input_part .login_btn {\n  display: block;\n  width: 100%;\n  background-color: #017CFF;\n  color: #fff;\n  font-size: 18px;\n  height: 50px;\n  margin-top: 30px;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n}\n.login_part .input_part .input_part_remark {\n  margin-top: 26px;\n  font-size: 12px;\n  color: #333;\n  line-height: 18px;\n}\n.login_part .input_part .input_part_remark a {\n  color: #017CFF;\n}\n.login_part .foot-bar {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n}\n.content_part {\n  width: 516px;\n  height: 566px;\n  margin: auto;\n  margin-top: 49px;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 35px 54px;\n}\n.content_part .toast_part {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n}\n.content_part .content_part_title {\n  font-family: PingFangSC-Medium;\n  font-size: 21px;\n  color: #333;\n  text-align: center;\n}\n.content_part .content_part_des {\n  font-family: PingFangSC-Regular;\n  font-size: 12px;\n  color: #999;\n  line-height: 20px;\n  margin: 30px auto;\n}\n.content_part .content_input_part {\n  position: relative;\n  margin-bottom: 30px;\n}\n.content_part .content_input_part span {\n  position: absolute;\n  left: -20px;\n  top: 5px;\n  color: #FF0000;\n}\n.content_part .content_input_part p {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 10px;\n}\n.content_part .content_input_part input {\n  display: block;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 100%;\n  padding: 0 12px;\n  border: 1px solid #DDDDDD;\n  height: 44px;\n}\n.content_part .content_input_part .form_input {\n  bottom: -24px;\n  margin-bottom: 0;\n  position: absolute;\n  color: #E92A2A;\n  z-index: -1;\n}\n.content_part .submit_btn {\n  display: block;\n  width: 124px;\n  height: 44px;\n  margin: auto;\n  border-radius: 4px;\n  color: #fff;\n  background-color: #017CFF;\n  outline: none;\n  border: 0;\n}\n.connect_part .toast_part {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.connect_part .toast_part .toast_content {\n  width: 452px;\n  height: 232px;\n  background-color: #FFFFFF;\n  border-radius: 4px;\n}\n.connect_part .toast_part .toast_content .toast_title {\n  text-align: center;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-top: 48px;\n}\n.connect_part .toast_part .toast_content .toast_title img {\n  margin-right: 12px;\n}\n.connect_part .toast_part .toast_content .toast_des {\n  text-align: center;\n  margin-top: 20px;\n}\n.connect_part .toast_part .toast_content button {\n  display: block;\n  width: 130px;\n  height: 40px;\n  margin: auto;\n  border-radius: 4px;\n  color: #fff;\n  background-color: #017CFF;\n  outline: none;\n  border: 0;\n  margin-top: 24px;\n}\n.calibration_part .calibration_title {\n  margin: 62px auto 48px;\n  font-size: 24px;\n  color: #333;\n  text-align: center;\n}\n.calibration_part .check_part {\n  width: 500px;\n  height: 274px;\n  background-color: #fff;\n  margin: auto;\n}\n.calibration_part .check_part .header_part {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.calibration_part .check_part .header_part p {\n  width: 50%;\n  border-right: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  border-top: 2px solid transparent;\n  height: 50px;\n  line-height: 50px;\n  font-size: 16px;\n  color: #333;\n  text-align: center;\n}\n.calibration_part .check_part .header_part p:nth-child(2) {\n  border-right: 0;\n}\n.calibration_part .check_part .header_part .isActive {\n  border-top-color: #017CFF;\n  border-bottom-color: transparent;\n}\n.calibration_part .check_part input {\n  display: block;\n  width: 444px;\n  height: 43px;\n  line-height: 43px;\n  border: 1px solid #DDDDDD;\n  border-radius: 4px;\n  padding: 0 12px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin: 50px auto 36px;\n}\n.calibration_part .check_part button {\n  display: block;\n  width: 120px;\n  height: 44px;\n  margin: auto;\n  border-radius: 4px;\n  color: #fff;\n  background-color: #017CFF;\n  outline: none;\n  border: 0;\n}\n.calibration_part .check_part .check_res {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-top: 59px;\n  margin-bottom: 41px;\n  font-size: 14px;\n  color: #333;\n}\n.calibration_part .check_part .check_res img {\n  margin-right: 12px;\n}\n.calibration_part .check_part .hash_part_input {\n  position: relative;\n}\n.calibration_part .check_part .hash_part_input .file_input {\n  height: auto;\n  line-height: normal;\n  padding: 10px 12px;\n}\n.calibration_part .check_part .hash_part_input p {\n  position: absolute;\n  bottom: -24px;\n  color: #E92A2A;\n  left: 30px;\n  font-size: 12px;\n  z-index: -1;\n}\n.app_view_title {\n  font-size: 18px;\n  color: #333;\n  margin-bottom: 20px;\n  font-family: PingFangSC-Medium;\n  font-weight: bold;\n}\n.app_view_title_sm {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 20px;\n  font-family: PingFangSC-Medium;\n  font-weight: bold;\n}\n.app_view_title_sm .span_remark {\n  font-weight: normal;\n  font-size: 12px;\n  color: #827F7F;\n}\n.deposit,\n.app_view_block,\n.app_view_tips,\n.app_view {\n  height: 100%;\n  background-color: #fff;\n  min-width: 605px;\n  padding: 20px 30px;\n}\n.deposit .depostit_data,\n.app_view_block .depostit_data,\n.app_view_tips .depostit_data,\n.app_view .depostit_data {\n  height: 100%;\n}\n.deposit .depostit_data .el-tabs,\n.app_view_block .depostit_data .el-tabs,\n.app_view_tips .depostit_data .el-tabs,\n.app_view .depostit_data .el-tabs {\n  height: 100%;\n  position: relative;\n}\n.deposit .depostit_data .el-tabs__content,\n.app_view_block .depostit_data .el-tabs__content,\n.app_view_tips .depostit_data .el-tabs__content,\n.app_view .depostit_data .el-tabs__content {\n  position: absolute;\n  top: 70px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: auto;\n}\n.deposit .depostit_data .el-tab-pane,\n.app_view_block .depostit_data .el-tab-pane,\n.app_view_tips .depostit_data .el-tab-pane,\n.app_view .depostit_data .el-tab-pane {\n  height: 100%;\n}\n.deposit .depostit_data .el-tabs__nav-wrap::after,\n.app_view_block .depostit_data .el-tabs__nav-wrap::after,\n.app_view_tips .depostit_data .el-tabs__nav-wrap::after,\n.app_view .depostit_data .el-tabs__nav-wrap::after {\n  background-color: transparent;\n}\n.deposit .depostit_data .el-tabs__item,\n.app_view_block .depostit_data .el-tabs__item,\n.app_view_tips .depostit_data .el-tabs__item,\n.app_view .depostit_data .el-tabs__item {\n  font-size: 16px;\n  color: #333;\n}\n.deposit .depostit_data .el-tabs__active-bar,\n.app_view_block .depostit_data .el-tabs__active-bar,\n.app_view_tips .depostit_data .el-tabs__active-bar,\n.app_view .depostit_data .el-tabs__active-bar {\n  background-color: #017CFF;\n}\n.deposit .upload_file,\n.app_view_block .upload_file,\n.app_view_tips .upload_file,\n.app_view .upload_file,\n.deposit .wrapper,\n.app_view_block .wrapper,\n.app_view_tips .wrapper,\n.app_view .wrapper {\n  height: 100%;\n  position: relative;\n}\n.deposit .upload_file .file_data,\n.app_view_block .upload_file .file_data,\n.app_view_tips .upload_file .file_data,\n.app_view .upload_file .file_data,\n.deposit .wrapper .file_data,\n.app_view_block .wrapper .file_data,\n.app_view_tips .wrapper .file_data,\n.app_view .wrapper .file_data {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  margin-bottom: 36px;\n}\n.deposit .upload_file .file_data .file_data_item,\n.app_view_block .upload_file .file_data .file_data_item,\n.app_view_tips .upload_file .file_data .file_data_item,\n.app_view .upload_file .file_data .file_data_item,\n.deposit .wrapper .file_data .file_data_item,\n.app_view_block .wrapper .file_data .file_data_item,\n.app_view_tips .wrapper .file_data .file_data_item,\n.app_view .wrapper .file_data .file_data_item {\n  width: 48%;\n  border: 1px solid #DDDDDD;\n  height: 134px;\n  padding: 30px 36px;\n  color: #333;\n}\n.deposit .upload_file .file_data .file_data_item .file_data_title,\n.app_view_block .upload_file .file_data .file_data_item .file_data_title,\n.app_view_tips .upload_file .file_data .file_data_item .file_data_title,\n.app_view .upload_file .file_data .file_data_item .file_data_title,\n.deposit .wrapper .file_data .file_data_item .file_data_title,\n.app_view_block .wrapper .file_data .file_data_item .file_data_title,\n.app_view_tips .wrapper .file_data .file_data_item .file_data_title,\n.app_view .wrapper .file_data .file_data_item .file_data_title {\n  font-size: 16px;\n}\n.deposit .upload_file .file_data .file_data_item .file_data_des,\n.app_view_block .upload_file .file_data .file_data_item .file_data_des,\n.app_view_tips .upload_file .file_data .file_data_item .file_data_des,\n.app_view .upload_file .file_data .file_data_item .file_data_des,\n.deposit .wrapper .file_data .file_data_item .file_data_des,\n.app_view_block .wrapper .file_data .file_data_item .file_data_des,\n.app_view_tips .wrapper .file_data .file_data_item .file_data_des,\n.app_view .wrapper .file_data .file_data_item .file_data_des {\n  margin-top: 12px;\n  font-size: 28px;\n}\n.deposit .upload_file .file_data .file_data_item .file_data_des span,\n.app_view_block .upload_file .file_data .file_data_item .file_data_des span,\n.app_view_tips .upload_file .file_data .file_data_item .file_data_des span,\n.app_view .upload_file .file_data .file_data_item .file_data_des span,\n.deposit .wrapper .file_data .file_data_item .file_data_des span,\n.app_view_block .wrapper .file_data .file_data_item .file_data_des span,\n.app_view_tips .wrapper .file_data .file_data_item .file_data_des span,\n.app_view .wrapper .file_data .file_data_item .file_data_des span {\n  font-size: 16px;\n}\n.deposit .upload_file .el-pagination,\n.app_view_block .upload_file .el-pagination,\n.app_view_tips .upload_file .el-pagination,\n.app_view .upload_file .el-pagination,\n.deposit .wrapper .el-pagination,\n.app_view_block .wrapper .el-pagination,\n.app_view_tips .wrapper .el-pagination,\n.app_view .wrapper .el-pagination {\n  margin-top: 10px;\n  text-align: right !important;\n}\n.deposit .upload_file .file_form_data,\n.app_view_block .upload_file .file_form_data,\n.app_view_tips .upload_file .file_form_data,\n.app_view .upload_file .file_form_data,\n.deposit .wrapper .file_form_data,\n.app_view_block .wrapper .file_form_data,\n.app_view_tips .wrapper .file_form_data,\n.app_view .wrapper .file_form_data {\n  border: 1px solid #ddd;\n  padding: 20px 32px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.deposit .upload_file .file_form_data .file_form_title,\n.app_view_block .upload_file .file_form_data .file_form_title,\n.app_view_tips .upload_file .file_form_data .file_form_title,\n.app_view .upload_file .file_form_data .file_form_title,\n.deposit .wrapper .file_form_data .file_form_title,\n.app_view_block .wrapper .file_form_data .file_form_title,\n.app_view_tips .wrapper .file_form_data .file_form_title,\n.app_view .wrapper .file_form_data .file_form_title {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 20px;\n}\n.deposit .upload_file .file_form_data .file_form_title p,\n.app_view_block .upload_file .file_form_data .file_form_title p,\n.app_view_tips .upload_file .file_form_data .file_form_title p,\n.app_view .upload_file .file_form_data .file_form_title p,\n.deposit .wrapper .file_form_data .file_form_title p,\n.app_view_block .wrapper .file_form_data .file_form_title p,\n.app_view_tips .wrapper .file_form_data .file_form_title p,\n.app_view .wrapper .file_form_data .file_form_title p {\n  opacity: 0.85;\n  font-family: PingFangSC-Medium;\n  font-size: 16px;\n  color: #000000;\n  line-height: 24px;\n  font-weight: bold;\n}\n.deposit .upload_file .file_form_data .file_form_title button,\n.app_view_block .upload_file .file_form_data .file_form_title button,\n.app_view_tips .upload_file .file_form_data .file_form_title button,\n.app_view .upload_file .file_form_data .file_form_title button,\n.deposit .wrapper .file_form_data .file_form_title button,\n.app_view_block .wrapper .file_form_data .file_form_title button,\n.app_view_tips .wrapper .file_form_data .file_form_title button,\n.app_view .wrapper .file_form_data .file_form_title button {\n  width: 98px;\n  height: 36px;\n  background: #017CFF;\n  border-radius: 4px;\n  border: 0;\n  outline: none;\n  color: #fff;\n}\n.deposit .upload_file .file_form_data .file_form_title a,\n.app_view_block .upload_file .file_form_data .file_form_title a,\n.app_view_tips .upload_file .file_form_data .file_form_title a,\n.app_view .upload_file .file_form_data .file_form_title a,\n.deposit .wrapper .file_form_data .file_form_title a,\n.app_view_block .wrapper .file_form_data .file_form_title a,\n.app_view_tips .wrapper .file_form_data .file_form_title a,\n.app_view .wrapper .file_form_data .file_form_title a {\n  color: #017CFF;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__header .el-dialog__title {\n  font-size: 14px;\n  color: #333;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload {\n  width: 560px;\n  height: 160px;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger {\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  margin-bottom: 10px;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_top_des img {\n  margin-right: 10px;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload-demo .el-upload .el-upload-dragger .upload_des .upload_bottom_des {\n  color: #7E90A5;\n  font-size: 14px;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .upload_btn {\n  display: block;\n  margin: auto;\n  border-radius: 4px;\n  outline: none;\n  border: 0;\n  background: #F4F4F4;\n  border: 1px solid #DDDDDD;\n  width: 108px;\n  height: 40px;\n  font-size: 16px;\n  color: #999999;\n  margin-top: 64px;\n}\n.deposit .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.app_view_block .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.app_view_tips .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.app_view .upload_file .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.deposit .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.app_view_block .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.app_view_tips .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .btns,\n.app_view .wrapper .el-dialog__wrapper .el-dialog .el-dialog__body .btns {\n  background: #017CFF;\n  color: #fff;\n}\n.app_view_block .interFace .file_form_data {\n  top: 0px;\n}\n.role_check {\n  width: 500px;\n  height: 516px;\n  background: #FFFFFF;\n  border: 1px solid #DDDDDD;\n  border-radius: 4px;\n  margin: auto;\n  margin-top: 80px;\n}\n.role_check .role_img {\n  display: block;\n  margin: 48px auto 20px;\n}\n.role_check .role_title {\n  text-align: center;\n  font-size: 18px;\n  color: #333;\n}\n.role_check .role_guide {\n  margin-top: 48px;\n  color: #333;\n}\n.role_check .role_guide .role_guide_title {\n  font-size: 14px;\n  line-height: 22px;\n  margin-left: 61px;\n}\n.role_check .role_guide .role_guide_des {\n  font-size: 14px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 8px;\n  margin-top: 12px;\n  margin-left: 61px;\n}\n.role_check .role_guide .role_guide_des i {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  border-radius: 3px;\n  background-color: #017CFF;\n  margin-right: 10px;\n}\n.role_check .role_guide .role_guide_remark {\n  font-size: 14px;\n  margin-left: 61px;\n  color: #7E90A5;\n  line-height: 18px;\n  margin-top: 8px;\n}\n.role_check .role_guide .role_guide_btn {\n  width: 176px;\n  height: 44px;\n  margin-top: 48px;\n}\n.role_check .step1 {\n  width: 348px;\n  margin: auto;\n}\n.role_check .step1 .role_infor {\n  margin-top: 84px;\n}\n.role_check .step1 .role_infor .role_infor_input {\n  height: 40px;\n  position: relative;\n  margin-bottom: 30px;\n}\n.role_check .step1 .role_infor .role_infor_input i {\n  position: absolute;\n  color: #FF0000;\n  left: -15px;\n  top: 15px;\n}\n.role_check .step1 .role_infor .role_infor_input input {\n  width: 100%;\n  height: 100%;\n  border: 1px solid #ddd;\n  font-size: 14px;\n  padding-left: 10px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.role_check .step1 .role_infor .role_infor_input p {\n  position: absolute;\n  color: #E92A2A;\n  bottom: -24px;\n  z-index: -1;\n  font-size: 14px;\n}\n.role_check .step1 .role_infor .btns {\n  width: 100%;\n  height: 44px;\n}\n.role_check .step2 .role_infor {\n  margin-top: 54px;\n  position: relative;\n}\n.role_check .step2 .role_infor #qrcode img {\n  margin: auto;\n}\n.role_check .step2 .role_infor .code_reflush {\n  position: absolute;\n  top: 62px;\n  width: 100%;\n  text-align: center;\n}\n.role_check .step2 .role_infor .code_reflush p {\n  font-size: 12px;\n  margin-bottom: 8px;\n}\n.role_check .step2 .role_infor .code_reflush .el-button--mini {\n  background-color: #017CFF;\n  border-color: #017CFF;\n}\n.role_check .step2 .role_infor .role_infor_remark {\n  text-align: center;\n  font-size: 12px;\n  color: #333;\n  margin-top: 12px;\n}\n.role_check .guide_result .role_result {\n  margin-top: 84px;\n}\n.role_check .guide_result .role_result img {\n  display: block;\n  margin: auto;\n}\n.role_check .guide_result .role_result .result_title {\n  margin-top: 16px;\n  font-size: 16px;\n  color: #333;\n  margin-bottom: 16px;\n  text-align: center;\n}\n.role_check .guide_result .role_result .result_remark {\n  font-size: 12px;\n  color: #333;\n  margin-bottom: 16px;\n  text-align: center;\n}\n.role_check .guide_result .role_result .btns {\n  padding: 12px 30px;\n  margin-top: 4px;\n}\n.step_line {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  width: 294px;\n  margin: auto;\n  margin-top: 50px;\n}\n.step_line .line {\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  background-color: #cacaca;\n  top: 4px;\n}\n.step_line .step_item {\n  position: relative;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n  background-color: #cacaca;\n}\n.step_line .step_item span {\n  position: absolute;\n  width: 96px;\n  text-align: center;\n  left: -45px;\n  top: 15px;\n  font-size: 14px;\n  color: #333;\n}\n.step_line .step_act_tiem {\n  background-color: #017CFF;\n}\n.step_line .step_act_tiem span {\n  color: #000;\n  font-size: 16px;\n}\n.app_view_block {\n  margin-bottom: 30px;\n}\n.app_view_tips {\n  margin-top: 30px;\n  background-color: rgba(30, 83, 164, 0.09);\n}\n.app_view_block .wrapper {\n  margin: 5px;\n  height: 80px;\n}\n.app_view_tips .wrapper .tips {\n  margin-bottom: 8px;\n}\n.app_view_tips .wrapper .tips .title {\n  font-weight: bold;\n  font-size: 13px;\n}\n.app_view_tips .wrapper .tips .content {\n  margin-top: 5px;\n  font-size: 12px;\n}\n.app_view_tips .wrapper .tips .content p {\n  line-height: 20px;\n}\n.app_view_block .wrapper .user_image {\n  border: 0px solid red;\n  display: block;\n  height: 100%;\n  float: left;\n  width: 95px;\n}\n.app_view_block .wrapper .user_image .user_image_inner {\n  background-color: #333;\n  height: 100%;\n  width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 50%;\n  text-align: center;\n}\n.app_view_block .wrapper .user_content {\n  border: 0px solid red;\n  display: block;\n  height: 100%;\n  float: left;\n  min-width: 300px;\n}\n.app_view_block .wrapper .user_content div {\n  padding-left: 30px;\n  height: 50%;\n  line-height: 40px;\n}\n.app_view_block .wrapper .line_div div {\n  line-height: 40px;\n}\n.data_span {\n  font-size: 14px;\n}\n.data_value_span {\n  font-size: 14px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.space_span {\n  padding-left: 30px;\n  padding-right: 30px;\n}\n.space_span_sm {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.title_div {\n  font-weight: bold;\n}\n.el-button--default {\n  color: #fff;\n  padding: 8px 0px;\n}\n.el-button--default:focus,\n.el-button--default:hover {\n  color: #fff !important;\n}\n.el-message-box__message {\n  font-size: 13px;\n  color: #101010;\n}\n.el-checkbox-group {\n  line-height: 30px;\n}\n.app_view_content {\n  width: 100%;\n  height: 100%;\n}\n.app_view_content .app_view_register {\n  min-height: 100%;\n}\n.app_view_content .app_view_register .bt-part {\n  margin-top: 25px;\n  text-align: center;\n}\n.app_view_content .app_view_register .bt-part .el-button {\n  width: 200px !important;\n}\n.el-message-box__wrapper {\n  top: -450px;\n}\n.el-message-box__wrapper .el-button--default {\n  padding: 9px 15px;\n}\n.el-message-box__wrapper .el-message-box {\n  min-width: 420px;\n  width: auto;\n}\n.el-message-box__wrapper .el-message-box .el-message-box__header {\n  border-bottom: 1px solid #D3D3D3;\n}\n.jsoneditor-container {\n  height: 300px;\n}\n.jsoneditor-container .jsoneditor-sort,\n.jsoneditor-container .jsoneditor-transform,\n.jsoneditor-container .jsoneditor-repair {\n  display: none;\n}\n.jsoneditor-container .jsoneditor-poweredBy {\n  display: none;\n}\n.el-form-item {\n  margin-bottom: 18px !important;\n}\n.log-view {\n  margin: 0px;\n  padding: 0px;\n  padding-top: 15px;\n  padding-bottom: 80px;\n}\n.log-view pre {\n  padding-left: 30px;\n  color: green;\n  font-size: 13px;\n  line-height: 18px;\n}\n.el-icon-menu-self {\n  margin-left: -15px;\n  margin-top: 20px;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  left: 5px;\n}\n.el-icon-menu-1 {\n  background-image: url('+n+");\n  background-repeat: no-repeat;\n}\n.el-icon-menu-2 {\n  background-image: url("+l+");\n  background-repeat: no-repeat;\n}\n.el-icon-menu-3 {\n  background-image: url("+o+");\n  background-repeat: no-repeat;\n}\n.el-icon-menu-4 {\n  background-image: url("+s+");\n  background-repeat: no-repeat;\n}\n.el-icon-menu-5 {\n  background-image: url("+r+");\n  background-repeat: no-repeat;\n}\n.el-menu-item {\n  color: rgba(255, 255, 255, 0.8) !important;\n}\n.is-active {\n  color: #ffd04b !important;\n}\n.el-submenu__title span {\n  color: rgba(255, 255, 255, 0.8) !important;\n}\n.is-opened .el-submenu__title span {\n  color: #ffffff !important;\n}\n",""])},"/s9r":function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h3",[this._v("WeID 账户")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-mark"},[t("div",{staticClass:"card-mark-text"},[this._v("当前管理员的 WeID")]),this._v(" "),t("div",{staticClass:"card-mark-icon"},[t("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#weid",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("什么是管理员？")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning bg_color",staticStyle:{right:"-160px"}},[t("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#weid",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{accountForm:{account:""},dialog:{dialogUserListVisible:!1,userListPage:{userList:[],pageIndex:1,pageSize:5,total:0,selectedRow:null}},useWeBase:!1}},methods:{createAdminByWeBase:function(){var t=this,e={};e.userId=this.dialog.userListPage.selectedRow.userId,n.a.doPost("webase/createAdmin",e).then((function(e){0===e.data.errorCode?(t.$alert("账户切换成功!","温馨提示",{}).catch((function(){})),t.dialog.dialogUserListVisible=!1,t.init()):t.$alert("账户切换失败!","温馨提示",{}).catch((function(){}))}))},showUserList:function(){this.queryUserList()},chooseUser:function(){var t=this;if(null!==this.dialog.userListPage.selectedRow){var e=this.dialog.userListPage.selectedRow.address;this.$confirm("确定使用["+e+"]作为WeID的账户吗?","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary",dangerouslyUseHTMLString:!0}).then((function(e){t.createAdminByWeBase()})).catch((function(){}))}else this.$alert("请选择用户!","温馨提示",{}).catch((function(){}))},indexChange:function(t){this.dialog.userListPage.pageIndex=t,this.queryUserList()},queryUserList:function(){var t=this,e={};e.pageIndex=this.dialog.userListPage.pageIndex,e.pageSize=this.dialog.userListPage.pageSize,n.a.doGet("webase/queryUserList",e).then((function(e){0===e.data.errorCode&&(t.dialog.userListPage.userList=e.data.result.dataList,t.dialog.userListPage.total=e.data.result.allCount,t.dialog.dialogUserListVisible=!0),t.dialog.userListPage.selectedRow=null}))},loadConfig:function(){var t=this;n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.useWeBase=JSON.parse(e.data.result.useWeBase))}))},init:function(){var t=this;n.a.doGet("checkAdmin").then((function(e){""!==e.data.result&&(t.accountForm.account=e.data.result,t.loadConfig())}))}},mounted:function(){this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content section_main"},[e("div",{staticClass:"box",staticStyle:{width:"55%","margin-left":"200px"}},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticStyle:{"margin-top":"15px"}},[e("form",{attrs:{role:"form",id:"AccountForm"}},[e("div",{staticClass:"form-group",attrs:{id:"accountDiv"}},[e("el-form",{ref:"accountForm",attrs:{model:t.accountForm}},[e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{attrs:{placeholder:"Enter account",readOnly:""},model:{value:t.accountForm.account,callback:function(e){t.$set(t.accountForm,"account",e)},expression:"accountForm.account"}})],1)],1)],1)]),t._v(" "),t._m(2)]),t._v(" "),e("div",{staticClass:"db-part"},[t.useWeBase?e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.showUserList}},[t._v("切换账户")]):t._e()],1)])])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"WeBASE账户列表",width:"40%",visible:t.dialog.dialogUserListVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogUserListVisible",e)}}},[e("el-table",{attrs:{data:t.dialog.userListPage.userList,border:"true",cellpadding:"0",cellspacing:"0"}},[e("el-table-column",{attrs:{label:"选择",width:"55"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-radio",{attrs:{label:a.row},model:{value:t.dialog.userListPage.selectedRow,callback:function(e){t.$set(t.dialog.userListPage,"selectedRow",e)},expression:"dialog.userListPage.selectedRow"}},[e("span")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"用户名"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.userName}},[t._v(t._s(a.row.userName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"address",label:"用户账户",width:"350"}}),t._v(" "),e("el-table-column",{attrs:{property:"createTime",label:"创建时间",width:"170"}})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.dialog.userListPage.pageIndex,"page-size":t.dialog.userListPage.pageSize,layout:"total, prev, pager, next, jumper",total:t.dialog.userListPage.total},on:{"current-change":t.indexChange}}),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.chooseUser}},[t._v("确定")])],1)],1)],1)}),i,!1,null,null,null);e.default=s.exports},"0mpU":function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{deployList:[],pageSize:5,total:0,pageIndex:1},roleType:localStorage.getItem("roleType"),dialog:{dialogFormVisible:!1,dialogDetailVisible:!1,dialogDepolyDetailVisible:!1,deployMessages:[],deployForm:{chainId:"",applyName:""},hash:"",deployBtn:null,deployDetail:{}}}},methods:{showAll:function(t){this.$alert(t,"温馨提示",{closeOnClickModal:"true"}).catch((function(){}))},showDeployForm:function(){r.a.data.nodeStatus?(this.dialog.deployForm.chainId="",this.dialog.deployForm.applyName="",this.dialog.dialogFormVisible=!0):r.a.checkNodeState(!1)},showDeployDetail:function(t,e){var a=this;s.a.doGet("getDeployInfo/"+t).then((function(t){0===t.data.errorCode?(a.dialog.dialogDetailVisible=!0,a.dialog.deployDetail=t.data.result,a.dialog.deployDetail.owner=e):a.$alert("部署详细查询失败！","温馨提示",{}).catch((function(){}))}))},changeRoleType:function(){this.roleType=localStorage.getItem("roleType")},deleteRow:function(t,e){var a=this,i=e.currentTarget,n=this;this.$confirm("确认删除吗？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(e){n.disableBtn(i),a.removeHash(t,i)})).catch((function(){}))},removeHash:function(t,e){var a=this;s.a.doPost("removeHash/"+t+"/1").then((function(t){0===t.data.errorCode?(a.$alert("删除成功!","温馨提示").catch((function(){})),a.init()):a.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){})),a.enableBtn(e)}))},checkInput:function(){return""===this.dialog.deployForm.chainId?(this.$alert("请输入ChainId!","温馨提示",{}).catch((function(){})),!1):""!==this.dialog.deployForm.applyName||(this.$alert("请输入应用名!","温馨提示",{}).catch((function(){})),!1)},comfirmBtn:function(){this.dialog.dialogDepolyDetailVisible=!1,this.dialog.dialogFormVisible=!1},deploy:function(t){var e=this;this.dialog.deployBtn=t.currentTarget,this.checkInput()&&(this.disableBtn(this.dialog.deployBtn),this.dialog.dialogDepolyDetailVisible=!0,this.dialog.deployMessages=[],this.dialog.deployMessages.push("合约部署中..."),s.a.doPost("deploy",this.dialog.deployForm,120).then((function(t){e.dialog.dialogDepolyDetailVisible=!0,0===t.data.errorCode?(e.dialog.hash=t.data.result,e.isEnableMasterCns()):(e.dialog.deployMessages.push("合约部署失败! 请查看日志。"),e.enableBtn(e.dialog.deployBtn))})))},isEnableMasterCns:function(){var t=this;s.a.doGet("isEnableMasterCns").then((function(e){t.dialog.dialogDepolyDetailVisible=!0,e.data.result?t.enableHash(!0):(t.dialog.deployMessages.push("合约部署成功。"),t.dialog.deployMessages.push("请继续操作。"),t.enableBtn(t.dialog.deployBtn),t.init())}))},enableHash:function(t){var e=this;this.dialog.deployMessages.push("合约启用中..."),s.a.doGet("enableHash/"+this.dialog.hash,null,10).then((function(a){e.dialog.dialogDepolyDetailVisible=!0,0===a.data.errorCode?(e.dialog.deployMessages.push("合约启用成功。"),t?e.deploySystemCpt():(e.dialog.deployMessages.push("请继续操作。"),e.enableBtn(e.dialog.deployBtn),e.init())):(e.dialog.deployMessages.push("合约启用失败！请查看日志。"),e.enableBtn(e.dialog.deployBtn))}))},deploySystemCptBtn:function(t){this.dialog.hash=t,this.deploySystemCpt()},deploySystemCpt:function(){var t=this;this.dialog.deployMessages.push("系统CPT部署中..."),this.dialog.dialogDepolyDetailVisible=!0,s.a.doGet("deploySystemCpt/"+this.dialog.hash,null,10).then((function(e){0===e.data.errorCode?(t.dialog.deployMessages.push("系统CPT部署成功。"),t.dialog.deployMessages.push("系统CPT部署成功! 请继续操作。"),t.init()):t.dialog.deployMessages.push("系统CPT部署失败！请查看日志。"),t.dialog.dialogDepolyDetailVisible=!0,t.enableBtn(t.dialog.deployBtn)}))},enable:function(t,e,a){var i=this;this.dialog.deployBtn=a.currentTarget,this.$confirm("是否确定启用该主合约？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(a){i.dialog.hash=t,i.dialog.deployMessages=[],i.dialog.dialogDepolyDetailVisible=!0,i.disableBtn(i.dialog.deployBtn),i.enableHash(e)})).catch((function(){}))},handleCurrentChange:function(t){t<1&&(t=1),this.page.pageIndex=t},init:function(){var t=this;s.a.doGet("getDeployList").then((function(e){0===e.data.errorCode&&(t.page.deployList=e.data.result,t.page.total=t.page.deployList.length,0!==t.page.total&&t.page.total===t.page.pageSize*(t.page.pageIndex-1)&&t.handleCurrentChange(t.page.pageIndex-1))}))},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!1);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;window.addEventListener("setItem",(function(){t.changeRoleType()})),this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},["1"===t.roleType?e("el-row",{staticClass:"app_main_header_row"},[e("el-col",{attrs:{span:5}},[e("el-button",{staticClass:"btn",staticStyle:{width:"250px"},attrs:{type:"primary"},on:{click:t.showDeployForm}},[t._v("主群组部署 WeIdentity 智能合约")])],1),t._v(" "),e("el-col",{staticClass:"head-icon",attrs:{span:19}},[e("a",{attrs:{href:"https://weid-doc-xml.readthedocs.io/zh/test/docs/weidentity-quick-tools-web.html?highlight=部署 WeIdentity 智能合约#id2",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("多次部署合约")])])])],1):t._e(),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.page.deployList.slice((t.page.pageIndex-1)*t.page.pageSize,t.page.pageIndex*t.page.pageSize),border:"true",align:"center",cellpadding:"0",cellspacing:"0"}},[e("el-table-column",{attrs:{prop:"applyName",label:"应用名字",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.applyName}},[t._v(t._s(a.row.applyName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"智能合约部署ID",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words link",attrs:{title:a.row.hash},on:{click:function(e){return t.showAll(a.row.hash)}}},[t._v(t._s(a.row.hashShow))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"部署的机构名称",align:"center",width:"250"},scopedSlots:t._u([{key:"default",fn:function(i){return null!==i.row.issuer?[e("span",{staticClass:"icon_question",attrs:{title:i.row.issuer.name}},[t._v(t._s(i.row.issuer.name))]),t._v(" "),!0===i.row.issuer.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("Xg0I"),widht:"50",height:"50",alt:""}}):t._e(),t._v(" "),!1===i.row.issuer.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("DnRc"),widht:"50",height:"50",alt:""}}):t._e()]:void 0}}],null,!0)}),t._v(" "),e("el-table-column",{attrs:{prop:"groupId",label:"所在群组",align:"center",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"170"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.enable?e("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[t._v("已启用")]):e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.enable(a.row.hash,a.row.needDeployCpt,e)}}},[t._v("启用")]),t._v(" "),e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.deleteRow(a.row.hash,e)}}},[t._v("删除")]),t._v(" "),0==a.row.enable||0==a.row.needDeployCpt?e("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(e){return t.showDeployDetail(a.row.hash,a.row.weId)}}},[t._v("详细信息")]):t._e(),t._v(" "),a.row.enable&&a.row.needDeployCpt?e("el-button",{staticClass:"btn",staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(e){return t.deploySystemCptBtn(a.row.hash)}}},[t._v("部署系统CPT")]):t._e()]}}])})],1),t._v(" "),"1"===t.roleType?e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.handleCurrentChange}}):t._e()],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"主群组部署 WeIdentity 智能合约",width:"29%",visible:t.dialog.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogFormVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.deployForm}},[e("el-form-item",{attrs:{label:"链ID(chain_id)","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-icon"},[e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-spec.html?highlight=chain-id#id4",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("什么是chain id?")])])]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter chainId",onKeyUp:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')"},on:{blur:function(e){t.dialog.deployForm.chainId=e.target.value}},model:{value:t.dialog.deployForm.chainId,callback:function(e){t.$set(t.dialog.deployForm,"chainId",e)},expression:"dialog.deployForm.chainId"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"应用名字","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-text"},[e("span",{},[t._v("给自己的WeIdentity区块链应用起一个名字吧，用于在同一条链上区别不同的 WeIdentity 应用，例如“学历证书应用”，“区块链证件应用”。")])]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter applyName"},model:{value:t.dialog.deployForm.applyName,callback:function(e){t.$set(t.dialog.deployForm,"applyName",e)},expression:"dialog.deployForm.applyName"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.deploy(e)}}},[t._v("部 署")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"部署信息",width:"620px",visible:t.dialog.dialogDetailVisible,"close-on-click-modal":!0},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployDetail"},[e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("智能合约部署ID")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.deployDetail.hash))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("部署账户")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.deployDetail.owner))])],1),t._v(" "),t.dialog.deployDetail.local?e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("WeID SDK版本")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:7}},[t._v(t._s(t.dialog.deployDetail.weIdSdkVersion))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("WeID合约版本")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:9}},[t._v(t._s(t.dialog.deployDetail.contractVersion))])],1):t._e(),t._v(" "),t.dialog.deployDetail.local?e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("部署来源")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:7}},[t._v(t._s(t.dialog.deployDetail.from))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("区块链节点版本")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:9}},[t._v(t._s(t.dialog.deployDetail.nodeVerion))])],1):t._e(),t._v(" "),t.dialog.deployDetail.local?e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("区块链节点")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.deployDetail.nodeAddress))])],1):t._e(),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:8}},[t._v("WeID智能合约地址")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:16}},[t._v(t._s(t.dialog.deployDetail.weIdAddress))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:8}},[t._v("CPT智能合约地址")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:16}},[t._v(t._s(t.dialog.deployDetail.cptAddress))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:8}},[t._v("Authority Issuer 智能合约地址")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:16}},[t._v(t._s(t.dialog.deployDetail.authorityAddress))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:8}},[t._v("Evidence 智能合约地址")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:16}},[t._v(t._s(t.dialog.deployDetail.evidenceAddress))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:8}},[t._v("Specific Issuer 智能合约地址")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:16}},[t._v(t._s(t.dialog.deployDetail.specificAddress))])],1),t._v(" "),e("el-row",{staticClass:"none-border"},[e("el-col",{staticClass:"title",attrs:{span:8}},[t._v("Chain Id")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:16}},[t._v(t._s(t.dialog.deployDetail.chainId))])],1)],1),t._v(" "),e("br")]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"合约部署",width:"400px",visible:t.dialog.dialogDepolyDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogDepolyDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.deployMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.comfirmBtn}},[t._v("确 定")])],1)])],1)}),[],!1,null,null,null);e.default=p.exports},"20ja":function(t,e,a){(t.exports=a("JPst")(!1)).push([t.i,"\nhtml{\r\n  background: black;\n}\r\n",""])},"6XTx":function(t,e,a){"use strict";e.__esModule=!0;var i,n=a("i7/w"),l=(i=n)&&i.__esModule?i:{default:i},o=a("UShQ");var s=l.default.prototype.$isServer?function(){}:a("YWdi"),r=function(t){return t.stopPropagation()};e.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,a=this.popperElm=this.popperElm||this.popper||this.$refs.popper,i=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!i&&this.$slots.reference&&this.$slots.reference[0]&&(i=this.referenceElm=this.$slots.reference[0].elm),a&&i&&(this.visibleArrow&&this.appendArrow(a),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new s(i,a,e),this.popperJS.onCreate((function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)})),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",r))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],e={top:"bottom",bottom:"top",left:"right",right:"left"}[t];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+e:e+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var a in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[a].name)){e=t.attributes[a].name;break}var i=document.createElement("div");e&&i.setAttribute(e,""),i.setAttribute("x-arrow",""),i.className="popper__arrow",t.appendChild(i)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",r),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},"7jGh":function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{policyList:[],total:0,pageIndex:1,pageSize:6},dialog:{policy:"",dialogShowPolicyVisible:!1}}},methods:{showCpt:function(t){var e=this;s.a.doGet("queryPolicy/"+t).then((function(t){0===t.data.errorCode?(e.dialog.policy=t.data.result,e.dialog.dialogShowPolicyVisible=!0):e.$alert("Policy查询异常!","温馨提示",{}).catch((function(){}))}))},indexChange:function(t){this.page.pageIndex=t,this.init()},init:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize,s.a.doGet("getPolicyList",e).then((function(e){0===e.data.errorCode&&(t.page.policyList=e.data.result.dataList,t.page.total=e.data.result.allCount)}))},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!0);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("div",{staticClass:"app_view"},[e("el-table",{attrs:{data:t.page.policyList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"id",label:"披露策略ID",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(e){return t.showCpt(a.row.id)}}},[t._v("预览Policy")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"预览policy",width:"40%",visible:t.dialog.dialogShowPolicyVisible},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogShowPolicyVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-row",[e("el-col",[e("el-input",{attrs:{type:"textarea",readOnly:"",rows:15,resize:"none"},model:{value:t.dialog.policy,callback:function(e){t.$set(t.dialog,"policy",e)},expression:"dialog.policy"}})],1)],1)],1)])],1)}),[],!1,null,null,null);e.default=p.exports},"92P7":function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"card-header card-title"},[t("h3",[this._v("区块链节点配置")])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning bg_color",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#blockchain-configuration",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{useWeBase:!1,form:{caCrtFileName:"",nodeKeyFile:"",nodeCrtFileName:"",nodeCrtFile:"",nodeKeyFileName:"",caCrtFile:"",gmCaCrtFileName:"",gmCaCrtFile:"",gmSdkCrtFileName:"",gmSdkCrtFile:"",gmSdkKeyFileName:"",gmSdkKeyFile:"",gmenSdkCrtFileName:"",gmenSdkCrtFile:"",gmenSdkKeyFileName:"",gmenSdkKeyFile:"",smCaCrtFileName:"",smCaCrtFile:"",smSdkCrtFileName:"",smSdkCrtFile:"",smSdkKeyFileName:"",smSdkKeyFile:"",smenSdkCrtFileName:"",smenSdkCrtFile:"",smenSdkKeyFileName:"",smenSdkKeyFile:"",encrypt_type:"1",org_id:"",amop_id:"",blockchain_address:"",blockchain_fiscobcos_version:"",chainVersion:"2"},dialog:{checkDetailVisible:!1,checkMessages:[],nextBtn:null,dialogNodeListVisible:!1,nodeListPage:{nodeList:[],selectedRows:[]}}}},methods:{getkey:function(t){return t.frontId},chooseNode:function(){var t=this;if(0!==this.dialog.nodeListPage.selectedRows.length){var e="";this.dialog.nodeListPage.selectedRows.forEach((function(a,i){e=e+a.frontIp+":"+a.channelPort,i+1<t.dialog.nodeListPage.selectedRows.length&&(e+=",")})),this.form.blockchain_address=e,this.dialog.dialogNodeListVisible=!1}else this.$alert("请选择需要配置的节点!","温馨提示",{}).catch((function(){}))},chooseFile:function(t,e){var a=this,i=document.getElementById(t);i.value="",i.click(),i.onchange=function(i){if(i.target.files[0]){var n=i.target.files[0],l=n.name;if(l!==e)return void a.$alert("文件选择错误,请选择名为 "+e+" 的文件!","温馨提示",{}).catch((function(){}));"caCrtFile"===t?(a.form.caCrtFileName=l,a.form.caCrtFile=n):"nodeCrtFile"===t?(a.form.nodeCrtFileName=l,a.form.nodeCrtFile=n):"nodeKeyFile"===t?(a.form.nodeKeyFileName=l,a.form.nodeKeyFile=n):"gmCaCrtFile"===t?(a.form.gmCaCrtFileName=l,a.form.gmCaCrtFile=n):"gmSdkCrtFile"===t?(a.form.gmSdkCrtFileName=l,a.form.gmSdkCrtFile=n):"gmSdkKeyFile"===t?(a.form.gmSdkKeyFileName=l,a.form.gmSdkKeyFile=n):"gmenSdkCrtFile"===t?(a.form.gmenSdkCrtFileName=l,a.form.gmenSdkCrtFile=n):"gmenSdkKeyFile"===t?(a.form.gmenSdkKeyFileName=l,a.form.gmenSdkKeyFile=n):"smCaCrtFile"===t?(a.form.smCaCrtFileName=l,a.form.smCaCrtFile=n):"smSdkCrtFile"===t?(a.form.smSdkCrtFileName=l,a.form.smSdkCrtFile=n):"smSdkKeyFile"===t?(a.form.smSdkKeyFileName=l,a.form.smSdkKeyFile=n):"smenSdkCrtFile"===t?(a.form.smenSdkCrtFileName=l,a.form.smenSdkCrtFile=n):"smenSdkKeyFile"===t&&(a.form.smenSdkKeyFileName=l,a.form.smenSdkKeyFile=n)}}},checkNode:function(){var t=this;this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("节点配置检测中..."),n.a.doGet("checkNode").then((function(e){t.dialog.checkDetailVisible=!0,t.enableBtn(t.dialog.nextBtn),0===e.data.errorCode?(t.dialog.checkMessages.push("节点配置检测成功。"),t.dialog.checkMessages.push("提示：目前暂不支持修改配置动态实时生效，修改配置需重启服务才能生效。")):t.dialog.checkMessages.push("节点配置检测失败。")}))},checkInput:function(){if(""===this.form.org_id)return this.$alert("请输入机构名!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.amop_id)return this.$alert("请输入通信ID名!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.blockchain_address)return this.$alert("请输入区块链节点 IP 和 Channel 端口!","温馨提示",{}).catch((function(){})),!1;if("0"===this.form.encrypt_type){if(""===this.form.caCrtFile&&"false"===!this.form["ca.crt"])return this.$alert("请选择 ca.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.nodeCrtFile&&"false"===!this.form["node.crt"])return this.$alert("请选择 sdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.nodeKeyFile&&"false"===!this.form["node.key"])return this.$alert("请选择 sdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1}else if("2"===this.chainVersion){if(""===this.form.gmCaCrtFile&&"false"===!this.form["gmCa.crt"])return this.$alert("请选择 gmCa.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmSdkCrtFile&&"false"===!this.form["gmSdk.crt"])return this.$alert("请选择 gmSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmSdkKeyFile&&"false"===!this.form["gmSdk.key"])return this.$alert("请选择 gmSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmenSdkCrtFile&&"false"===!this.form["gmenSdk.crt"])return this.$alert("请选择 gmenSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmenSdkKeyFile&&"false"===!this.form["gmenSdk.key"])return this.$alert("请选择 gmenSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1}else{if(""===this.form.smCaCrtFile&&"false"===!this.form["smCa.crt"])return this.$alert("请选择 smCa.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smSdkCrtFile&&"false"===!this.form["smSdk.crt"])return this.$alert("请选择 smSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smSdkKeyFile&&"false"===!this.form["smSdk.key"])return this.$alert("请选择 smSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smenSdkCrtFile&&"false"===!this.form["smenSdk.crt"])return this.$alert("请选择 smenSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smenSdkKeyFile&&"false"===!this.form["smenSdk.key"])return this.$alert("请选择 smenSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1}return!0},nodeConfigUpload:function(t){var e=this;if(this.checkInput()){var a=new FormData;"0"===this.form.encrypt_type?(a.append("file",this.form.caCrtFile),a.append("file",this.form.nodeCrtFile),a.append("file",this.form.nodeKeyFile)):"2"===this.form.chainVerison?(a.append("file",this.form.gmCaCrtFile),a.append("file",this.form.gmSdkCrtFile),a.append("file",this.form.gmSdkKeyFile),a.append("file",this.form.gmenSdkCrtFile),a.append("file",this.form.gmenSdkKeyFile)):(a.append("file",this.form.smCaCrtFile),a.append("file",this.form.smSdkCrtFile),a.append("file",this.form.smSdkKeyFile),a.append("file",this.form.smenSdkCrtFile),a.append("file",this.form.smenSdkKeyFile)),a.append("orgId",this.form.org_id),a.append("amopId",this.form.amop_id),a.append("version",this.form.chainVersion),a.append("useSmCrypto",this.form.encrypt_type),a.append("ipPort",this.form.blockchain_address),this.dialog.nextBtn=t.currentTarget,this.dialog.checkMessages=[],this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("节点配置提交中..."),this.disableBtn(this.dialog.nextBtn),n.a.doPostAndUploadFile("nodeConfigUpload",a,10).then((function(t){0===t.data.errorCode?(e.dialog.checkMessages.push("节点配置提交成功。"),e.checkNode()):(e.dialog.checkMessages.push("节点配置提交失败。"),e.enableBtn(e.dialog.nextBtn))}))}},init:function(){var t=this;n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.form=Object.assign(t.form,e.data.result),t.useWeBase=JSON.parse(t.form.useWeBase),t.useWeBase&&t.queryNodeType())}))},queryNodeType:function(){var t=this;n.a.doGet("webase/queryNodeType").then((function(e){0===e.data.errorCode&&(t.form.encrypt_type=e.data.result+"")}))},queryNodeList:function(){var t=this;n.a.doGet("webase/queryNodeList").then((function(e){0===e.data.errorCode&&(t.dialog.nodeListPage.nodeList=e.data.result,t.dialog.dialogNodeListVisible=!0)}))},handleSelectionChange:function(t){this.dialog.nodeListPage.selectedRows=t}},mounted:function(){this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content section_main"},[e("div",{staticClass:"box",staticStyle:{width:"70%","margin-left":"200px"}},[e("div",{staticClass:"card card-primary warning_box"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("el-form",{ref:"form",attrs:{"label-position":"right",model:t.form,"label-width":"220px","inline-message":"true"}},[e("el-form-item",{attrs:{label:"机构名称:",prop:"org_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter orgId",maxlength:"30",onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')"},on:{blur:function(e){t.form.org_id=e.target.value}},model:{value:t.form.org_id,callback:function(e){t.$set(t.form,"org_id",e)},expression:"form.org_id"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"通讯ID:",prop:"amop_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter amopId",maxlength:"30",onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')"},on:{blur:function(e){t.form.amop_id=e.target.value}},model:{value:t.form.amop_id,callback:function(e){t.$set(t.form,"amop_id",e)},expression:"form.amop_id"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v("此ID用于链上AMOP通讯")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"非国密/国密SSL:",prop:"encrypt_type"}},[e("el-select",{staticStyle:{width:"72%"},attrs:{placeholder:"非国密/国密SSL",disabled:t.useWeBase},model:{value:t.form.encrypt_type,callback:function(e){t.$set(t.form,"encrypt_type",e)},expression:"form.encrypt_type"}},[e("el-option",{attrs:{label:"非国密",value:"0"}}),t._v(" "),e("el-option",{attrs:{label:"国密",value:"1"}})],1),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v("国密链采用SSL通讯，非国密链采用非SSL通讯。")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"链版本:",prop:"chainVersion"}},[e("el-select",{staticStyle:{width:"72%"},attrs:{placeholder:"链版本"},model:{value:t.form.chainVersion,callback:function(e){t.$set(t.form,"chainVersion",e)},expression:"form.chainVersion"}},[e("el-option",{attrs:{label:"2.0",value:"2"}}),t._v(" "),e("el-option",{attrs:{label:"3.0",value:"3"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"区块链节点 IP 和 Channel 端口:",prop:"blockchain_address"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"IP:PORT,IP:PORT",onKeyUp:"value=value=value.replace(/[^0-9：:，,。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');value=value.replace(/[，]/g,',');"},on:{blur:function(e){t.form.blockchain_address=e.target.value}},model:{value:t.form.blockchain_address,callback:function(e){t.$set(t.form,"blockchain_address",e)},expression:"form.blockchain_address"}}),t._v(" "),t.useWeBase?e("el-button",{staticClass:"btn btn_100",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.queryNodeList}},[t._v("查询")]):t._e(),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v('例如：10.10.4.1:20200；如果多个节点，则请用半角逗号","分割：10.10.4.1:20200,10.10.4.2:20200')]),t._v(" "),e("div",[t._v('如果"运行 WeIdentity SDK 的 Server"与区块链节点部署在同一台机器，IP可以使用127.0.0.1')]),t._v(" "),e("div",[t._v('如果"运行 WeIdentity SDK 的 Server"与区块链节点部署不在同一台机器，需要根据实际情况进行修改')])])],1),t._v(" "),"0"===t.form.encrypt_type?e("div",{attrs:{id:"ecdsa"}},[e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"ca.crt证书:",prop:"caCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter caCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.caCrtFileName,callback:function(e){t.$set(t.form,"caCrtFileName",e)},expression:"form.caCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("caCrtFile","ca.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["ca.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"caCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sdk.crt证书:",prop:"nodeCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter sdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.nodeCrtFileName,callback:function(e){t.$set(t.form,"nodeCrtFileName",e)},expression:"form.nodeCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("nodeCrtFile","sdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["node.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"nodeCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sdk.key证书:",prop:"nodeKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter sdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.nodeKeyFileName,callback:function(e){t.$set(t.form,"nodeKeyFileName",e)},expression:"form.nodeKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("nodeKeyFile","sdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["node.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"nodeKeyFile"}})],1)]):t._e(),t._v(" "),"1"===t.form.encrypt_type&&"2"===t.form.chainVersion?e("div",{staticClass:"form-group",attrs:{id:"sm2"}},[e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmca.crt证书:",prop:"gmCaCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmCaCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.gmCaCrtFileName,callback:function(e){t.$set(t.form,"gmCaCrtFileName",e)},expression:"form.gmCaCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmCaCrtFile","gmca.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["gmCa.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmCaCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmsdk.crt证书:",prop:"gmSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.gmSdkCrtFileName,callback:function(e){t.$set(t.form,"gmSdkCrtFileName",e)},expression:"form.gmSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmSdkCrtFile","gmsdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["gmSdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmsdk.key证书:",prop:"gmSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.gmSdkKeyFileName,callback:function(e){t.$set(t.form,"gmSdkKeyFileName",e)},expression:"form.gmSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmSdkKeyFile","gmsdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["gmSdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmSdkKeyFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmensdk.crt证书:",prop:"gmenSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmenSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.gmenSdkCrtFileName,callback:function(e){t.$set(t.form,"gmenSdkCrtFileName",e)},expression:"form.gmenSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmenSdkCrtFile","gmensdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["gmenSdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmenSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmensdk.key证书:",prop:"gmenSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmenSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.gmenSdkKeyFileName,callback:function(e){t.$set(t.form,"gmenSdkKeyFileName",e)},expression:"form.gmenSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmenSdkKeyFile","gmensdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["gmenSdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmenSdkKeyFile"}})],1)]):t._e(),t._v(" "),"1"===t.form.encrypt_type&&"3"===t.form.chainVersion?e("div",{staticClass:"form-group",attrs:{id:"sm3"}},[e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_ca.crt证书:",prop:"smCaCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smCaCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.smCaCrtFileName,callback:function(e){t.$set(t.form,"smCaCrtFileName",e)},expression:"form.smCaCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smCaCrtFile","sm_ca.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smCa.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smCaCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_sdk.crt证书:",prop:"smSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.smSdkCrtFileName,callback:function(e){t.$set(t.form,"smSdkCrtFileName",e)},expression:"form.smSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smSdkCrtFile","sm_sdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smSdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_sdk.key证书:",prop:"smSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.smSdkKeyFileName,callback:function(e){t.$set(t.form,"smSdkKeyFileName",e)},expression:"form.smSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smSdkKeyFile","sm_sdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smSdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smSdkKeyFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_ensdk.crt证书:",prop:"smenSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smenSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.smenSdkCrtFileName,callback:function(e){t.$set(t.form,"smenSdkCrtFileName",e)},expression:"form.smenSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smenSdkCrtFile","sm_ensdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smenSdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smenSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_ensdk.key证书:",prop:"smenSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smenSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.smenSdkKeyFileName,callback:function(e){t.$set(t.form,"smenSdkKeyFileName",e)},expression:"form.smenSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smenSdkKeyFile","sm_ensdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smenSdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smenSdkKeyFile"}})],1)]):t._e(),t._v(" "),e("div",{staticStyle:{"text-align":"left","padding-left":"26%"}},[e("a",{attrs:{href:"https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/enterprise_tools/operation.html#get-sdk-file",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticStyle:{color:"#017CFF","font-size":"12px"},attrs:{clas:"",s:"icon_question"}},[t._v("如何获取证书?")])])])],1),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"node_part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:function(e){return t.nodeConfigUpload(e)}}},[t._v("完成")])],1)],1)])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"温馨提示",width:"400px",visible:t.dialog.checkDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"checkDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.checkMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){t.dialog.checkDetailVisible=!1}}},[t._v("完成")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"前置节点列表",width:"45%",visible:t.dialog.dialogNodeListVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogNodeListVisible",e)}}},[e("el-table",{attrs:{"row-key":t.getkey,data:t.dialog.nodeListPage.nodeList,border:"true",cellpadding:"0",cellspacing:"0"},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"节点ID"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.nodeId}},[t._v(t._s(a.row.nodeId))])]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"frontIp",label:"节点IP",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{property:"channelPort",label:"节点端口",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{label:"群组列表",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",t._l(a.row.groupList,(function(i,n){return e("span",{key:i},[t._v("\n                "+t._s(i)+" "),n<a.row.groupList.length-1?e("span",[t._v(",")]):t._e()])})),0)]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"clientVersion",label:"节点版本",width:"150"}})],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.chooseNode}},[t._v("确定")])],1)],1)],1)}),i,!1,null,null,null);e.default=s.exports},"9Cjg":function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"card-mark"},[t("div",{staticClass:"card-mark-text"},[this._v("选择一个FISCO-BCOS的群组，作为 WeIdentity 的主群组（即部署 WeIdentity 智能合约的群组）")]),this._v(" "),t("div",{staticClass:"card-mark-icon"},[t("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html?highlight=群组#group-selection",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v(" 什么是群组？")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning bg_color",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#group-selection",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{form:{groupId:""},groupList:[],dialog:{groupNodeList:[],dialogTableVisible:!1}}},methods:{setGroupId:function(){var t=this;n.a.doPost("setGroupId",this.form).then((function(e){0===e.data.errorCode?t.$alert("群组配置成功!<br/>提示：目前暂不支持修改配置动态实时生效，修改配置需重启服务才能生效。","温馨提示",{dangerouslyUseHTMLString:!0}).catch((function(){})):t.$alert("群组配置失败!","温馨提示",{}).catch((function(){}))}))},init:function(){var t=this;n.a.doGet("getAllGroup/false").then((function(e){0===e.data.errorCode&&(t.groupList=e.data.result,t.form.groupId=t.groupList[0].value)})),n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.form.groupId=e.data.result.group_id)})),n.a.doGet("getGroupMapping").then((function(e){0===e.data.errorCode&&(t.dialog.groupNodeList=e.data.result)}))}},mounted:function(){this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content section_main"},[e("div",{staticClass:"box",staticStyle:{width:"55%","margin-left":"200px"}},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[e("div",{staticClass:"card-header card-title"},[e("h3",[t._v("主群组配置")]),t._v(" "),e("div",[e("a",{staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block",cursor:"pointer"},on:{click:function(e){t.dialog.dialogTableVisible=!0}}},[t._v("查看群组列表")])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticStyle:{"margin-top":"12px"}},[e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("el-form",{ref:"form",attrs:{model:t.form}},[e("el-form-item",{attrs:{prop:"groupId"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"主群组"},model:{value:t.form.groupId,callback:function(e){t.$set(t.form,"groupId",e)},expression:"form.groupId"}},t._l(t.groupList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1)],1)],1)]),t._v(" "),e("div",{staticClass:"db-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.setGroupId}},[t._v("完成")])],1),t._v(" "),t._m(1)])])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"群组列表",width:"55%",visible:t.dialog.dialogTableVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogTableVisible",e)}}},[e("el-table",{attrs:{data:t.dialog.groupNodeList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"groupId",label:"群组编号",align:"center",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"nodes",label:"节点列表",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"type",label:"群主类型",align:"center",width:"120"}})],1),t._v(" "),e("br")],1)],1)}),i,!1,null,null,null);e.default=s.exports},B25C:function(t,e,a){"use strict";var i=a("NVG9"),n={data:function(){return{version:"1.0.0"}},methods:{getVersion:function(){var t=this;i.a.doGet("getVersion").then((function(e){0===e.data.errorCode&&(t.version=e.data.result)}))}},mounted:function(){this.getVersion()}},l=a("KHd+"),o=Object(l.a)(n,(function(){var t=this._self._c;return t("div",{staticClass:"footBar",attrs:{id:"footBar"}},[this._m(0),this._v(" "),t("span",{staticClass:"version"},[t("b",[this._v("Version")]),this._v(" "),t("span",[this._v(this._s(this.version))])])])}),[function(){var t=this._self._c;return t("span",{staticClass:"copyright"},[t("strong",[this._v("Copyright © 2019-2020 "),t("a",{attrs:{href:"https://github.com/WeBankFinTech",target:"_blank"}},[this._v("WeBankFinTech")]),this._v("..")]),this._v(" All rights reserved.\n  ")])}],!1,null,null,null);e.a=o.exports},BFdW:function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{weidList:[],pageSize:6,total:0,pageIndex:1},roleType:localStorage.getItem("roleType"),dialog:{dialogCreateWeIdVisible:!1,dialogCreateWeIdByPrivateVisible:!1,dialogCreateWeIdByPublicVisible:!1,dialogissuerFormVisible:!1,dialogwhiteFormVisible:!1,showWeIdVisible:!1,createByPrivateForm:{privateKeyFileName:"",privateKeyFile:""},createByPublicForm:{publicKeyFileName:"",publicKeyFile:""},registForm:{name:"",weId:"",description:""},whiteListForm:{issuerType:"",weId:""},hashWihteList:!1,showData:{weId:"",hasPath:!1},page:{selectedRow:null,whiteList:[],pageIndex:1,pageSize:4,total:0}}}},methods:{showAll:function(t,e){var a=this;this.dialog.showData.weId=t,this.dialog.showData.hasPath=!1,s.a.doGet("getWeIdPath").then((function(i){if(0===i.data.errorCode){if(null!==e){var n=i.data.result+"/"+t.split(":")[3];a.dialog.showData.path=n,a.dialog.showData.hasPath=!0}a.dialog.showWeIdVisible=!0}}))},selectCopy:function(t){t.currentTarget.select(),document.execCommand("Copy"),this.$message({message:"已复制",type:"success",duration:1e3})},showCreateWeId:function(){r.a.data.nodeStatus?this.dialog.dialogCreateWeIdVisible=!0:r.a.checkNodeState(!0)},showCreateWeIdByPri:function(){this.dialog.createByPrivateForm.privateKeyFileName="",this.dialog.dialogCreateWeIdByPrivateVisible=!0},showCreateWeIdByPub:function(){this.dialog.createByPublicForm.publicKeyFileName="",this.dialog.dialogCreateWeIdByPublicVisible=!0},showRegistIssuer:function(t){this.dialog.registForm.weId=t,this.dialog.registForm.name="",this.dialog.registForm.description="",this.dialog.dialogissuerFormVisible=!0},registerIssuer:function(){var t=this;""!==this.dialog.registForm.name?0!==this.dialog.registForm.name.indexOf("@")?s.a.doPost("registerIssuer",this.dialog.registForm).then((function(e){0===e.data.errorCode?(t.$alert("权威凭证发行者注册成功!","温馨提示",{}).then((function(){t.dialog.dialogissuerFormVisible=!1})).catch((function(){})),t.page.weidList.forEach((function(e){e.weId===t.dialog.registForm.weId&&(e.issuer=!0)}))):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))})):this.$alert("权威机构名称输入非法!","温馨提示",{}).catch((function(){})):this.$alert("请输入权威机构名称!","温馨提示",{}).catch((function(){}))},showRegistWhiteList:function(t){var e=this;return n()(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.dialog.whiteListForm.weId=t,e.dialog.page.pageIndex=1,a.next=4,e.queryIssueTypeList();case 4:e.dialog.dialogwhiteFormVisible=!0;case 5:case"end":return a.stop()}}),a)})))()},addWeIdToWhiteList:function(){var t=this;null!=this.dialog.page.selectedRow?(this.dialog.whiteListForm.issuerType=this.dialog.page.selectedRow.typeName,s.a.doPost("addIssuerIntoIssuerType",this.dialog.whiteListForm).then((function(e){0===e.data.errorCode?t.$alert("添加白名单成功!","温馨提示",{}).then((function(){t.dialog.dialogwhiteFormVisible=!1})).catch((function(){})):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))}))):this.$alert("请选择白名单","温馨提示",{}).catch((function(){}))},changeRoleType:function(){this.roleType=localStorage.getItem("roleType")},toAddWihte:function(){this.$router.push({name:"whiteList"}),this.resetSetItem("menu2",4)},chooseFile:function(t){var e=this,a=document.getElementById(t);a.value="",a.click(),a.onchange=function(a){a.target.files[0]&&("privateKeyFile"===t?(e.dialog.createByPrivateForm.privateKeyFileName=a.target.files[0].name,e.dialog.createByPrivateForm.privateKeyFile=a.target.files[0]):"publicKeyFile"===t&&(e.dialog.createByPublicForm.publicKeyFileName=a.target.files[0].name,e.dialog.createByPublicForm.publicKeyFile=a.target.files[0]))}},createBySys:function(){var t=this;s.a.doPost("createWeId").then((function(e){0===e.data.errorCode?(t.$alert("WeID创建成功!","温馨提示",{}).then((function(){t.dialog.dialogCreateWeIdVisible=!1})).catch((function(){})),t.init()):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))}))},createByPri:function(){var t=this;if(""!==this.dialog.createByPrivateForm.privateKeyFile){var e=new FormData;e.append("privateKey",this.dialog.createByPrivateForm.privateKeyFile),s.a.doPostAndUploadFile("createWeIdByPrivateKey",e).then((function(e){0===e.data.errorCode?(t.$alert("WeID创建成功!","温馨提示",{}).then((function(){t.dialog.dialogCreateWeIdByPrivateVisible=!1,t.dialog.dialogCreateWeIdVisible=!1})).catch((function(){})),t.init(),t.dialog.createByPrivateForm.privateKeyFile="",t.dialog.createByPrivateForm.privateKeyFileName=""):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))}))}else this.$alert("请选择私钥文件!","温馨提示",{}).catch((function(){}))},createByPub:function(){var t=this;if(""!==this.dialog.createByPublicForm.publicKeyFile){var e=new FormData;e.append("publicKey",this.dialog.createByPublicForm.publicKeyFile),s.a.doPostAndUploadFile("createWeIdByPublicKey",e).then((function(e){0===e.data.errorCode?(t.$alert("WeID创建成功!","温馨提示",{}).then((function(){t.dialog.dialogCreateWeIdByPublicVisible=!1,t.dialog.dialogCreateWeIdVisible=!1})).catch((function(){})),t.init(),t.dialog.createByPublicForm.publicKeyFile="",t.dialog.createByPublicForm.publicKeyFileName=""):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))}))}else this.$alert("请选择公钥文件!","温馨提示",{}).catch((function(){}))},indexChange:function(t){var e,a,i,n=this.page.pageIndex;this.page.pageIndex=t,n>this.page.pageIndex?(e=this.page.weidList[0].weIdPojo.currentBlockNum,a=this.page.weidList[0].weIdPojo.index+1,i=!1):(e=this.page.weidList[this.page.weidList.length-1].weIdPojo.currentBlockNum,a=this.page.weidList[this.page.weidList.length-1].weIdPojo.index-1,i=!0),this.queryWeIdList(this.page.pageIndex,e,a,i)},queryWeIdList:function(t,e,a,i){var n=this,l={};l.blockNumber=e,l.pageSize=this.page.pageSize,l.indexInBlock=a,l.direction=i,l.iDisplayStart=t*this.page.pageSize,l.iDisplayLength=this.page.pageSize,s.a.doGet("getWeIdList",l).then((function(t){0===t.data.errorCode&&(n.page.weidList=t.data.result.dataList,n.page.total=t.data.result.allCount)}))},init:function(){this.page.pageIndex=1,this.queryWeIdList(1,0,0,!0)},queryIssueTypeList:function(){var t=this;return n()(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).iDisplayStart=(t.dialog.page.pageIndex-1)*t.dialog.page.pageSize,a.iDisplayLength=t.dialog.page.pageSize,e.next=5,s.a.doGet("getIssuerTypeList",a).then((function(e){t.dialog.page.selectedRow=null,0===e.data.errorCode&&(t.dialog.page.whiteList=e.data.result.dataList,t.dialog.page.total=e.data.result.allCount),t.dialog.page.whiteList.length>0&&(t.dialog.hashWihteList=!0)}));case 5:case"end":return e.stop()}}),e)})))()},indexChange2:function(t){this.dialog.page.pageIndex=t,this.queryIssueTypeList()},dateFormat:function(t){return new Date(parseInt(1e3*t.weIdPojo.created)+288e5).toJSON().substr(0,19).replace("T"," ")},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!0);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;window.addEventListener("setItem",(function(){t.changeRoleType()})),this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",{staticClass:"app_main_header_row"},[e("el-col",{attrs:{span:2}},[e("el-button",{staticClass:"btn",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.showCreateWeId}},[t._v("创建WeID")])],1),t._v(" "),e("el-col",{staticClass:"head-icon",attrs:{span:21}},[e("a",{attrs:{target:"blank",href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/terminologies.html?highlight=简称WeID"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("什么是WeID?")])])])],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{attrs:{data:t.page.weidList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"weId",label:"WeID",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words link",attrs:{title:a.row.weId},on:{click:function(e){return t.showAll(a.row.weId,a.row.id)}}},[t._v(t._s(a.row.weId))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"创建时间",align:"center",formatter:t.dateFormat,width:"200"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"400"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"btn",staticStyle:{width:"180px"},attrs:{type:"primary",disabled:a.row.issuer},on:{click:function(e){return t.showRegistIssuer(a.row.weId)}}},[t._v("注册为权威凭证发行者")]),t._v(" "),"1"===t.roleType?e("el-button",{staticClass:"btn",staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(e){return t.showRegistWhiteList(a.row.weId)}}},[t._v("添加到白名单")]):t._e()]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, slot, next",total:t.page.total},on:{"current-change":t.indexChange}},[e("span",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.page.pageIndex))])])],1),t._v(" "),e("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"dialog-view",attrs:{title:"创建WeID",width:"25%",visible:t.dialog.dialogCreateWeIdVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateWeIdVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-row",[e("el-col",[e("el-button",{staticClass:"btn width_100",attrs:{type:"primary"},on:{click:function(e){return t.createBySys()}}},[t._v("系统自动创建公私钥来创建WeID")])],1)],1),t._v(" "),e("el-row",[e("el-col",[e("el-button",{staticClass:"btn width_100",attrs:{type:"primary"},on:{click:function(e){return t.showCreateWeIdByPri()}}},[t._v("传入私钥创建WeID")])],1)],1),t._v(" "),e("el-row",[e("el-col",[e("el-button",{staticClass:"btn width_100",attrs:{type:"primary"},on:{click:function(e){return t.showCreateWeIdByPub()}}},[t._v("传入公钥，使用代理模式创建WeID")])],1)],1),t._v(" "),e("a",{staticStyle:{position:"absolute",right:"60px",top:"20px","font-size":"12px",color:"#017CFF"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=WeID 管理#weid",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu")}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("使用教程")])])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"传入私钥创建WeID",width:"30%",visible:t.dialog.dialogCreateWeIdByPrivateVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateWeIdByPrivateVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.createByPrivateForm}},[e("div",{staticClass:"file_part",staticStyle:{"margin-top":"15px"}},[e("el-form-item",[e("div",{staticClass:"mark-text"},[e("span",[t._v("备注：支持椭圆曲线的公私钥，并且为十进制私钥数据。")]),t._v(" "),e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=创建密钥#weid",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("如何生成私钥？")])])]),t._v(" "),e("div",{staticClass:"input_item",staticStyle:{"margin-bottom":"-8px"}},[e("el-input",{staticStyle:{width:"75%"},attrs:{placeholder:"请选择私钥文件",maxlength:"30",readOnly:""},model:{value:t.dialog.createByPrivateForm.privateKeyFileName,callback:function(e){t.$set(t.dialog.createByPrivateForm,"privateKeyFileName",e)},expression:"dialog.createByPrivateForm.privateKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("privateKeyFile")}}},[t._v("选择文件")])],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"privateKeyFile"}})],1)])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.createByPri()}}},[t._v("创 建")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"传入公钥创建WeID",width:"30%",visible:t.dialog.dialogCreateWeIdByPublicVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateWeIdByPublicVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.createByPublicForm}},[e("div",{staticClass:"file_part",staticStyle:{"margin-top":"15px"}},[e("el-form-item",[e("div",{staticClass:"mark-text"},[e("div",[t._v("* 只有联盟链委员会的管理员，才能作为代理，为其他机构创建WeID。")]),t._v(" "),e("span",[t._v("* 支持椭圆曲线的公私钥，并且为十进制私钥数据。")]),t._v(" "),e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=创建密钥#weid",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("如何生成公钥？")])])]),t._v(" "),e("div",{staticClass:"input_item",staticStyle:{"margin-bottom":"-8px"}},[e("el-input",{staticStyle:{width:"75%"},attrs:{placeholder:"请选择公钥文件",maxlength:"30",readOnly:""},model:{value:t.dialog.createByPublicForm.publicKeyFileName,callback:function(e){t.$set(t.dialog.createByPublicForm,"publicKeyFileName",e)},expression:"dialog.createByPublicForm.publicKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("publicKeyFile")}}},[t._v("选择文件")])],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"publicKeyFile"}})],1)])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.createByPub()}}},[t._v("创 建")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"注册权威凭证发行者",width:"31%",visible:t.dialog.dialogissuerFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogissuerFormVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.registForm}},[e("el-form-item",{attrs:{label:"机构的WeID","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:"",placeholder:"填入这个机构WeID"},model:{value:t.dialog.registForm.weId,callback:function(e){t.$set(t.dialog.registForm,"weId",e)},expression:"dialog.registForm.weId"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"权威机构名称","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-text"},[e("span",[t._v("\n              输入权威机构的名称（建议由英文或者数字组成，不建议包含类似空格字符的特殊符号，也不支持中文），\n              作为类似权威机构 ID 的方式使用，例如如果机构是微众银行，则可以输入类似“webank”作为其权威机构名称\n            ")])]),t._v(" "),e("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')",placeholder:"Enter issuer name"},on:{blur:function(e){t.dialog.registForm.name=e.target.value}},model:{value:t.dialog.registForm.name,callback:function(e){t.$set(t.dialog.registForm,"name",e)},expression:"dialog.registForm.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[e("el-input",{attrs:{placeholder:"Enter issuer description"},model:{value:t.dialog.registForm.description,callback:function(e){t.$set(t.dialog.registForm,"description",e)},expression:"dialog.registForm.description"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.registerIssuer()}}},[t._v("注 册")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"添加到白名单",width:"31%",visible:t.dialog.dialogwhiteFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogwhiteFormVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.whiteListForm}},[e("el-form-item",{attrs:{label:"WeID","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:"",placeholder:"填入这个机构WeID"},model:{value:t.dialog.whiteListForm.weId,callback:function(e){t.$set(t.dialog.whiteListForm,"weId",e)},expression:"dialog.whiteListForm.weId"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"选择待加入的白名单","label-width":t.formLabelWidth}},[0==t.dialog.hashWihteList?e("div",{staticClass:"mark-line"},[e("span",{attrs:{href:"#"},on:{click:function(e){return t.toAddWihte()}}},[t._v("前往新增白名单")])]):t._e(),t._v(" "),e("el-table",{attrs:{data:t.dialog.page.whiteList,border:"true",align:"center"}},[e("el-table-column",{attrs:{label:"选择",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-radio",{attrs:{label:a.row},model:{value:t.dialog.page.selectedRow,callback:function(e){t.$set(t.dialog.page,"selectedRow",e)},expression:"dialog.page.selectedRow"}},[e("span")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"type",label:"白名单名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.typeName}},[t._v(t._s(a.row.typeName))])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.dialog.page.pageIndex,"page-size":t.dialog.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.dialog.page.total},on:{"current-change":t.indexChange2}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.addWeIdToWhiteList()}}},[t._v("添 加")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"温馨提示",width:"500px",visible:t.dialog.showWeIdVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"showWeIdVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage",staticStyle:{"min-height":"100px"}},[e("el-form",{attrs:{model:t.dialog.showData}},[e("el-form-item",{attrs:{label:"WeID:","label-width":t.formLabelWidth}},[e("el-input",{staticClass:"select_part",attrs:{readOnly:""},on:{focus:function(e){return t.selectCopy(e)}},model:{value:t.dialog.showData.weId,callback:function(e){t.$set(t.dialog.showData,"weId",e)},expression:"dialog.showData.weId"}})],1),t._v(" "),t.dialog.showData.hasPath?e("el-form-item",{attrs:{label:"该WeID密钥存放路径:","label-width":t.formLabelWidth}},[e("el-input",{staticClass:"select_part",attrs:{type:"textarea",resize:"none",rows:"4",readOnly:""},on:{focus:function(e){return t.selectCopy(e)}},model:{value:t.dialog.showData.path,callback:function(e){t.$set(t.dialog.showData,"path",e)},expression:"dialog.showData.path"}})],1):e("el-form-item",{attrs:{label:"该WeID密钥存放路径:","label-width":t.formLabelWidth}},[e("div",{staticClass:"select_part mark-text"},[t._v("该WeID非当前系统产生")])])],1)],1)])],1)}),[],!1,null,null,null);e.default=p.exports},DloA:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h6",[this._v("请选择您的角色")]),this._v(" "),t("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#id3",target:"_blank"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"guide_notice icon_question"},[this._v('什么是"联盟链委员会管理员"')])])])},function(){var t=this._self._c;return t("span",[t("img",{staticClass:"role_icon",attrs:{src:a("YnnG")}}),this._v('我是"联盟链委员会管理员"')])},function(){var t=this._self._c;return t("span",[t("img",{staticClass:"role_icon",attrs:{src:a("k6JR"),alt:""}}),this._v('我不是"联盟链委员会管理员"')])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#role-selection",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{roleType:1}},methods:{active:function(t){this.roleType=t},setRole:function(){var t=this;n.a.doPost("setRole",{roleType:this.roleType}).then((function(e){0===e.data.errorCode&&(localStorage.setItem("step",1),t.$router.push({name:"step1"}))}))},prev:function(){localStorage.setItem("step",""),this.$router.push({name:"step"})},next:function(){localStorage.setItem("roleType",this.roleType),this.setRole()},init:function(){var t=this;n.a.doGet("getRole").then((function(e){""!==e.data.result&&(t.roleType=e.data.result)}))}},mounted:function(){var t=localStorage.getItem("roleType");null!==t&&""!==t&&(this.roleType=parseInt(t)),this.init()},created:function(){this.checkStep()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[e("div",{staticClass:"container-fluid guild-step",staticStyle:{"padding-top":"10px"}},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[t._m(0),t._v(" "),e("div",{staticClass:"card-body role_body"},[e("div",{class:{"role_part role_active":1==t.roleType,role_part:1!==t.roleType},attrs:{type:"1"},on:{click:function(e){return t.active(1)}}},[t._m(1),e("img",{staticClass:"selected_icon",attrs:{src:a("up22"),alt:""}})]),t._v(" "),e("div",{class:{"role_part role_active":2==t.roleType,role_part:2!==t.roleType},attrs:{type:"2"},on:{click:function(e){return t.active(2)}}},[t._m(2),e("img",{staticClass:"selected_icon",attrs:{src:a("up22"),alt:""}})])]),t._v(" "),e("div",{staticClass:"card-footer bt-part",attrs:{id:"role-next"}},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.prev}},[t._v("上一步")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1),t._v(" "),t._m(3)])])])])])])}),i,!1,null,null,null);e.default=s.exports},G54h:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"guide_step_part box"},[e("div",{staticClass:"bottom_line"}),t._v(" "),e("div",{staticClass:"guide_step_item guide_step_complated"},[e("span",[t._v("1")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",[t._v("区块链节点配置")])]),t._v(" "),e("div",{staticClass:"guide_step_item guide_step_complated"},[e("span",[t._v("2")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",[t._v("设置主群组")])]),t._v(" "),e("div",{staticClass:"guide_step_item guide_step_complated"},[e("span",[t._v("3")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",[t._v("数据库配置(可选)")])]),t._v(" "),e("div",{staticClass:"guide_step_item guide_step_complated"},[e("span",[t._v("4")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",[t._v("创建管理员WeID")])]),t._v(" "),e("div",{staticClass:"guide_step_item guide_step_active"},[e("span",[t._v("5")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",{staticStyle:{width:"200px",left:"-89px"}},[t._v("部署WeIdentity智能合约")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h3",[this._v("为WeIdentity DID 设置链ID （chain-id）")])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#weid-deploy",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{deployForm:{applyName:"",chainId:""},deployed:!1,hash:"",dialog:{dialogDetailVisible:!1,deployMessages:[]},deployBtn:null}},methods:{checkInput:function(){return""===this.deployForm.chainId?(this.$alert("请输入ChainId!","温馨提示",{}).catch((function(){})),!1):""!==this.deployForm.applyName||(this.$alert("请输入应用名!","温馨提示",{}).catch((function(){})),!1)},comfirmBtn:function(){this.dialog.dialogDetailVisible=!1,this.deployed&&this.setGuideStatus()},toIndex:function(t){this.deployBtn=t.currentTarget,this.deployed?this.setGuideStatus():this.deploy()},deploy:function(){var t=this;this.checkInput()&&(this.deployed=!1,this.disableBtn(this.deployBtn),this.dialog.dialogDetailVisible=!0,this.dialog.deployMessages=[],this.dialog.deployMessages.push("合约部署中..."),n.a.doPost("deploy",this.deployForm,120).then((function(e){t.dialog.dialogDetailVisible=!0,0===e.data.errorCode?(t.hash=e.data.result,t.isEnableMasterCns()):(t.dialog.deployMessages.push("合约部署失败! 请查看日志。"),t.enableBtn(t.deployBtn))})))},isEnableMasterCns:function(){var t=this;n.a.doGet("isEnableMasterCns").then((function(e){t.dialog.dialogDetailVisible=!0,e.data.result?t.enableHash():(t.dialog.deployMessages.push("合约部署成功! 请继续操作。"),t.deployed=!0,t.enableBtn(t.deployBtn))}))},enableHash:function(){var t=this;this.dialog.deployMessages.push("合约启用中..."),n.a.doGet("enableHash/"+this.hash,null,10).then((function(e){t.dialog.dialogDetailVisible=!0,0===e.data.errorCode?(t.dialog.deployMessages.push("合约启用成功。"),t.deploySystemCpt()):(t.dialog.deployMessages.push("合约启用失败！请查看日志。"),t.enableBtn(t.deployBtn))}))},deploySystemCpt:function(){var t=this;this.dialog.deployMessages.push("系统CPT部署中..."),n.a.doGet("deploySystemCpt/"+this.hash,null,10).then((function(e){0===e.data.errorCode?(t.deployed=!0,t.dialog.deployMessages.push("系统CPT部署成功。"),t.dialog.deployMessages.push("系统CP部署成功! 请继续操作。")):t.dialog.deployMessages.push("系统CPT部署失败！请查看日志。"),t.dialog.dialogDetailVisible=!0,t.enableBtn(t.deployBtn)}))},prev:function(){localStorage.setItem("step",4),this.$router.push({name:"step4"})},setGuideStatus:function(){var t=this;n.a.doPost("setGuideStatus",{step:"5"}).then((function(e){localStorage.setItem("step",""),t.$router.push({name:"deployWeId"})}))}},mounted:function(){this.checkStep()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[t._m(0),t._v(" "),e("div",{staticClass:"container-fluid guild-step"},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[t._m(1),t._v(" "),e("el-form",{ref:"deployForm",attrs:{model:t.deployForm}},[e("div",{staticClass:"card-body role_body"},[e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-spec.html?highlight=chain-id#id4",target:"blank_"}},[e("span",{staticStyle:{color:"#017CFF"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" 什么是chain id?")])]),t._v(" "),e("el-form-item",{attrs:{prop:"chainId",rules:{required:!0,message:"请输入ChainId",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Enter chainId",maxlength:"30",onKeyUp:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')"},on:{blur:function(e){t.deployForm.chainId=e.target.value}},model:{value:t.deployForm.chainId,callback:function(e){t.$set(t.deployForm,"chainId",e)},expression:"deployForm.chainId"}})],1)],1)]),t._v(" "),e("div",{staticClass:"card-header",staticStyle:{"margin-top":"-5px"}},[e("h3",[t._v("为应用设置名字")])]),t._v(" "),e("div",{staticClass:"card-body role_body"},[e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("span",{staticStyle:{display:"block",color:"gray","padding-bottom":"10px"}},[t._v("给自己的WeIdentity区块链应用起一个名字吧，用于在同一条链上区别不同的 WeIdentity 应用，例如“学历证书应用”，“区块链证件应用”。")]),t._v(" "),e("el-form-item",{attrs:{prop:"applyName",rules:{required:!0,message:"请输入应用名",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Enter applyName",maxlength:"30"},model:{value:t.deployForm.applyName,callback:function(e){t.$set(t.deployForm,"applyName",e)},expression:"deployForm.applyName"}})],1)],1)])]),t._v(" "),e("div",{staticClass:"bt-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.prev}},[t._v("上一步")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:function(e){return t.toIndex(e)}}},[t._v("下一步")])],1),t._v(" "),t._m(2)],1)])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"合约部署",width:"400px",visible:t.dialog.dialogDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.deployMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.comfirmBtn}},[t._v("确 定")])],1)])],1)])])}),i,!1,null,null,null);e.default=s.exports},JNW4:function(t,e,a){"use strict";a("RDAk")},JsSH:function(t,e,a){"use strict";a("M2hi")},"KHd+":function(t,e,a){"use strict";function i(t,e,a,i,n,l,o,s){var r,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=a,d._compiled=!0),i&&(d.functional=!0),l&&(d._scopeId="data-v-"+l),o?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=r):n&&(r=s?function(){n.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:n),r)if(d.functional){d._injectStyles=r;var c=d.render;d.render=function(t,e){return r.call(e),c(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,r):[r]}return{exports:t,options:d}}a.d(e,"a",(function(){return i}))},L7JD:function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("OcYQ"),d=a.n(r),c=a("Mt0T"),p=a("vLK0"),u={components:{VJsoneditor:a.n(p).a},data:function(){return{page:{cptList:[],total:0,pageIndex:1,pageSize:5},queryForm:{cptType:""},dialog:{dialogCreateCpt1Visible:!1,dialogCreateCpt2Visible:!1,dialogCreateCpt3Visible:!1,dialogCreateCptVisible:!1,dialogShowCptVisible:!1,dialogRegistPolicyVisible:!1,policyInfo:{cptId:"",policy:""},cptSchema:"",oneLeveFrom:{cptTitle:"",cptDesc:"",cptId:""},multilevelFrom:{cptTitle:"",cptDesc:"",cptId:"",cptClaim:""},tableData:[],fileForm:{cptFileName:"",cptFile:""},create2:!0}}},methods:{showRegistCpt:function(){c.a.data.nodeStatus?this.dialog.dialogCreateCptVisible=!0:c.a.checkNodeState(!0)},showAll:function(t){this.$alert(t,"温馨提示",{}).catch((function(){}))},showCpt:function(t){var e=this;s.a.doGet("queryCptSchema/"+t).then((function(t){0===t.data.errorCode?(e.dialog.cptSchema=t.data.result,e.dialog.dialogShowCptVisible=!0):e.$alert("CPT查询异常!","温馨提示",{}).catch((function(){}))}))},changeCptType:function(){this.page.pageIndex=1,this.init()},downCpt:function(t){this.$confirm("确定下载该CPT吗？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(e){window.location.href=d.a.URL+"/downCpt/"+t})).catch((function(){}))},toRegistPolicy:function(t){var e=this,a={};a.cptId=t,s.a.doGet("cptToPolicy",a).then((function(a){0===a.data.errorCode?(e.dialog.policyInfo.policy=JSON.parse(a.data.result),e.dialog.policyInfo.cptId=t,e.dialog.dialogRegistPolicyVisible=!0):e.$alert("获取policy失败!","温馨提示").catch((function(){}))}))},onError:function(t){},addDomain:function(){this.dialog.tableData.push({name:"",type:"string",description:""})},deleteRow:function(t,e){e.splice(t,1)},showCreateCpt1:function(){this.dialog.dialogCreateCpt1Visible=!0,this.dialog.oneLeveFrom.cptTitle="",this.dialog.oneLeveFrom.cptDesc="",this.dialog.oneLeveFrom.cptClaim="",this.dialog.oneLeveFrom.cptId="",this.dialog.tableData=[],this.addDomain()},showCreateCpt2:function(){this.dialog.create2=!0,this.dialog.dialogCreateCpt2Visible=!0;var t=this;setTimeout((function(){t.setDefault()}),50),this.dialog.multilevelFrom.cptTitle="",this.dialog.multilevelFrom.cptDesc="",this.dialog.multilevelFrom.cptClaim="",this.dialog.multilevelFrom.cptId=""},showCreateCpt3:function(){this.dialog.create2=!1,this.dialog.dialogCreateCpt3Visible=!0,this.dialog.multilevelFrom.cptTitle="",this.dialog.multilevelFrom.cptDesc="",this.dialog.multilevelFrom.cptClaim="",this.dialog.multilevelFrom.cptId="",this.dialog.fileForm.cptFileName=""},selectJson:function(t){var e,a=this;1===t?e=_:2===t&&(e=m),""===this.dialog.multilevelFrom.cptClaim?this.dialog.multilevelFrom.cptClaim=e:this.dialog.multilevelFrom.cptClaim!==e&&this.$confirm("确认要覆盖下列代码片段?","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary",dangerouslyUseHTMLString:!0}).then((function(t){a.dialog.multilevelFrom.cptClaim=e})).catch((function(){}))},setDefault:function(){this.$refs.jsoneditorCpt.editor.setText("")},chooseFile:function(){var t=this,e=document.getElementById("cptFile");e.value="",e.click(),e.onchange=function(e){e.target.files[0]&&(t.dialog.fileForm.cptFileName=e.target.files[0].name,t.dialog.fileForm.cptFile=e.target.files[0])}},toCreateCpt2:function(){if(""!==this.dialog.fileForm.cptFileName){this.dialog.dialogCreateCpt3Visible=!1,this.dialog.dialogCreateCpt2Visible=!0;var t=new FileReader;if("undefined"!=typeof FileReader){t.readAsText(this.dialog.fileForm.cptFile,"utf-8");var e=this;t.onload=function(t){var a=JSON.parse(t.target.result);e.dialog.multilevelFrom.cptTitle=a.title,e.dialog.multilevelFrom.cptDesc=a.description,e.dialog.multilevelFrom.cptClaim=a.properties}}else this.$alert("您的浏览器不支持文件读取。","温馨提示",{closeOnClickModal:"true"}).catch((function(){}))}else this.$alert("请选择CPT JSON文件。","温馨提示",{closeOnClickModal:"true"}).catch((function(){}))},registerCpt1:function(t){if(""!==this.dialog.oneLeveFrom.cptTitle&&void 0!==this.dialog.oneLeveFrom.cptTitle)if(""!==this.dialog.oneLeveFrom.cptDesc&&void 0!==this.dialog.oneLeveFrom.cptDesc)if(0!==this.dialog.tableData.length){for(var e={},a=0;a<this.dialog.tableData.length;a++){var i={};if(i.type=this.dialog.tableData[a].type,i.description=this.dialog.tableData[a].description,0===this.dialog.tableData[a].name.length)return void this.$alert("请输入字段名!","温馨提示",{}).catch((function(){}));e[this.dialog.tableData[a].name]=i}var n=this.dialog.oneLeveFrom.cptId,l=this.dialog.oneLeveFrom.cptTitle,o=this.dialog.oneLeveFrom.cptDesc,s=t.currentTarget;this.disableBtn(s),this.registerCptInner(n,l,o,e,s)}else this.$alert("请新增凭证模板字段!","温馨提示",{}).catch((function(){}));else this.$alert("请输入凭证模板描述!","温馨提示",{}).catch((function(){}));else this.$alert("请输入凭证模板标题!","温馨提示",{}).catch((function(){}))},registerCpt2:function(t){if(""!==this.dialog.multilevelFrom.cptTitle&&void 0!==this.dialog.multilevelFrom.cptTitle)if(""!==this.dialog.multilevelFrom.cptDesc&&void 0!==this.dialog.multilevelFrom.cptDesc)if(""!==this.$refs.jsoneditorCpt.editor.getText().trim())if(""!==this.dialog.multilevelFrom.cptClaim&&void 0!==this.dialog.multilevelFrom.cptClaim){var e=this.dialog.multilevelFrom.cptId,a=this.dialog.multilevelFrom.cptTitle,i=this.dialog.multilevelFrom.cptDesc,n=this.dialog.multilevelFrom.cptClaim,l=t.currentTarget;this.disableBtn(l),this.registerCptInner(e,a,i,n,l)}else this.$alert("请输入凭证模板Claim!","温馨提示",{}).catch((function(){}));else this.$alert("请输入凭证模板Claim!！","温馨提示",{}).catch((function(){}));else this.$alert("请输入凭证模板描述!","温馨提示",{}).catch((function(){}));else this.$alert("请输入凭证模板标题!","温馨提示",{}).catch((function(){}))},registerCptInner:function(t,e,a,i,n){var l=this,o={};o.title=e,o.description=a,o.properties=i;var r={cptJson:JSON.stringify(o),cptId:t};s.a.doPost("registerCpt",r).then((function(t){0===t.data.errorCode?(l.$alert("凭证模板(CPT)注册成功！","温馨提示",{}).catch((function(){})),l.dialog.dialogCreateCpt2Visible=!1,l.dialog.dialogCreateCptVisible=!1,l.dialog.dialogCreateCpt1Visible=!1,l.init()):l.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){})),l.enableBtn(n)}))},registerClaimPolicy:function(t){var e=this;if(""!==this.$refs.jsoneditorPolicy.editor.getText().trim()){var a=t.currentTarget;this.disableBtn(a);var i={};i.cptId=this.dialog.policyInfo.cptId,i.policy=JSON.stringify(this.dialog.policyInfo.policy),s.a.doPost("registerClaimPolicy",i).then((function(t){0===t.data.errorCode?(e.$alert("Policy注册成功！","温馨提示",{}).catch((function(){})),e.dialog.dialogRegistPolicyVisible=!1,e.init()):e.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){})),e.enableBtn(a)}))}else this.$alert("请填写policy！","温馨提示").catch((function(){}))},indexChange:function(t){this.page.pageIndex=t,this.init()},init:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize,e.cptType=this.queryForm.cptType,s.a.doGet("getCptInfoList",e).then((function(e){0===e.data.errorCode&&(t.page.cptList=e.data.result.dataList,t.page.total=e.data.result.allCount)}))},dateFormat:function(t){return new Date(parseInt(1e3*t.time)+288e5).toJSON().substr(0,19).replace("T"," ")},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.checkNodeState(!0);case 2:c.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},_={id:{type:"string",description:"user weId"},age:{description:"the age of certificate owner",type:"integer"},gender:{description:"the gender of certificate owner",enum:["F","M"],type:"string"},name:{description:"the name of certificate owner",type:"string"}},m={id:{type:"string",description:"the WeID of the owner"},name:{type:"string",description:"the name of object"},meta:{type:"object",properties:{id:{type:"string",description:"code"},context:{type:"string",description:"error"},date:{type:"string",description:"info"}}},data:{type:"object",properties:{id:{type:"string",description:"id"},address:{type:"string",description:"sipTellAddress"},userlevel:{type:"integer",description:"userlevel"}}}},g=u,h=a("KHd+"),f=Object(h.a)(g,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",{staticClass:"app_main_header_row"},[e("el-col",{attrs:{span:4}},[e("el-button",{staticClass:"btn",staticStyle:{width:"190px"},attrs:{type:"primary"},on:{click:t.showRegistCpt}},[t._v("注册新的凭证模板(CPT)")])],1),t._v(" "),e("el-col",{staticClass:"head-icon",attrs:{span:20}},[e("a",{attrs:{target:"blank",href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=CPT#cpt"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("凭证模板(CPT)使用教程")])])])],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-form",{ref:"queryForm",staticClass:"item",attrs:{model:t.queryForm}},[e("el-form-item",{attrs:{prop:"cptType",label:"凭证模板(CPT)类型:"}},[e("el-select",{staticStyle:{width:"120px"},on:{change:function(e){return t.changeCptType()}},model:{value:t.queryForm.cptType,callback:function(e){t.$set(t.queryForm,"cptType",e)},expression:"queryForm.cptType"}},[e("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),e("el-option",{attrs:{label:"系统CPT",value:"sys"}}),t._v(" "),e("el-option",{attrs:{label:"用户CPT",value:"user"}})],1)],1)],1),t._v(" "),e("el-table",{attrs:{data:t.page.cptList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"cptId",label:"凭证模板ID(CPT ID)",align:"center",width:"170"}}),t._v(" "),e("el-table-column",{attrs:{label:"凭证模板名称(CPT Name)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.cptTitle}},[t._v(t._s(a.row.cptTitle))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"publish",label:"发布者WeID",align:"center",width:"270"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words link",attrs:{title:a.row.weId},on:{click:function(e){return t.showAll(a.row.weId)}}},[t._v(t._s(a.row.weIdShow))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"创建时间",align:"center",formatter:t.dateFormat,width:"170"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"340"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(e){return t.showCpt(a.row.cptId)}}},[t._v("预览模板")]),t._v(" "),e("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(e){return t.downCpt(a.row.cptId)}}},[t._v("下载模板")]),t._v(" "),"user"===a.row.cptType?e("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(e){return t.toRegistPolicy(a.row.cptId)}}},[t._v("注册Policy")]):t._e()]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),e("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"dialog-view",staticStyle:{"min-width":"900px"},attrs:{title:"创建凭证模板(CPT)",width:"25%",visible:t.dialog.dialogCreateCptVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateCptVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-row",[e("el-col",[e("el-button",{staticClass:"btn width_100",attrs:{type:"primary"},on:{click:function(e){return t.showCreateCpt1()}}},[t._v("创建只有一级数据结构的凭证模板")])],1)],1),t._v(" "),e("el-row",[e("el-col",[e("el-button",{staticClass:"btn width_100",attrs:{type:"primary"},on:{click:function(e){return t.showCreateCpt2()}}},[t._v("创建多级数据结构的凭证模板")])],1)],1),t._v(" "),e("el-row",[e("el-col",[e("el-button",{staticClass:"btn width_100",attrs:{type:"primary"},on:{click:function(e){return t.showCreateCpt3()}}},[t._v("上传CPT模板文件创建凭证模板")])],1)],1)],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"注册新的凭证模板(CPT)",width:"50%",visible:t.dialog.dialogCreateCpt1Visible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateCpt1Visible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{ref:"dialog.oneLeveFrom",staticClass:"item",attrs:{model:t.dialog.oneLeveFrom,"inline-message":"true","label-position":"left","label-width":"110px"}},[e("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"CPT标题:",prop:"cptTitle",rules:{required:!0,message:"CPT标题不能为空",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"Enter cpt title",maxlength:"30"},model:{value:t.dialog.oneLeveFrom.cptTitle,callback:function(e){t.$set(t.dialog.oneLeveFrom,"cptTitle",e)},expression:"dialog.oneLeveFrom.cptTitle"}})],1),t._v(" "),e("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"CPT描述:",prop:"cptDesc",rules:{required:!0,message:"CPT描述不能为空",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"Enter cpt description",maxlength:"30"},model:{value:t.dialog.oneLeveFrom.cptDesc,callback:function(e){t.$set(t.dialog.oneLeveFrom,"cptDesc",e)},expression:"dialog.oneLeveFrom.cptDesc"}})],1),t._v(" "),e("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"CPT ID (选填):",prop:"registerCptId"}},[e("el-input",{staticStyle:{width:"70%"},attrs:{maxlength:"30",onkeyup:"this.value=this.value.replace(/\\D/g,'')",placeholder:"Enter cptId"},on:{blur:function(e){t.dialog.oneLeveFrom.cptId=e.target.value}},model:{value:t.dialog.oneLeveFrom.cptId,callback:function(e){t.$set(t.dialog.oneLeveFrom,"cptId",e)},expression:"dialog.oneLeveFrom.cptId"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("只允许填入数字；如果不填，系统将自动按累加规则帮您生成CPT ID")])])],1),t._v(" "),e("div",{staticClass:"mark-icon"},[e("strong",{staticStyle:{"font-size":"14px"}},[t._v("数据结构定义（claim结构定义）")]),t._v(" "),e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-spec.html?highlight=claim#claim-protocol-type-cpt",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("什么是claim")])])]),t._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.dialog.tableData,border:"","max-height":"300"}},[e("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"字段名",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{model:{value:a.row.name,callback:function(e){t.$set(a.row,"name",e)},expression:"scope.row.name"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"type",label:"字段类型",width:"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{model:{value:a.row.type,callback:function(e){t.$set(a.row,"type",e)},expression:"scope.row.type"}},[e("el-option",{attrs:{label:"string",value:"string",selected:""}}),t._v(" "),e("el-option",{attrs:{label:"integer",value:"integer"}})],1)]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"description",label:"字段描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{model:{value:a.row.description,callback:function(e){t.$set(a.row,"description",e)},expression:"scope.row.description"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.deleteRow(a.$index,t.dialog.tableData)}}},[t._v("删除")])]}}])})],1),t._v(" "),e("div",{staticClass:"mark-icon",staticStyle:{"margin-top":"5px"}},[e("span",{staticClass:"icon_question"},[t._v("claim中的属性需要以字母开头")])]),t._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addDomain()}}},[t._v("新增字段")])],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.registerCpt1(e)}}},[t._v("注 册")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"注册新的凭证模板(CPT)",width:"40%",visible:t.dialog.dialogCreateCpt2Visible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateCpt2Visible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{ref:"dialog.multilevelFrom",staticClass:"item",attrs:{model:t.dialog.multilevelFrom,"label-position":"left","inline-message":"true","label-width":"110px"}},[e("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"CPT标题:",prop:"cptTitle",rules:{required:!0,message:"CPT标题不能为空",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"Enter cpt title",maxlength:"30"},model:{value:t.dialog.multilevelFrom.cptTitle,callback:function(e){t.$set(t.dialog.multilevelFrom,"cptTitle",e)},expression:"dialog.multilevelFrom.cptTitle"}})],1),t._v(" "),e("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"CPT描述:",prop:"cptDesc",rules:{required:!0,message:"CPT描述不能为空",trigger:"blur"}}},[e("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"Enter cpt description",maxlength:"30"},model:{value:t.dialog.multilevelFrom.cptDesc,callback:function(e){t.$set(t.dialog.multilevelFrom,"cptDesc",e)},expression:"dialog.multilevelFrom.cptDesc"}})],1),t._v(" "),e("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"CPT ID (选填):",prop:"cptId"}},[e("el-input",{staticStyle:{width:"70%"},attrs:{maxlength:"30",onkeyup:"this.value=this.value.replace(/\\D/g,'')",placeholder:"Enter cptId"},on:{blur:function(e){t.dialog.multilevelFrom.cptId=e.target.value}},model:{value:t.dialog.multilevelFrom.cptId,callback:function(e){t.$set(t.dialog.multilevelFrom,"cptId",e)},expression:"dialog.multilevelFrom.cptId"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("只允许填入数字；如果不填，系统将自动按累加规则帮您生成CPT ID")])])],1),t._v(" "),e("div",{staticClass:"mark-icon"},[e("strong",{staticStyle:{"font-size":"14px"}},[t._v("数据结构定义（claim结构定义）")]),t._v(" "),e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-spec.html?highlight=claim#claim-protocol-type-cpt",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("什么是claim")])])]),t._v(" "),t.dialog.create2?e("div",{staticClass:"mark-bottom"},[e("el-button",{attrs:{type:"primary",title:"模板1为 Claim 只有一级数据结构的模板"},on:{click:function(e){return t.selectJson(1)}}},[t._v("模板1")]),t._v(" "),e("el-button",{attrs:{type:"primary",title:"模板2为 Claim 是两级数据结构的模板"},on:{click:function(e){return t.selectJson(2)}}},[t._v("模板2")]),t._v(" "),e("div",{staticStyle:{"padding-top":"5px","padding-bottom":"5px"}},[t._v("说明: 点击模板按钮可以自动填充相应内容到下列代码输入框中")])],1):t._e(),t._v(" "),e("div",[e("v-jsoneditor",{ref:"jsoneditorCpt",attrs:{options:{mode:"code"},plus:!1,height:"400px"},on:{error:t.onError},model:{value:t.dialog.multilevelFrom.cptClaim,callback:function(e){t.$set(t.dialog.multilevelFrom,"cptClaim",e)},expression:"dialog.multilevelFrom.cptClaim"}})],1),t._v(" "),e("div",{staticClass:"mark-icon",staticStyle:{"margin-top":"5px"}},[e("span",{staticClass:"icon_question"},[t._v("claim中的属性需要以字母开头")])])],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.registerCpt2(e)}}},[t._v("注 册")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",staticStyle:{"min-width":"40%"},attrs:{title:"注册新的凭证模板(CPT)",width:"40%",visible:t.dialog.dialogCreateCpt3Visible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogCreateCpt3Visible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.fileForm}},[e("div",{staticClass:"file_part",staticStyle:{"margin-top":"15px"}},[e("el-form-item",{attrs:{label:"CPT JSON文件:"}},[e("div",{staticClass:"input_item",staticStyle:{"margin-bottom":"-8px"}},[e("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择CPT文件",maxlength:"30",readOnly:""},model:{value:t.dialog.fileForm.cptFileName,callback:function(e){t.$set(t.dialog.fileForm,"cptFileName",e)},expression:"dialog.fileForm.cptFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("cptFile")}}},[t._v("选择文件")])],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"cptFile",accept:".json"}})],1)])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.toCreateCpt2()}}},[t._v("下 一 步")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"预览cpt模板",width:"40%",visible:t.dialog.dialogShowCptVisible},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogShowCptVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-row",[e("el-col",[e("el-input",{attrs:{type:"textarea",readOnly:"",rows:20,resize:"none"},model:{value:t.dialog.cptSchema,callback:function(e){t.$set(t.dialog,"cptSchema",e)},expression:"dialog.cptSchema"}})],1)],1)],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"注册Policy",width:"30%",visible:t.dialog.dialogRegistPolicyVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogRegistPolicyVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-row",[e("el-col",[e("strong",[t._v("Policy结构如下:")]),t._v(" "),e("p",[e("span",{staticStyle:{"font-size":"12px",display:"inline-block"}},[t._v("0: 表示不披露，1: 表示披露")])])])],1),t._v(" "),e("el-row",[e("el-col",[e("v-jsoneditor",{ref:"jsoneditorPolicy",attrs:{options:{mode:"code"},plus:!0,height:"400px"},on:{error:t.onError},model:{value:t.dialog.policyInfo.policy,callback:function(e){t.$set(t.dialog.policyInfo,"policy",e)},expression:"dialog.policyInfo.policy"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.registerClaimPolicy(e)}}},[t._v("注 册")])],1)])],1)}),[],!1,null,null,null);e.default=f.exports},M2hi:function(t,e,a){var i=a("20ja");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("SZ7m").default)("3b7c8dbc",i,!0,{})},MPIY:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_complated"},[t("span",[this._v("1")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("区块链节点配置")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_complated"},[t("span",[this._v("2")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("设置主群组")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_complated"},[t("span",[this._v("3")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("数据库配置(可选)")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_active"},[t("span",[this._v("4")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("创建管理员WeID")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-mark"},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#weid",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("什么是管理员？")])])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#weid",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{roleType:localStorage.getItem("roleType"),createType:1,accountForm:{account:""},dialog:{dialogVisible:!1,dialogUserListVisible:!1,fileForm:{privateKeyFile:"",privateKeyFileName:""},userListPage:{userList:[],pageIndex:1,pageSize:5,total:0,selectedRow:null}},isExistsAdmin:!1,title:"创建管理员WeID",useWeBase:!1}},methods:{active:function(t){this.createType=t},createAdmin:function(){var t=this,e=new FormData;if(2===this.createType){if(""===this.dialog.fileForm.privateKeyFile)return void this.$alert("请选择私钥文件!","温馨提示",{}).catch((function(){}));e.append("ecdsa",this.dialog.fileForm.privateKeyFile)}n.a.doPostAndUploadFile("createAdmin",e).then((function(e){0===e.data.errorCode?(t.$alert("账户创建成功!","温馨提示",{}).catch((function(){})),t.init()):t.$alert("账户创建失败!","温馨提示",{}).catch((function(){}))}))},createAdminByWeBase:function(){var t=this,e={};e.userId=this.dialog.userListPage.selectedRow.userId,n.a.doPost("webase/createAdmin",e).then((function(e){0===e.data.errorCode?(t.$alert("账户启用成功!","温馨提示",{}).catch((function(){})),t.dialog.dialogUserListVisible=!1,t.init()):t.$alert("账户启用失败!","温馨提示",{}).catch((function(){}))}))},setGuideStatus:function(){var t=this;n.a.doPost("setGuideStatus",{step:"5"}).then((function(e){localStorage.setItem("step",""),t.$router.push({name:"deployWeId"})}))},next:function(){var t=this;this.isExistsAdmin?"2"===this.roleType?this.setGuideStatus():(localStorage.setItem("step",5),this.$router.push({name:"step5"})):3===this.createType?this.queryUserList():2===this.createType?this.dialog.dialogVisible=!0:this.$confirm("请确认，系统将自动为管理员的 WeID 创建公私钥?","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary",dangerouslyUseHTMLString:!0}).then((function(e){t.createAdmin()})).catch((function(){}))},prev:function(){localStorage.setItem("step",3),this.$router.push({name:"step3"})},chooseFile:function(t){var e=this,a=document.getElementById(t);a.value="",a.click(),a.onchange=function(t){t.target.files[0]&&(e.dialog.fileForm.privateKeyFileName=t.target.files[0].name,e.dialog.fileForm.privateKeyFile=t.target.files[0])}},chooseUser:function(){var t=this;if(null!==this.dialog.userListPage.selectedRow){var e=this.dialog.userListPage.selectedRow.address;this.$confirm("确定使用["+e+"]作为WeID的账户吗?","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary",dangerouslyUseHTMLString:!0}).then((function(e){t.createAdminByWeBase()})).catch((function(){}))}else this.$alert("请选择用户!","温馨提示",{}).catch((function(){}))},init:function(){var t=this;n.a.doGet("checkAdmin").then((function(e){""!==e.data.result?(t.isExistsAdmin=!0,t.title="当前管理员的 WeID 已经存在（目前不支持修改）",t.accountForm.account=e.data.result):(t.isExistsAdmin=!1,t.title="创建管理员WeID",t.loadConfig())})),this.dialog.dialogVisible=!1},loadConfig:function(){var t=this;n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.useWeBase=JSON.parse(e.data.result.useWeBase))}))},indexChange:function(t){this.dialog.userListPage.pageIndex=t,this.queryUserList()},queryUserList:function(){var t=this,e={};e.pageIndex=this.dialog.userListPage.pageIndex,e.pageSize=this.dialog.userListPage.pageSize,n.a.doGet("webase/queryUserList",e).then((function(e){0===e.data.errorCode&&(t.dialog.userListPage.userList=e.data.result.dataList,t.dialog.userListPage.total=e.data.result.allCount,t.dialog.dialogUserListVisible=!0),t.dialog.userListPage.selectedRow=null}))}},mounted:function(){this.checkStep(),this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[e("div",{staticClass:"guide_step_part box"},[e("div",{staticClass:"bottom_line"}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),"1"==t.roleType?e("div",{staticClass:"guide_step_item"},[e("span",[t._v("5")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",{staticStyle:{width:"200px",left:"-89px"}},[t._v("部署WeIdentity智能合约")])]):t._e()]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[e("div",{staticClass:"card-header"},[e("h3",[t._v(t._s(t.title))])]),t._v(" "),t._m(4),t._v(" "),e("div",{staticClass:"card-body",staticStyle:{"margin-top":"15px"}},[e("el-form",{ref:"accountForm",attrs:{model:t.accountForm}},[!1===t.isExistsAdmin?e("div",{staticClass:"form-group",attrs:{id:"createDiv"}},[e("div",{class:{"key_item active_key":1===t.createType,key_item:1!==t.createType},attrs:{type:"1"},on:{click:function(e){return t.active(1)}}},[e("span",{staticClass:"item_out_role"},[e("span")]),t._v(" "),e("p",[t._v("系统自动创建公私钥")])]),t._v(" "),e("div",{class:{"key_item active_key":2===t.createType,key_item:2!==t.createType},attrs:{type:"1"},on:{click:function(e){return t.active(2)}}},[e("span",{staticClass:"item_out_role"},[e("span")]),t._v(" "),e("p",[t._v("自行上传私钥")])]),t._v(" "),t.useWeBase?e("div",{class:{"key_item active_key":3===t.createType,key_item:3!==t.createType},attrs:{type:"3"},on:{click:function(e){return t.active(3)}}},[e("span",{staticClass:"item_out_role"},[e("span")]),t._v(" "),e("p",[t._v("WeBASE同步账户")])]):t._e()]):t._e(),t._v(" "),!0===t.isExistsAdmin?e("div",{staticClass:"form-group",attrs:{id:"accountDiv"}},[e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{readOnly:""},model:{value:t.accountForm.account,callback:function(e){t.$set(t.accountForm,"account",e)},expression:"accountForm.account"}})],1)],1):t._e(),t._v(" "),e("div",{staticClass:"bt-part",attrs:{id:"nextDiv"}},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.prev}},[t._v("上一步")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)]),t._v(" "),t._m(5)],1)])])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"自行上传私钥",width:"30%",visible:t.dialog.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.fileForm}},[e("div",{staticClass:"file_part",staticStyle:{"margin-top":"15px"}},[e("el-form-item",[e("div",{staticClass:"mark-text"},[e("span",[t._v("备注：支持椭圆曲线的公私钥，并且为十进制私钥数据。")]),t._v(" "),e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=创建密钥#weid",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("如何生成私钥？")])])]),t._v(" "),e("div",{staticClass:"input_item",staticStyle:{"margin-bottom":"-8px"}},[e("el-input",{staticStyle:{width:"75%"},attrs:{placeholder:"请选择私钥文件",maxlength:"30",readOnly:""},model:{value:t.dialog.fileForm.privateKeyFileName,callback:function(e){t.$set(t.dialog.fileForm,"privateKeyFileName",e)},expression:"dialog.fileForm.privateKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("privateKeyFile")}}},[t._v("选择文件")])],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"privateKeyFile"}})],1)])],1),t._v(" "),e("div",{staticClass:"dialog-footer width_100",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.createAdmin()}}},[t._v("确 定")])],1)])],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"WeBASE账户列表",width:"40%",visible:t.dialog.dialogUserListVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogUserListVisible",e)}}},[e("el-table",{attrs:{data:t.dialog.userListPage.userList,border:"true",cellpadding:"0",cellspacing:"0"}},[e("el-table-column",{attrs:{label:"选择",width:"55"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-radio",{attrs:{label:a.row},model:{value:t.dialog.userListPage.selectedRow,callback:function(e){t.$set(t.dialog.userListPage,"selectedRow",e)},expression:"dialog.userListPage.selectedRow"}},[e("i")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"用户名"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.userName}},[t._v(t._s(a.row.userName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"address",label:"用户账户",width:"350"}}),t._v(" "),e("el-table-column",{attrs:{property:"createTime",label:"创建时间",width:"170"}})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.dialog.userListPage.pageIndex,"page-size":t.dialog.userListPage.pageSize,layout:"total, prev, pager, next, jumper",total:t.dialog.userListPage.total},on:{"current-change":t.indexChange}}),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.chooseUser}},[t._v("确定")])],1)],1)],1)])}),i,!1,null,null,null);e.default=s.exports},Pf3K:function(t,e,a){"use strict";var i={name:"App"},n=(a("JNW4"),a("KHd+")),l=Object(n.a)(i,(function(){var t=this._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)}),[],!1,null,null,null);e.a=l.exports},RDAk:function(t,e,a){var i=a("+4MC");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("SZ7m").default)("786a3602",i,!0,{})},S0i5:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h6",[this._v("请选择配置模式")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-mark"},[t("div",{staticClass:"card-mark-text"},[t("div",[this._v("1. WeID原始模式: 原WeID的引导配置步骤。")]),this._v(" "),t("div",[this._v("2. WeID+WeBASE集成模式: 原WeID的引导配置过程中可选择WeBASE同步的数据,如: 节点，账户等数据，且合约部署会同步到WeBASE。")])])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#mode-selection",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{dataForm:{address:"",appKey:"",appSecret:"",text:""},configMode:1}},methods:{active:function(t){localStorage.setItem("configMode",t),this.configMode=t},inputChange:function(){var t=!0;if(""!==this.dataForm.text&&null!==this.dataForm.text){var e=this.dataForm.text.split(",");e.length>=3&&(this.dataForm.address=e[0],this.dataForm.appKey=e[1],this.dataForm.appSecret=e[2],t=!1,sessionStorage.setItem("weBaseText",this.dataForm.text))}t&&(this.dataForm.address="",this.dataForm.appKey="",this.dataForm.appSecret="")},next:function(t){1===this.configMode?this.setNoWeBaseMode():this.setWeBaseMode(t)},setNoWeBaseMode:function(){var t=this;n.a.doPost("webase/setNoWeBaseMode").then((function(e){0===e.data.errorCode&&(localStorage.setItem("step",0),t.$router.push({name:"step0"}))}))},setWeBaseMode:function(t){var e=this,a={};if(a.weBaseHost=this.dataForm.address,a.appKey=this.dataForm.appKey,a.appSecret=this.dataForm.appSecret,a.weIdHost=window.location.host,""!==a.weBaseHost)if(""!==a.appKey)if(""!==a.appSecret){var i=t.currentTarget;this.disableBtn(i),n.a.doPostByJson("webase/registerApp",a).then((function(t){e.enableBtn(i),0===t.data.errorCode?(localStorage.setItem("step",0),e.$router.push({name:"step0"})):e.$alert("请求发生异常，请查看后台日志!","温馨提示",{}).catch((function(){}))}))}else this.$alert("请输入appSecret!","温馨提示",{}).catch((function(){}));else this.$alert("请输入appKey!","温馨提示",{}).catch((function(){}));else this.$alert("请输入WeBASE服务地址!","温馨提示",{}).catch((function(){}))},init:function(){var t=localStorage.getItem("configMode");this.configMode=""===t||null===t?1:parseInt(t),this.dataForm.text=sessionStorage.getItem("weBaseText"),this.inputChange()}},mounted:function(){this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[e("div",{staticClass:"container-fluid guild-step",staticStyle:{"padding-top":"10px"}},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("el-form",{ref:"dataForm",staticStyle:{"margin-top":"15px"},attrs:{model:t.dataForm,"label-position":"right","label-width":"150px"}},[e("div",{staticClass:"form-group",attrs:{id:"createDiv"}},[e("div",{class:{"key_item active_key":1===t.configMode,key_item:1!==t.configMode},attrs:{type:"1"},on:{click:function(e){return t.active(1)}}},[e("span",{staticClass:"item_out_role"},[e("span")]),t._v(" "),e("p",[t._v("WeID原始模式")])]),t._v(" "),e("div",{class:{"key_item active_key":2===t.configMode,key_item:2!==t.configMode},attrs:{type:"1"},on:{click:function(e){return t.active(2)}}},[e("span",{staticClass:"item_out_role"},[e("span")]),t._v(" "),e("p",[t._v("WeID + WeBASE集成模式")])])]),t._v(" "),2===t.configMode?e("div",{staticStyle:{"margin-top":"30px"}},[e("div",{staticClass:"card-header card-title"},[e("h3",[t._v("WeBASE配置")])]),t._v(" "),e("el-form-item",{attrs:{label:"粘贴区:",prop:"org_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Your can copy data from WeBASE",resize:"none",type:"textarea"},nativeOn:{keyup:function(e){return t.inputChange()}},model:{value:t.dataForm.text,callback:function(e){t.$set(t.dataForm,"text",e)},expression:"dataForm.text"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v("请从WeBASE管理台复制此应用的配置内容，然后粘贴此处。")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"WeBASE服务地址:",prop:"org_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter IP:PORT",maxlength:"30",onKeyUp:"value=value=value.replace(/[^0-9：:。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');"},on:{blur:function(e){t.dataForm.address=e.target.value}},model:{value:t.dataForm.address,callback:function(e){t.$set(t.dataForm,"address",e)},expression:"dataForm.address"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"appKey:",prop:"org_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter appKey",maxlength:"30"},model:{value:t.dataForm.appKey,callback:function(e){t.$set(t.dataForm,"appKey",e)},expression:"dataForm.appKey"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"appSecret:",prop:"org_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter appSecret",maxlength:"30"},model:{value:t.dataForm.appSecret,callback:function(e){t.$set(t.dataForm,"appSecret",e)},expression:"dataForm.appSecret"}})],1)],1):t._e()]),t._v(" "),e("div",{staticClass:"card-footer bt-part",attrs:{id:"role-next"}},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:function(e){return t.next(e)}}},[t._v("下一步")])],1),t._v(" "),t._m(2)],1)])])])])])}),i,!1,null,null,null);e.default=s.exports},SZ7m:function(t,e,a){"use strict";function i(t,e){for(var a=[],i={},n=0;n<e.length;n++){var l=e[n],o=l[0],s={id:t+":"+n,css:l[1],media:l[2],sourceMap:l[3]};i[o]?i[o].parts.push(s):a.push(i[o]={id:o,parts:[s]})}return a}a.r(e),a.d(e,"default",(function(){return _}));var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},o=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,r=0,d=!1,c=function(){},p=null,u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(t,e,a,n){d=a,p=n||{};var o=i(t,e);return m(o),function(e){for(var a=[],n=0;n<o.length;n++){var s=o[n];(r=l[s.id]).refs--,a.push(r)}e?m(o=i(t,e)):o=[];for(n=0;n<a.length;n++){var r;if(0===(r=a[n]).refs){for(var d=0;d<r.parts.length;d++)r.parts[d]();delete l[r.id]}}}}function m(t){for(var e=0;e<t.length;e++){var a=t[e],i=l[a.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](a.parts[n]);for(;n<a.parts.length;n++)i.parts.push(h(a.parts[n]));i.parts.length>a.parts.length&&(i.parts.length=a.parts.length)}else{var o=[];for(n=0;n<a.parts.length;n++)o.push(h(a.parts[n]));l[a.id]={id:a.id,refs:1,parts:o}}}}function g(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function h(t){var e,a,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(d)return c;i.parentNode.removeChild(i)}if(u){var n=r++;i=s||(s=g()),e=b.bind(null,i,n,!1),a=b.bind(null,i,n,!0)}else i=g(),e=y.bind(null,i),a=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else a()}}var f,v=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function b(t,e,a,i){var n=a?"":i.css;if(t.styleSheet)t.styleSheet.cssText=v(e,n);else{var l=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(l,o[e]):t.appendChild(l)}}function y(t,e){var a=e.css,i=e.media,n=e.sourceMap;if(i&&t.setAttribute("media",i),p.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}},TrUB:function(t,e,a){var i=a("aYGk"),n={autoSetContainer:!1,appendToBody:!0},l={install:function(t){var e="3."===t.version.slice(0,2)?t.config.globalProperties:t.prototype;e.$clipboardConfig=n,e.$copyText=function(t,e){return new Promise((function(a,l){var o=document.createElement("button"),s=new i(o,{text:function(){return t},action:function(){return"copy"},container:"object"==typeof e?e:document.body});s.on("success",(function(t){s.destroy(),a(t)})),s.on("error",(function(t){s.destroy(),l(t)})),n.appendToBody&&document.body.appendChild(o),o.click(),n.appendToBody&&document.body.removeChild(o)}))},t.directive("clipboard",{bind:function(t,e,a){if("success"===e.arg)t._vClipboard_success=e.value;else if("error"===e.arg)t._vClipboard_error=e.value;else{var l=new i(t,{text:function(){return e.value},action:function(){return"cut"===e.arg?"cut":"copy"},container:n.autoSetContainer?t:void 0});l.on("success",(function(e){var a=t._vClipboard_success;a&&a(e)})),l.on("error",(function(e){var a=t._vClipboard_error;a&&a(e)})),t._vClipboard=l}},update:function(t,e){"success"===e.arg?t._vClipboard_success=e.value:"error"===e.arg?t._vClipboard_error=e.value:(t._vClipboard.text=function(){return e.value},t._vClipboard.action=function(){return"cut"===e.arg?"cut":"copy"})},unbind:function(t,e){t._vClipboard&&("success"===e.arg?delete t._vClipboard_success:"error"===e.arg?delete t._vClipboard_error:(t._vClipboard.destroy(),delete t._vClipboard))}})},config:n};t.exports=l},Y9UP:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h3",[this._v("数据库配置")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"sql_warning bg_color"},[e("div",{staticClass:"warning_title"},[t._v("温馨提示")]),t._v(" "),e("p",[t._v("如果您需要使用到下列功能，则需要配置数据库")]),t._v(" "),e("p",[t._v("1.Transportation相关组件功能")]),t._v(" "),e("p",[t._v("2.Evidence异步存证功能")]),t._v(" "),e("p",[t._v("3.Persistence数据存储功能(例如：存储Credential)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html?highlight=配置数据库#db-configuration",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("配置教程")])])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/how-to-use-persistence.html",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("使用教程")])])])])}],n=a("NVG9"),l={data:function(){return{dbForm:{persistence_type:"",mysql_address:"",mysql_database:"",mysql_username:"",mysql_password:"",redis_address:"",redis_password:""},dialog:{checkDetailVisible:!1,checkMessages:[],nextBtn:null}}},methods:{checkInput:function(){if("mysql"===this.dbForm.persistence_type){if(""===this.dbForm.mysql_address)return this.$alert("请输入数据库 IP 和 PORT !","温馨提示",{}).catch((function(){})),!1;if(""===this.dbForm.mysql_database)return this.$alert("请输入数据库名称!","温馨提示",{}).catch((function(){})),!1;if(""===this.dbForm.mysql_username)return this.$alert("请输入数据库用户名!","温馨提示",{}).catch((function(){})),!1;if(""===this.dbForm.mysql_password)return this.$alert("请输入数据库密码!","温馨提示",{}).catch((function(){})),!1}else if(""===this.dbForm.redis_address)return this.$alert("请输入Redis的服务 IP 和 PORT !","温馨提示",{}).catch((function(){})),!1;return!0},checkPersistence:function(){var t=this;this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("数据库配置检测中..."),n.a.doGet("checkPersistence").then((function(e){t.dialog.checkDetailVisible=!0,t.enableBtn(t.dialog.nextBtn),e.data.result?(t.dialog.checkMessages.push("数据库配置检测成功。"),t.dialog.checkMessages.push("提示：目前暂不支持修改配置动态实时生效，修改配置需重启服务才能生效")):t.dialog.checkMessages.push("数据库配置检测失败。")}))},submitDbConfig:function(t){var e=this;this.checkInput()&&(this.dialog.nextBtn=t.currentTarget,this.dialog.checkMessages=[],this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("数据库配置提交中..."),this.disableBtn(this.dialog.nextBtn),n.a.doPost("submitDbConfig",this.dbForm).then((function(t){e.dialog.checkDetailVisible=!0,0===t.data.errorCode?(e.dialog.checkMessages.push("数据库配置提交成功。"),e.checkPersistence()):(e.dialog.checkMessages.push("数据库配置提交失败。"),e.enableBtn(e.dialog.nextBtn))})))},init:function(){var t=this;n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.dbForm=e.data.result,"mysql"!==t.dbForm.persistence_type&&"redis"!==t.dbForm.persistence_type&&(t.dbForm.persistence_type="mysql"))}))}},mounted:function(){this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content section_main"},[e("div",{staticClass:"box",staticStyle:{width:"55%","margin-left":"200px"}},[e("div",{staticClass:"card card-primary warning_box"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("el-form",{ref:"dbForm",attrs:{"label-position":"right",model:t.dbForm,"label-width":"150px","inline-message":"true"}},[e("el-form-item",{attrs:{label:"数据库类型:",prop:"persistence_type"}},[e("el-select",{staticStyle:{width:"72%"},attrs:{placeholder:"数据库类型"},on:{change:t.resetValidate},model:{value:t.dbForm.persistence_type,callback:function(e){t.$set(t.dbForm,"persistence_type",e)},expression:"dbForm.persistence_type"}},[e("el-option",{attrs:{label:"mysql",value:"mysql"}}),t._v(" "),e("el-option",{attrs:{label:"redis",value:"redis"}})],1),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("目前暂只支持MySql与Redis数据库")])])],1),t._v(" "),"mysql"===t.dbForm.persistence_type?e("div",{attrs:{id:"mysqlForm"}},[e("el-form-item",{attrs:{label:"数据库IP:PORT:",prop:"mysql_address"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"IP:PORT",onKeyUp:"value=value=value.replace(/[^0-9：:。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');"},on:{blur:function(e){t.dbForm.mysql_address=e.target.value}},model:{value:t.dbForm.mysql_address,callback:function(e){t.$set(t.dbForm,"mysql_address",e)},expression:"dbForm.mysql_address"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"数据库名称:",prop:"mysql_database"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter DataBase Name"},model:{value:t.dbForm.mysql_database,callback:function(e){t.$set(t.dbForm,"mysql_database",e)},expression:"dbForm.mysql_database"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("* 数据库需要提前自己搭建好，并建立好数据库，数据库名称(DataBase Name)可以自行决定")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"数据库用户名:",prop:"mysql_username"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter username"},model:{value:t.dbForm.mysql_username,callback:function(e){t.$set(t.dbForm,"mysql_username",e)},expression:"dbForm.mysql_username"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"数据库密码:",prop:"mysql_password"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{type:"password",placeholder:"Enter password"},model:{value:t.dbForm.mysql_password,callback:function(e){t.$set(t.dbForm,"mysql_password",e)},expression:"dbForm.mysql_password"}})],1)],1):t._e(),t._v(" "),"redis"===t.dbForm.persistence_type?e("div",{attrs:{id:"redisForm"}},[e("el-form-item",{attrs:{label:"服务器IP:PORT:",prop:"redis_address"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"IP:PORT,IP:PORT",onKeyUp:"value=value=value.replace(/[^0-9：:，,。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');value=value.replace(/[，]/g,',');"},on:{blur:function(e){t.dbForm.redis_address=e.target.value}},model:{value:t.dbForm.redis_address,callback:function(e){t.$set(t.dbForm,"redis_address",e)},expression:"dbForm.redis_address"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v('如：127.0.0.1:6379 ；如果多个节点，则请用半角逗号","分割：127.0.0.1:7100,127.0.0.1:7101')])])],1),t._v(" "),e("el-form-item",{attrs:{label:"服务器密码（选填):",prop:"redis_password"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{type:"password",placeholder:"Enter password"},model:{value:t.dbForm.redis_password,callback:function(e){t.$set(t.dbForm,"redis_password",e)},expression:"dbForm.redis_password"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("如未设置密码可不填写")])])],1)],1):t._e(),t._v(" "),e("div",{staticClass:"db-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:function(e){return t.submitDbConfig(e)}}},[t._v("完成")])],1)],1),t._v(" "),t._m(1)],1)])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"温馨提示",width:"400px",visible:t.dialog.checkDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"checkDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.checkMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){t.dialog.checkDetailVisible=!1}}},[t._v("完成")])],1)])],1)}),i,!1,null,null,null);e.default=s.exports},c4jO:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_active"},[t("span",[this._v("1")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("区块链节点配置")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item"},[t("span",[this._v("2")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("设置主群组")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item"},[t("span",[this._v("3")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("数据库配置(可选)")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item"},[t("span",[this._v("4")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("创建管理员WeID")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header card-title"},[t("h3",[this._v("配置区块链节点")])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#blockchain-configuration",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{roleType:localStorage.getItem("roleType"),useWeBase:!1,form:{caCrtFileName:"",nodeKeyFile:"",nodeCrtFileName:"",nodeCrtFile:"",nodeKeyFileName:"",caCrtFile:"",gmCaCrtFileName:"",gmCaCrtFile:"",gmSdkCrtFileName:"",gmSdkCrtFile:"",gmSdkKeyFileName:"",gmSdkKeyFile:"",gmenSdkCrtFileName:"",gmenSdkCrtFile:"",gmenSdkKeyFileName:"",gmenSdkKeyFile:"",smCaCrtFileName:"",smCaCrtFile:"",smSdkCrtFileName:"",smSdkCrtFile:"",smSdkKeyFileName:"",smSdkKeyFile:"",smenSdkCrtFileName:"",smenSdkCrtFile:"",smenSdkKeyFileName:"",smenSdkKeyFile:"",encrypt_type:"1",org_id:"",amop_id:"",blockchain_address:"",blockchain_fiscobcos_version:"",chainVersion:"2"},dialog:{checkDetailVisible:!1,dialogNodeListVisible:!1,nodeListPage:{nodeList:[],selectedRows:[]},checkMessages:[],checkStatus:!1,nextBtn:null}}},methods:{getkey:function(t){return t.frontId},chooseNode:function(){var t=this;if(0!==this.dialog.nodeListPage.selectedRows.length){var e="";this.dialog.nodeListPage.selectedRows.forEach((function(a,i){e=e+a.frontIp+":"+a.channelPort,i+1<t.dialog.nodeListPage.selectedRows.length&&(e+=",")})),this.form.blockchain_address=e,this.dialog.dialogNodeListVisible=!1}else this.$alert("请选择需要配置的节点!","温馨提示",{}).catch((function(){}))},chooseFile:function(t,e){var a=this,i=document.getElementById(t);i.value="",i.click(),i.onchange=function(i){if(i.target.files[0]){var n=i.target.files[0],l=n.name;if(l!==e)return void a.$alert("文件选择错误,请选择名为 "+e+" 的文件!","温馨提示",{}).catch((function(){}));"caCrtFile"===t?(a.form.caCrtFileName=l,a.form.caCrtFile=n):"nodeCrtFile"===t?(a.form.nodeCrtFileName=l,a.form.nodeCrtFile=n):"nodeKeyFile"===t?(a.form.nodeKeyFileName=l,a.form.nodeKeyFile=n):"gmCaCrtFile"===t?(a.form.gmCaCrtFileName=l,a.form.gmCaCrtFile=n):"gmSdkCrtFile"===t?(a.form.gmSdkCrtFileName=l,a.form.gmSdkCrtFile=n):"gmSdkKeyFile"===t?(a.form.gmSdkKeyFileName=l,a.form.gmSdkKeyFile=n):"gmenSdkCrtFile"===t?(a.form.gmenSdkCrtFileName=l,a.form.gmenSdkCrtFile=n):"gmenSdkKeyFile"===t?(a.form.gmenSdkKeyFileName=l,a.form.gmenSdkKeyFile=n):"smCaCrtFile"===t?(a.form.smCaCrtFileName=l,a.form.smCaCrtFile=n):"smSdkCrtFile"===t?(a.form.smSdkCrtFileName=l,a.form.smSdkCrtFile=n):"smSdkKeyFile"===t?(a.form.smSdkKeyFileName=l,a.form.smSdkKeyFile=n):"smenSdkCrtFile"===t?(a.form.smenSdkCrtFileName=l,a.form.smenSdkCrtFile=n):"smenSdkKeyFile"===t&&(a.form.smenSdkKeyFileName=l,a.form.smenSdkKeyFile=n)}}},checkNode:function(){var t=this;this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("节点配置检测中..."),n.a.doGet("checkNode").then((function(e){t.dialog.checkDetailVisible=!0,t.enableBtn(t.dialog.nextBtn),0===e.data.errorCode?(t.dialog.checkStatus=!0,t.dialog.checkMessages.push("节点配置检测成功。"),t.dialog.checkMessages.push("请继续操作。")):t.dialog.checkMessages.push("节点配置检测失败。")}))},checkInput:function(){if(""===this.form.org_id)return this.$alert("请输入机构名!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.amop_id)return this.$alert("请输入通信ID名!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.blockchain_address)return this.$alert("请输入区块链节点 IP 和 Channel 端口!","温馨提示",{}).catch((function(){})),!1;if("0"===this.form.encrypt_type){if(""===this.form.caCrtFile&&"false"===this.form["ca.crt"])return this.$alert("请选择 ca.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.nodeCrtFile&&"false"===!this.form["node.crt"])return this.$alert("请选择 sdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.nodeKeyFile&&"false"===!this.form["node.key"])return this.$alert("请选择 sdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1}else if("2"===this.chainVersion){if(""===this.form.gmCaCrtFile&&"false"===!this.form["gmCa.crt"])return this.$alert("请选择 gmCa.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmSdkCrtFile&&"false"===!this.form["gmSdk.crt"])return this.$alert("请选择 gmSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmSdkKeyFile&&"false"===!this.form["gmSdk.key"])return this.$alert("请选择 gmSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmenSdkCrtFile&&"false"===!this.form["gmenSdk.crt"])return this.$alert("请选择 gmenSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.gmenSdkKeyFile&&"false"===!this.form["gmenSdk.key"])return this.$alert("请选择 gmenSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1}else{if(""===this.form.smCaCrtFile&&"false"===!this.form["smCa.crt"])return this.$alert("请选择 smCa.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smSdkCrtFile&&"false"===!this.form["smSdk.crt"])return this.$alert("请选择 smSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smSdkKeyFile&&"false"===!this.form["smSdk.key"])return this.$alert("请选择 smSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smenSdkCrtFile&&"false"===!this.form["smenSdk.crt"])return this.$alert("请选择 smenSdk.crt 证书文件!","温馨提示",{}).catch((function(){})),!1;if(""===this.form.smenSdkKeyFile&&"false"===!this.form["smenSdk.key"])return this.$alert("请选择 smenSdk.key 证书文件!","温馨提示",{}).catch((function(){})),!1}return!0},nodeConfigUpload:function(){var t=this;if(this.checkInput()){var e=new FormData;"0"===this.form.encrypt_type?(e.append("file",this.form.caCrtFile),e.append("file",this.form.nodeCrtFile),e.append("file",this.form.nodeKeyFile)):"2"===this.form.chainVerison?(e.append("file",this.form.gmCaCrtFile),e.append("file",this.form.gmSdkCrtFile),e.append("file",this.form.gmSdkKeyFile),e.append("file",this.form.gmenSdkCrtFile),e.append("file",this.form.gmenSdkKeyFile)):(e.append("file",this.form.smCaCrtFile),e.append("file",this.form.smSdkCrtFile),e.append("file",this.form.smSdkKeyFile),e.append("file",this.form.smenSdkCrtFile),e.append("file",this.form.smenSdkKeyFile)),e.append("orgId",this.form.org_id),e.append("amopId",this.form.amop_id),e.append("version",this.form.chainVersion),e.append("useSmCrypto",this.form.encrypt_type),e.append("ipPort",this.form.blockchain_address),this.dialog.checkMessages=[],this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("节点配置提交中..."),this.dialog.checkStatus=!1,this.disableBtn(this.dialog.nextBtn),n.a.doPostAndUploadFile("nodeConfigUpload",e,10).then((function(e){t.dialog.checkDetailVisible=!0,0===e.data.errorCode?(t.dialog.checkMessages.push("节点配置提交成功。"),t.checkNode()):(t.dialog.checkMessages.push("节点配置提交失败。"),t.enableBtn(t.dialog.nextBtn))}))}},next:function(t){this.dialog.nextBtn=t.currentTarget,this.nodeConfigUpload()},nextStep:function(){localStorage.setItem("step",2),this.$router.push({name:"step2"})},prev:function(){localStorage.setItem("step",0),this.$router.push({name:"step0"})},init:function(){var t=this;n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.form=Object.assign(t.form,e.data.result),t.useWeBase=JSON.parse(t.form.useWeBase),t.useWeBase&&t.queryNodeType())}))},queryNodeType:function(){var t=this;n.a.doGet("webase/queryNodeType").then((function(e){0===e.data.errorCode&&(t.form.encrypt_type=e.data.result+"")}))},queryNodeList:function(){var t=this;n.a.doGet("webase/queryNodeList").then((function(e){0===e.data.errorCode&&(t.dialog.nodeListPage.nodeList=e.data.result,t.dialog.dialogNodeListVisible=!0)}))},handleSelectionChange:function(t){this.dialog.nodeListPage.selectedRows=t}},mounted:function(){this.checkStep(),this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[e("div",{staticClass:"guide_step_part box"},[e("div",{staticClass:"bottom_line"}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),"1"==t.roleType?e("div",{staticClass:"guide_step_item"},[e("span",[t._v("5")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",{staticStyle:{width:"200px",left:"-89px"}},[t._v("部署WeIdentity智能合约")])]):t._e()]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box"},[t._m(4),t._v(" "),e("el-form",{ref:"form",attrs:{"label-position":"right",model:t.form,"label-width":"220px"}},[e("el-form-item",{attrs:{label:"机构名称:",prop:"org_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter orgId",maxlength:"30",onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')"},on:{blur:function(e){t.form.org_id=e.target.value}},model:{value:t.form.org_id,callback:function(e){t.$set(t.form,"org_id",e)},expression:"form.org_id"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"通讯ID:",prop:"amop_id"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter amopId",maxlength:"30",onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')"},on:{blur:function(e){t.form.amop_id=e.target.value}},model:{value:t.form.amop_id,callback:function(e){t.$set(t.form,"amop_id",e)},expression:"form.amop_id"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v("此ID用于链上AMOP通讯")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"非国密/国密SSL:",prop:"encrypt_type"}},[e("el-select",{staticStyle:{width:"72%"},attrs:{placeholder:"非国密/国密SSL",disabled:t.useWeBase},model:{value:t.form.encrypt_type,callback:function(e){t.$set(t.form,"encrypt_type",e)},expression:"form.encrypt_type"}},[e("el-option",{attrs:{label:"非国密",value:"0"}}),t._v(" "),e("el-option",{attrs:{label:"国密",value:"1"}})],1),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v("国密链采用SSL通讯，非国密链采用非SSL通讯。")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"链版本:",prop:"chainVersion"}},[e("el-select",{staticStyle:{width:"72%"},attrs:{placeholder:"链版本"},model:{value:t.form.chainVersion,callback:function(e){t.$set(t.form,"chainVersion",e)},expression:"form.chainVersion"}},[e("el-option",{attrs:{label:"2.0",value:"2"}}),t._v(" "),e("el-option",{attrs:{label:"3.0",value:"3"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"区块链节点 IP 和 Channel 端口:",prop:"blockchain_address"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"IP:PORT,IP:PORT",onKeyUp:"value=value=value.replace(/[^0-9：:，,。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');value=value.replace(/[，]/g,',');"},on:{blur:function(e){t.form.blockchain_address=e.target.value}},model:{value:t.form.blockchain_address,callback:function(e){t.$set(t.form,"blockchain_address",e)},expression:"form.blockchain_address"}}),t._v(" "),t.useWeBase?e("el-button",{staticClass:"btn btn_100",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.queryNodeList}},[t._v("查询")]):t._e(),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("div",[t._v('例如：10.10.4.1:20200；如果多个节点，则请用半角逗号","分割：10.10.4.1:20200,10.10.4.2:20200')]),t._v(" "),e("div",[t._v('如果"运行 WeIdentity SDK 的 Server"与区块链节点部署在同一台机器，IP可以使用127.0.0.1')]),t._v(" "),e("div",[t._v('如果"运行 WeIdentity SDK 的 Server"与区块链节点部署不在同一台机器，需要根据实际情况进行修改')])])],1),t._v(" "),0==t.form.encrypt_type?e("div",{staticClass:"card-body",attrs:{id:"ecdsa"}},[e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"ca.crt证书:",prop:"caCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter caCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.caCrtFileName,callback:function(e){t.$set(t.form,"caCrtFileName",e)},expression:"form.caCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("caCrtFile","ca.crt")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["ca.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"caCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sdk.crt证书:",prop:"nodeCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter sdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.nodeCrtFileName,callback:function(e){t.$set(t.form,"nodeCrtFileName",e)},expression:"form.nodeCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("nodeCrtFile","sdk.crt")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["node.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"nodeCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sdk.key证书:",prop:"nodeKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter sdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.nodeKeyFileName,callback:function(e){t.$set(t.form,"nodeKeyFileName",e)},expression:"form.nodeKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("nodeKeyFile","sdk.key")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["node.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"nodeKeyFile"}})],1)]):t._e(),t._v(" "),1==t.form.encrypt_type&&"2"===t.form.chainVersion?e("div",{staticClass:"form-group",attrs:{id:"sm2"}},[e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmca.crt证书:",prop:"gmCaCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmCaCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.gmCaCrtFileName,callback:function(e){t.$set(t.form,"gmCaCrtFileName",e)},expression:"form.gmCaCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmCaCrtFile","gmca.crt")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["gmca.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmCaCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmsdk.crt证书:",prop:"gmSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.gmSdkCrtFileName,callback:function(e){t.$set(t.form,"gmSdkCrtFileName",e)},expression:"form.gmSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmSdkCrtFile","gmsdk.crt")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["gmsdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmsdk.key证书:",prop:"gmSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.gmSdkKeyFileName,callback:function(e){t.$set(t.form,"gmSdkKeyFileName",e)},expression:"form.gmSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmSdkKeyFile","gmsdk.key")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["gmsdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmSdkKeyFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmensdk.crt证书:",prop:"gmenSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmenSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.gmenSdkCrtFileName,callback:function(e){t.$set(t.form,"gmenSdkCrtFileName",e)},expression:"form.gmenSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmenSdkCrtFile","gmensdk.crt")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["gmensdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmenSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"gmensdk.key证书:",prop:"gmenSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter gmenSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.gmenSdkKeyFileName,callback:function(e){t.$set(t.form,"gmenSdkKeyFileName",e)},expression:"form.gmenSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("gmenSdkKeyFile","gmensdk.key")}}},[t._v("选择文件")])],1),t._v(" "),"true"===t.form["gmensdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"gmenSdkKeyFile"}})],1)]):t._e(),t._v(" "),"1"===t.form.encrypt_type&&"3"===t.form.chainVersion?e("div",{staticClass:"form-group",attrs:{id:"sm3"}},[e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_ca.crt证书:",prop:"smCaCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smCaCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.smCaCrtFileName,callback:function(e){t.$set(t.form,"smCaCrtFileName",e)},expression:"form.smCaCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smCaCrtFile","sm_ca.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smCa.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smCaCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_sdk.crt证书:",prop:"smSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.smSdkCrtFileName,callback:function(e){t.$set(t.form,"smSdkCrtFileName",e)},expression:"form.smSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smSdkCrtFile","sm_sdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smSdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_sdk.key证书:",prop:"smSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.smSdkKeyFileName,callback:function(e){t.$set(t.form,"smSdkKeyFileName",e)},expression:"form.smSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smSdkKeyFile","sm_sdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smSdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smSdkKeyFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_ensdk.crt证书:",prop:"smenSdkCrtFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smenSdkCrtFile",maxlength:"30",readOnly:""},model:{value:t.form.smenSdkCrtFileName,callback:function(e){t.$set(t.form,"smenSdkCrtFileName",e)},expression:"form.smenSdkCrtFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smenSdkCrtFile","sm_ensdk.crt")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smenSdk.crt"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smenSdkCrtFile"}})],1),t._v(" "),e("div",{staticClass:"file_part"},[e("el-form-item",{attrs:{label:"sm_ensdk.key证书:",prop:"smenSdkKeyFileName"}},[e("div",{staticClass:"input_item"},[e("el-input",{staticStyle:{width:"52%"},attrs:{placeholder:"Enter smenSdkKeyFile",maxlength:"30",readOnly:""},model:{value:t.form.smenSdkKeyFileName,callback:function(e){t.$set(t.form,"smenSdkKeyFileName",e)},expression:"form.smenSdkKeyFileName"}}),t._v(" "),e("button",{staticClass:"upload-btn btn btn-block btn-primary btn-flat",attrs:{type:"button"},on:{click:function(e){return t.chooseFile("smenSdkKeyFile","sm_ensdk.key")}}},[t._v("选择文件")]),t._v(" "),"true"===t.form["smenSdk.key"]?e("div",{staticClass:"mark-bottom mark-red"},[e("div",[t._v("该证书已存在，重新上传将被覆盖。")])]):t._e()],1)]),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"smenSdkKeyFile"}})],1)]):t._e(),t._v(" "),e("div",{staticStyle:{"text-align":"left","padding-left":"28%"}},[e("a",{attrs:{href:"https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/enterprise_tools/operation.html#get-sdk-file",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticStyle:{color:"#017CFF","font-size":"12px"},attrs:{clas:"",s:"icon_question"}},[t._v("如何获取证书?")])])])],1),t._v(" "),t._m(5),t._v(" "),e("div",{staticClass:"bt-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.prev}},[t._v("上一步")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:function(e){return t.next(e)}}},[t._v("下一步")])],1)],1)])])])]),t._v(" "),e("br"),e("br"),e("br"),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"温馨提示",width:"400px",visible:t.dialog.checkDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"checkDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.checkMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary",disabled:!t.dialog.checkStatus},on:{click:t.nextStep}},[t._v("下一步")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"前置节点列表",width:"45%",visible:t.dialog.dialogNodeListVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogNodeListVisible",e)}}},[e("el-table",{attrs:{"row-key":t.getkey,data:t.dialog.nodeListPage.nodeList,border:"true",cellpadding:"0",cellspacing:"0"},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"节点ID"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.nodeId}},[t._v(t._s(a.row.nodeId))])]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"frontIp",label:"节点IP",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{property:"channelPort",label:"节点端口",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{label:"群组列表",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",t._l(a.row.groupList,(function(i,n){return e("span",{key:i},[t._v("\n                "+t._s(i)+" "),n<a.row.groupList.length-1?e("span",[t._v(",")]):t._e()])})),0)]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"clientVersion",label:"节点版本",width:"150"}})],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.chooseNode}},[t._v("确定")])],1)],1)],1)}),i,!1,null,null,null);e.default=s.exports},dSAK:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{}},methods:{openLog:function(){var t=window.open("","logWin","width=800,height=500,top=100,left=380");"about:blank"===t.location.href?t=window.open("#/log/","logWin","width=800,height=500,top=100,left=330"):t.focus()}},created:function(){}},n=a("KHd+"),l=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"application_header box"},[t._m(0),t._v(" "),e("div",{staticClass:"header_right_part"},[e("div",{staticClass:"nav_link"},[e("a",{on:{click:function(e){return t.openLog()}}},[e("span",{staticClass:"openLog"},[t._v("查看后台日志")])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"header_left_part"},[t("div",{staticClass:"nav_link"},[t("span",[this._v("WeIdentity 网页管理工具")])])])}],!1,null,null,null).exports,o=a("B25C"),s=a("NVG9"),r={components:{headerBar:l,footBar:o.a},data:function(){return{step:""}},methods:{initStep:function(){var t=localStorage.getItem("step");this.step=null===t?"":t},checkGuideStatus:function(){var t=this;s.a.doGet("getGuideStatus").then((function(e){""!==e.data.result?t.$router.push({name:"deployWeId"}):(t.initStep(),t.$router.push({name:"step"+t.step}))}))}},mounted:function(){this.checkGuideStatus()}},d=Object(n.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"application",class:this.blackTheme},[t("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[t("tr",[t("td",{staticClass:"t_header s_header"},[t("headerBar")],1)]),this._v(" "),t("tr",[t("td",{staticClass:"t_main s_main"},[t("router-view")],1)]),this._v(" "),t("tr",[t("td",{staticClass:"t_footer"},[t("footBar")],1)])])])}),[],!1,null,null,null);e.default=d.exports},"e3+h":function(t,e,a){"use strict";a.r(e);var i=a("NVG9"),n={data:function(){return{dbForm:{persistenceType:""}}},methods:{verifyPersistence:function(){var t=this;i.a.doPost("verifyPersistence",this.dbForm).then((function(e){e.data.result?t.$alert("检查数据库配置成功！","温馨提示").catch((function(){})):t.$alert("检查数据库配置失败,请核实配置信息！","温馨提示").catch((function(){}))}))},init:function(){var t=this;i.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.dbForm.persistenceType=e.data.result.persistence_type)}))}},mounted:function(){this.init()}},l=a("KHd+"),o=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content section_main"},[e("div",{staticClass:"box",staticStyle:{width:"55%","margin-left":"200px"}},[e("div",{staticClass:"card card-primary warning_box"},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"card-body"},[e("el-form",{ref:"dbForm",staticStyle:{"margin-top":"20px"},attrs:{model:t.dbForm}},[e("el-form-item",{attrs:{prop:"persistenceType"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"数据库类型",disabled:!0},model:{value:t.dbForm.persistenceType,callback:function(e){t.$set(t.dbForm,"persistenceType",e)},expression:"dbForm.persistenceType"}},[e("el-option",{attrs:{label:"mysql",value:"mysql"}}),t._v(" "),e("el-option",{attrs:{label:"redis",value:"redis"}})],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"db-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.verifyPersistence}},[t._v("确认")])],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h3",[this._v("检查数据库是否配置成功")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-mark"},[t("div",{staticClass:"card-mark-text"},[this._v("* 此操作会通过一些简单的Weid测试样例测试数据库是否正常使用，请注意，需要先配置相关数据库。")])])}],!1,null,null,null);e.default=o.exports},fC2d:function(t,e,a){"use strict";a.r(e);var i=a("NVG9"),n={data:function(){return{page:{dataList:[],total:0,pageIndex:1,pageSize:8},dataTime:"",dialog:{dialogDetailVisible:!1,row:{}}}},methods:{goBack:function(){this.$router.push({name:"asynEvidenceList"})},showDetail:function(t){this.dialog.row=t,this.dialog.dialogDetailVisible=!0},indexChange:function(t){this.page.pageIndex=t,this.init()},init:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize,e.batch=this.dataTime,e.status=-1,i.a.doPost("getBinLogList",e).then((function(e){0===e.data.errorCode&&(t.page.dataList=e.data.result.dataList,t.page.total=e.data.result.allCount)}))},plusXing:function(t,e,a){return t.substring(0,e)+"..."+t.substring(t.length-a)},dateFormat:function(t){return new Date(parseInt(t.transaction_timestamp)+288e5).toJSON().substr(0,19).replace("T"," ")}},mounted:function(){var t=this.$route.params.dataTime;""===t||void 0===t?this.dataTime=sessionStorage.getItem("dataTime"):(this.dataTime=t,sessionStorage.setItem("dataTime",this.dataTime)),this.init()}},l=a("KHd+"),o=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.goBack()}}},[t._v("返回")])],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.page.dataList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"request_id",label:"RequestId",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"form_option",on:{click:function(e){return t.showDetail(a.row)}}},[t._v(t._s(t.plusXing(a.row.request_id,6,6)))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"transaction_method",label:"Method",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"transaction_timestamp",label:"TimeStamp",formatter:t.dateFormat,align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"status",label:"Status",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.status?e("span",[t._v("待上链")]):1===a.row.status?e("span",[t._v("已上链")]):2===a.row.status?e("span",[t._v("上链失败")]):e("span",[t._v("未知状态")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"交易详情",width:"620px",visible:t.dialog.dialogDetailVisible,"close-on-click-modal":!0},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployDetail"},[e("el-row",[e("el-col",{staticClass:"title bold",attrs:{span:4}},[t._v("Batch")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.row.batch))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title bold",attrs:{span:4}},[t._v("Timestamp")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.row.transaction_timestamp))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title bold",attrs:{span:4}},[t._v("Method")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.row.transaction_method))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title bold"},[t._v("Request Id")])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"value"},[t._v(t._s(t.dialog.row.request_id))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title bold"},[t._v("Transaction Args")])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"value line-height-24"},[t._v(t._s(t.dialog.row.transaction_args))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title bold"},[t._v("Extra Data")])],1),t._v(" "),e("el-row",{staticClass:"none-border"},[e("el-col",{staticClass:"value"},[t._v(t._s(t.dialog.row.extra))])],1)],1),t._v(" "),e("br")])],1)}),[],!1,null,null,null);e.default=o.exports},hygE:function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{whiteList:[],pageIndex:1,pageSize:6,total:0,issuerCount:0},dialog:{addwhiteListForm:{issuerType:""},dialogaddwhiteListVisible:!1,whiteListForm:{issuerType:"",weId:""},dialogwhiteFormVisible:!1,whiteWeIdListPage:{whiteWeIdList:[],pageIndex:1,pageSize:5,total:0},deleteType:"",dialogTableVisible:!1}}},methods:{showRegistWhiteList:function(){r.a.data.nodeStatus?this.dialog.dialogaddwhiteListVisible=!0:r.a.checkNodeState(!0)},deleteRow:function(t){var e=this;this.$confirm("确定删除该白名单用户？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(a){var i={};i.issuerType=e.dialog.deleteType,i.weId=t,s.a.doPost("removeIssuerFromIssuerType",i).then((function(t){0===t.data.errorCode?(e.$alert("删除成功!","温馨提示",{closeOnClickModal:"true"}).catch((function(){})),e.getAllIssuerInType(e.dialog.deleteType)):e.$alert("删除失败!","温馨提示",{closeOnClickModal:"true"}).catch((function(){}))}))})).catch((function(t){console.log(t)}))},showAddIssuer:function(t){this.dialog.whiteListForm.issuerType=t,this.dialog.whiteListForm.weId="",this.dialog.dialogwhiteFormVisible=!0},showAllIssuer:function(t){this.dialog.whiteWeIdListPage.whiteWeIdList=[],this.dialog.whiteWeIdListPage.pageIndex=1,this.getAllIssuerInType(t)},getAllIssuerInType:function(t){var e=this,a={};a.issuerType=t,a.iDisplayStart=(this.dialog.whiteWeIdListPage.pageIndex-1)*this.dialog.whiteWeIdListPage.pageSize,a.iDisplayLength=this.dialog.whiteWeIdListPage.pageSize,this.dialog.deleteType=t,s.a.doPost("getIssuerListInType",a).then((function(t){0===t.data.errorCode&&(e.dialog.whiteWeIdListPage.whiteWeIdList=t.data.result.dataList,e.dialog.whiteWeIdListPage.total=t.data.result.allCount),0!==e.dialog.whiteWeIdListPage.total&&e.dialog.whiteWeIdListPage.total===e.dialog.whiteWeIdListPage.pageSize*(e.dialog.whiteWeIdListPage.pageIndex-1)&&e.indexChange2(e.dialog.whiteWeIdListPage.pageIndex-1),e.dialog.dialogTableVisible=!0}))},addWeIdToWhiteList:function(){var t=this;""!==this.dialog.whiteListForm.weId?s.a.doPost("addIssuerIntoIssuerType",this.dialog.whiteListForm).then((function(e){0===e.data.errorCode?t.$alert("添加白名单成功!","温馨提示",{}).then((function(){t.dialog.dialogwhiteFormVisible=!1})).catch((function(){})):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))})):this.$alert("请输入WeID!","温馨提示",{}).catch((function(){}))},registerWhiteList:function(){var t=this;""!==this.dialog.addwhiteListForm.issuerType?0!==this.dialog.addwhiteListForm.issuerType.indexOf("@")?s.a.doPost("registerIssuerType",this.dialog.addwhiteListForm).then((function(e){0===e.data.errorCode?(t.$alert("白名单新增成功!","温馨提示",{}).then((function(){t.dialog.dialogaddwhiteListVisible=!1})).catch((function(){})),t.dialog.addwhiteListForm.issuerType="",t.page.pageIndex=1,t.init()):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))})):this.$alert("白名单名称输入非法!","温馨提示",{}).catch((function(){})):this.$alert("请输入白名单名称!","温馨提示",{}).catch((function(){}))},deleteWhiteList:function(t,e){var a=this;return n()(o.a.mark((function i(){var n,l;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.currentTarget,l=a,i.next=4,a.queryIssuerCountByType(t);case 4:if(0===a.page.issuerCount){i.next=7;break}return a.$alert("目前此白名单【"+t+"】下面拥有"+a.page.issuerCount+"个白名单用户,暂时无法删除!","温馨提示",{}).catch((function(){})),i.abrupt("return");case 7:a.$confirm("确认删除白名单【"+t+"】吗?","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary",dangerouslyUseHTMLString:!0}).then((function(e){l.disableBtn(n),a.removeWhiteList(t,n)})).catch((function(){}));case 8:case"end":return i.stop()}}),i)})))()},removeWhiteList:function(t,e){var a=this;s.a.doPost("removeIssuerType",{issuerType:t}).then((function(t){0===t.data.errorCode?(a.$alert("删除成功!","温馨提示").catch((function(){})),a.init()):a.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){})),a.enableBtn(e)}))},queryIssuerCountByType:function(t){var e=this;return n()(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.doGet("getSpecificTypeIssuerSize",{issuerType:t}).then((function(t){e.page.issuerCount=t.data.result}));case 2:case"end":return a.stop()}}),a)})))()},indexChange2:function(t){t<1&&(t=1),this.dialog.whiteWeIdListPage.pageIndex=t,this.getAllIssuerInType(this.dialog.deleteType)},indexChange:function(t){this.page.pageIndex=t,this.queryIssueTypeList()},queryIssueTypeList:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize,s.a.doGet("getIssuerTypeList",e).then((function(e){0===e.data.errorCode&&(t.page.whiteList=e.data.result.dataList,t.page.total=e.data.result.allCount),0!==t.page.total&&t.page.total===t.page.pageSize*(t.page.pageIndex-1)&&t.indexChange(t.page.pageIndex-1)}))},init:function(){this.queryIssueTypeList()},dateFormat:function(t){return new Date(parseInt(t.created)+288e5).toJSON().substr(0,19).replace("T"," ")},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!0);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",{staticClass:"app_main_header_row"},[e("el-col",{attrs:{span:2}},[e("el-button",{staticClass:"btn",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:t.showRegistWhiteList}},[t._v("新增白名单")])],1),t._v(" "),e("el-col",{staticClass:"head-icon",attrs:{span:22}},[e("a",{attrs:{target:"blank",href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=白名单#id4"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("白名单使用教程")])])])],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{attrs:{data:t.page.whiteList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"type",label:"白名单名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.typeName}},[t._v(t._s(a.row.typeName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"created",label:"创建时间",formatter:t.dateFormat,align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"450"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"btn",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){return t.deleteWhiteList(a.row.typeName,e)}}},[t._v("删除白名单")]),t._v(" "),e("el-button",{staticClass:"btn",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(e){return t.showAllIssuer(a.row.typeName)}}},[t._v("查看白名单")]),t._v(" "),e("el-button",{staticClass:"btn",staticStyle:{width:"180px"},attrs:{type:"primary"},on:{click:function(e){return t.showAddIssuer(a.row.typeName)}}},[t._v("添加WeID到这个白名单")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"新增白名单",width:"29%",visible:t.dialog.dialogaddwhiteListVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogaddwhiteListVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.addwhiteListForm}},[e("el-form-item",{attrs:{label:"新增白名单名称","label-width":t.formLabelWidth}},[e("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')",placeholder:"Enter new whitelist name"},on:{blur:function(e){t.dialog.addwhiteListForm.issuerType=e.target.value}},model:{value:t.dialog.addwhiteListForm.issuerType,callback:function(e){t.$set(t.dialog.addwhiteListForm,"issuerType",e)},expression:"dialog.addwhiteListForm.issuerType"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.registerWhiteList()}}},[t._v("新 增")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"添加到白名单",width:"29%",visible:t.dialog.dialogwhiteFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogwhiteFormVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.whiteListForm}},[e("el-form-item",{attrs:{label:"WeID","label-width":t.formLabelWidth}},[e("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^\\w：:]/g,'');this.value=this.value.replace(/：/g,':');",placeholder:"Enter WeID"},on:{blur:function(e){t.dialog.whiteListForm.weId=e.target.value}},model:{value:t.dialog.whiteListForm.weId,callback:function(e){t.$set(t.dialog.whiteListForm,"weId",e)},expression:"dialog.whiteListForm.weId"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"白名单名称","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:""},model:{value:t.dialog.whiteListForm.issuerType,callback:function(e){t.$set(t.dialog.whiteListForm,"issuerType",e)},expression:"dialog.whiteListForm.issuerType"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.addWeIdToWhiteList()}}},[t._v("添 加")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"白名单用户列表",width:"55%",visible:t.dialog.dialogTableVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogTableVisible",e)}}},[e("el-table",{attrs:{data:t.dialog.whiteWeIdListPage.whiteWeIdList,border:"true",cellpadding:"0",cellspacing:"0"}},[e("el-table-column",{attrs:{property:"weId",label:"WeID"}}),t._v(" "),e("el-table-column",{attrs:{property:"name",label:"权威机构名称",width:"250"},scopedSlots:t._u([{key:"default",fn:function(i){return""!==i.row.name?[t._v("\n          "+t._s(i.row.name)+"\n          "),!0===i.row.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("Xg0I"),widht:"50",height:"50",alt:""}}):t._e(),t._v(" "),!1===i.row.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("DnRc"),widht:"50",height:"50",alt:""}}):t._e()]:void 0}}],null,!0)}),t._v(" "),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.deleteRow(a.row.weId)}}},[t._v("删除")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.dialog.whiteWeIdListPage.pageIndex,"page-size":t.dialog.whiteWeIdListPage.pageSize,layout:"total, prev, pager, next, jumper",total:t.dialog.whiteWeIdListPage.total},on:{"current-change":t.indexChange2}}),t._v(" "),e("br")],1)],1)}),[],!1,null,null,null);e.default=p.exports},kvrn:function(t,e){var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;function i(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var n,l,o,s,r;for(o in e)if(n=t[o],l=e[o],n&&a.test(o))if("class"===o&&("string"==typeof n&&(r=n,t[o]=n={},n[r]=!0),"string"==typeof l&&(r=l,e[o]=l={},l[r]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in l)n[s]=i(n[s],l[s]);else if(Array.isArray(n))t[o]=n.concat(l);else if(Array.isArray(l))t[o]=[n].concat(l);else for(s in l)n[s]=l[s];else t[o]=e[o];return t}),{})}},lriE:function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{issuerList:[],pageSize:5,total:0,pageIndex:1},dialog:{registForm:{name:"",weId:"",description:""},dialogFormVisible:!1}}},methods:{showAll:function(t){this.$alert(t,"温馨提示",{}).catch((function(){}))},showRegistIssuer:function(){r.a.data.nodeStatus?(this.dialog.registForm.name="",this.dialog.registForm.weId="",this.dialog.registForm.description="",this.dialog.dialogFormVisible=!0):r.a.checkNodeState(!0)},registerIssuer:function(){var t=this;""!==this.dialog.registForm.weId?""!==this.dialog.registForm.name?0!==this.dialog.registForm.name.indexOf("@")?s.a.doPost("registerIssuer",this.dialog.registForm).then((function(e){0===e.data.errorCode?(t.$alert("权威凭证发行者注册成功!","温馨提示",{}).then((function(){t.dialog.dialogFormVisible=!1})).catch((function(){})),t.dialog.registForm.weId="",t.dialog.registForm.name="",t.dialog.registForm.description="",t.page.pageIndex=1,t.init()):t.$alert(e.data.errorMessage,"温馨提示",{}).catch((function(){}))})):this.$alert("权威机构名称输入非法!","温馨提示",{}).catch((function(){})):this.$alert("请输入权威机构名称!","温馨提示",{}).catch((function(){})):this.$alert("请输入WeID!","温馨提示",{}).catch((function(){}))},deleteRow:function(t){var e=this;this.$confirm("确认删除该权威机构？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(a){var i={};i.weId=t,s.a.doPost("removeIssuer",i).then((function(t){0===t.data.errorCode?(e.$alert("删除成功!","温馨提示",{}).then((function(){})).catch((function(){})),e.init()):e.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){}))}))})).catch((function(){}))},recognizeAuthorityIssuer:function(t){var e=this;this.$confirm("是否确定认证该权威机构？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(a){var i={};i.weId=t,s.a.doPost("recognizeAuthorityIssuer",i).then((function(t){0===t.data.errorCode?(e.$alert("认证成功!","温馨提示",{}).then((function(){})).catch((function(){})),e.init()):e.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){}))}))})).catch((function(){}))},deRecognizeAuthorityIssuer:function(t){var e=this;this.$confirm("是否确定撤销该权威机构认证？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(a){var i={};i.weId=t,s.a.doPost("deRecognizeAuthorityIssuer",i).then((function(t){0===t.data.errorCode?(e.$alert("撤销成功!","温馨提示",{}).then((function(){})).catch((function(){})),e.init()):e.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){}))}))})).catch((function(){}))},indexChange:function(t){t<1&&(t=1),this.page.pageIndex=t,this.queryIssueList()},queryIssueList:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize,s.a.doGet("getIssuerList",e).then((function(e){0===e.data.errorCode&&(t.page.issuerList=e.data.result.dataList,t.page.total=e.data.result.allCount),0!==t.page.total&&t.page.total===t.page.pageSize*(t.page.pageIndex-1)&&t.indexChange(t.page.pageIndex-1)}))},init:function(){this.queryIssueList()},dateFormat:function(t){return new Date(parseInt(1e3*t.createTime)+288e5).toJSON().substr(0,19).replace("T"," ")},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!0);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",{staticClass:"app_main_header_row"},[e("el-col",{attrs:{span:3}},[e("el-button",{staticClass:"btn",staticStyle:{width:"170px"},attrs:{type:"primary"},on:{click:t.showRegistIssuer}},[t._v("注册权威凭证发行者")])],1),t._v(" "),e("el-col",{staticClass:"head-icon",staticStyle:{"padding-left":"18px"},attrs:{span:20}},[e("a",{attrs:{target:"blank",href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=权威凭证发行者#authority-issuer"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("权威凭证发行者使用教程")])])])],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{attrs:{data:t.page.issuerList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"name",label:"权威机构名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.name}},[t._v(t._s(a.row.name))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"weId",label:"WeID",align:"center",width:"260"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"link",attrs:{title:a.row.weId},on:{click:function(e){return t.showAll(a.row.weId)}}},[t._v(t._s(a.row.weIdShow))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"recognized",label:"状态",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(i){return[!0===i.row.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("Xg0I"),widht:"50",height:"50",alt:""}}):t._e(),t._v(" "),!1===i.row.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("DnRc"),widht:"50",height:"50",alt:""}}):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"description",label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.description}},[t._v(t._s(a.row.description))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",formatter:t.dateFormat,width:"170"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==a.row.recognized?e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.deRecognizeAuthorityIssuer(a.row.weId)}}},[t._v("撤销")]):e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.recognizeAuthorityIssuer(a.row.weId)}}},[t._v("认证")]),t._v(" "),e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.deleteRow(a.row.weId)}}},[t._v("删除")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"注册权威凭证发行者",width:"29%",visible:t.dialog.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogFormVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.registForm}},[e("el-form-item",{attrs:{label:"机构的WeID","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-text"},[e("span",[t._v("说明：由各机构提供其“WeID”和“权威机构名称”，给到联盟链委员会的成员，由成员完成“权威凭证发行者”的注册。")])]),t._v(" "),e("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^\\w：:]/g,'');this.value=this.value.replace(/：/g,':');",placeholder:"填入这个机构WeID"},on:{blur:function(e){t.dialog.registForm.weId=e.target.value}},model:{value:t.dialog.registForm.weId,callback:function(e){t.$set(t.dialog.registForm,"weId",e)},expression:"dialog.registForm.weId"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"权威机构名称","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-text"},[e("span",[t._v("\n              输入权威机构的名称（建议由英文或者数字组成，不建议包含类似空格字符的特殊符号，也不支持中文），\n              作为类似权威机构 ID 的方式使用，例如如果机构是微众银行，则可以输入类似“webank”作为其权威机构名称\n            ")])]),t._v(" "),e("el-input",{attrs:{onkeyup:"this.value=this.value.replace(/[^a-zA-Z0-9]/g,'')",placeholder:"Enter issuer name"},on:{blur:function(e){t.dialog.registForm.name=e.target.value}},model:{value:t.dialog.registForm.name,callback:function(e){t.$set(t.dialog.registForm,"name",e)},expression:"dialog.registForm.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[e("el-input",{attrs:{placeholder:"Enter issuer description"},model:{value:t.dialog.registForm.description,callback:function(e){t.$set(t.dialog.registForm,"description",e)},expression:"dialog.registForm.description"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.registerIssuer()}}},[t._v("注 册")])],1)])],1)}),[],!1,null,null,null);e.default=p.exports},m5Qo:function(t,e,a){"use strict";a.r(e);var i=a("NVG9"),n={components:{},data:function(){return{navForm:{roleType:1},menuData:JSON.parse(localStorage.getItem("menuData")),menu1:1,menu1Name:"",menu2:1,menu2Name:""}},methods:{changeNavTitle:function(){for(var t=0;t<this.menuData.length;t++){var e=this.menuData[t];if(e.index+""==this.menu1+""){this.menu1Name=e.name;for(var a=0;a<e.subList.length;a++){var i=e.subList[a];if(i.index+""==this.menu2+"")return void(this.menu2Name=i.name)}}}},changeRoleType:function(){localStorage.setItem("roleType",this.navForm.roleType),this.resetSetItem("roleType",this.navForm.roleType),this.setRole()},setRole:function(){i.a.doPost("setRole",{roleType:this.navForm.roleType}).then((function(t){}))},openWebase:function(){var t=this;i.a.doGet("checkWebase").then((function(e){e.data.result?window.open("webase-browser/index.html"):t.$alert('<p>您还没有配置安装启动webase服务! &nbsp;<a target="_blank" href="https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-installation-by-web.html#fisco-bcos-browser">安装教程</a></p>',"温馨提示",{dangerouslyUseHTMLString:!0}).catch((function(){}))}))},openLog:function(){var t=window.open("","logWin","width=800,height=500,top=100,left=380");"about:blank"===t.location.href?t=window.open("#/log/","logWin","width=800,height=500,top=100,left=380"):t.focus()}},mounted:function(){var t=this;window.addEventListener("setItem",(function(){t.menu1=sessionStorage.getItem("menu1"),t.menu2=sessionStorage.getItem("menu2"),t.changeNavTitle()}));var e=localStorage.getItem("roleType");e=null===e?2:e,this.navForm.roleType=parseInt(e),this.changeRoleType()}},l=a("KHd+"),o=[function(){var t=this._self._c;return t("div",{staticClass:"logo"},[t("a",{attrs:{id:"a_index"}},[t("img",{staticClass:"logo_image icon_question",attrs:{src:a("FV8d"),alt:"AdminLTE Logo"}}),this._v(" "),t("span",{staticClass:"logo_title icon_question"},[this._v("网页管理工具")])])])}],s={data:function(){return{menuData:[{index:1,name:"配置管理",icon:"el-icon-menu-self el-icon-menu-1",subList:[{index:1,name:"配置区块链节点",linkName:"nodeConfig",isShow:!0},{index:2,name:"配置主群组",linkName:"groupConfig",isShow:!0},{index:3,name:"配置数据库",linkName:"dbConfig",isShow:!0},{index:4,name:"配置WeID账户",linkName:"accountConfig",isShow:!0}]},{index:2,name:"智能合约管理",icon:"el-icon-menu-self el-icon-menu-2",subList:[{index:1,name:"部署WeIdentity智能合约",linkName:"deployWeId",isShow:!0},{index:2,name:"部署存证智能合约",linkName:"deployEvidence",isShow:!0}]},{index:3,name:"功能管理",icon:"el-icon-menu-self el-icon-menu-3",subList:[{index:1,name:"数据概览",linkName:"dataPanle",isShow:!0},{index:2,name:"WeID管理",linkName:"weidList",isShow:!0},{index:3,name:"权威凭证发行者",linkName:"issuerList",isShow:!0},{index:4,name:"白名单功能管理",linkName:"whiteList",isShow:!0},{index:5,name:"凭证模板(CPT)管理",linkName:"cptList",isShow:!0},{index:6,name:"披露策略管理",linkName:"policyList",isShow:!0}]},{index:4,name:"异步上链管理",icon:"el-icon-menu-self el-icon-menu-4",subList:[{index:1,name:"存证异步上链管理",linkName:"asynEvidenceList",isShow:!0}]},{index:5,name:"配置检查管理",icon:"el-icon-menu-self el-icon-menu-5",subList:[{index:1,name:"检查数据库配置",linkName:"dbCheck",isShow:!0}]}],openeds:[0],actives:"",roleType:localStorage.getItem("roleType")}},methods:{link:function(t,e,a){this.resetSetItem("menu1",t),this.resetSetItem("menu2",e),this.$router.push({name:a}),localStorage.setItem("linkName",a)},activeMenu:function(){this.openeds[0]=parseInt(sessionStorage.getItem("menu1")),this.actives=this.openeds[0]+"-"+sessionStorage.getItem("menu2"),this.roleType=localStorage.getItem("roleType"),this.menuData[2].subList[3].isShow="1"===this.roleType},checkGuideStatus:function(){var t=this;i.a.doGet("getGuideStatus").then((function(e){""===e.data.result&&t.$router.push({name:"step"})}))}},computed:{},watch:{},created:function(){var t=this;this.checkGuideStatus(),localStorage.setItem("menuData",JSON.stringify(this.menuData)),window.addEventListener("setItem",(function(){t.activeMenu()}))},mounted:function(){this.resetSetItem("menu1",sessionStorage.getItem("menu1")),this.resetSetItem("menu2",sessionStorage.getItem("menu2")),("null"===sessionStorage.getItem("menu2")||this.$route.path.endsWith("deployWeId"))&&(this.link(2,1,"deployWeId"),this.activeMenu())}},r={components:{headerBar:Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"application_header"},[e("div",{staticClass:"header_left_part"},[e("div",{staticClass:"nav_link"},[t._m(0),t._v(" "),""!=t.menu1Name?e("span",{staticClass:"nav_icon"},[t._v("/")]):t._e(),t._v(" "),e("a",[e("span",{staticClass:"nav_title_last"},[t._v(t._s(t.menu1Name))])]),t._v(" "),""!=t.menu2Name?e("span",{staticClass:"nav_icon"},[t._v("/")]):t._e(),t._v(" "),e("a",[e("span",{staticClass:"nav_title_last"},[t._v(t._s(t.menu2Name))])])])]),t._v(" "),e("div",{staticClass:"header_right_part"},[e("div",{staticClass:"nav_link"},[e("a",{on:{click:function(e){return t.openLog()}}},[e("span",[t._v("查看后台日志")])]),t._v(" "),e("a",{on:{click:function(e){return t.openWebase()}}},[e("span",[t._v("区块链浏览器")])])]),t._v(" "),e("div",{staticClass:"role_select"},[e("el-form",{ref:"navForm",attrs:{"label-position":"right",model:t.navForm,"label-width":"220px"}},[e("el-select",{on:{change:t.changeRoleType},model:{value:t.navForm.roleType,callback:function(e){t.$set(t.navForm,"roleType",e)},expression:"navForm.roleType"}},[e("el-option",{attrs:{label:"联盟链委员会管理员",value:1}}),t._v(" "),e("el-option",{attrs:{label:"非联盟链委员会管理员",value:2}})],1)],1)],1)])])}),[function(){var t=this._self._c;return t("a",[t("span",{staticClass:"nav_title_last"},[this._v("首页")])])}],!1,null,null,null).exports,sideBar:Object(l.a)(s,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"sideBar"}},[t._m(0),t._v(" "),e("el-menu",{ref:"kzMenu",staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#545c64","text-color":"#fff","default-openeds":t.openeds,"default-active":t.actives,"active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose}},[t._l(t.menuData,(function(a){return e("el-submenu",{key:a.name,attrs:{index:a.index}},[e("template",{slot:"title"},[e("i",{class:a.icon}),t._v(" "),e("span",[t._v(t._s(a.name))])]),t._v(" "),t._l(a.subList,(function(i){return!0===i.isShow?e("el-menu-item",{key:i.name,attrs:{index:a.index+"-"+i.index},on:{click:function(e){return t.link(a.index,i.index,i.linkName)}}},[t._v(t._s(i.name))]):t._e()}))],2)})),t._v(" "),e("br"),e("br")],2)],1)}),o,!1,null,null,null).exports,footBar:a("B25C").a}},d=Object(l.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"application",class:this.blackTheme},[t("table",{staticClass:"t_table",attrs:{cellpadding:"0",cellspacing:"0"}},[t("tr",[t("td",{staticClass:"t_sidebar",attrs:{rowspan:"3"}},[t("sideBar")],1),this._v(" "),t("td",{staticClass:"t_header"},[t("headerBar")],1)]),this._v(" "),t("tr",[t("td",{staticClass:"t_main t_boder"},[t("router-view")],1)]),this._v(" "),t("tr",[t("td",{staticClass:"t_footer"},[t("footBar")],1)])])])}),[],!1,null,null,null);e.default=d.exports},mO38:function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{deployList:[],pageSize:5,total:0,pageIndex:1},dialog:{dialogTableVisible:!1,dialogFormVisible:!1,dialogDetailVisible:!1,dialogDepolyDetailVisible:!1,deployForm:{groupId:1,evidenceName:""},groupList:[],deployMessages:[],hash:"",groupId:"",deployBtn:null,deployDetail:{},userListPage:{userList:[],pageSize:3,total:0,pageIndex:1}}}},methods:{showAll:function(t){this.$alert(t,"温馨提示",{}).catch((function(){}))},showDeploy:function(){r.a.data.nodeStatus?(this.dialog.deployForm.evidenceName="",this.dialog.dialogFormVisible=!0):r.a.checkNodeState(!1)},showDeployDetail:function(t,e){var a=this;s.a.doGet("getShareInfo/"+t).then((function(t){0===t.data.errorCode?(a.dialog.deployDetail=t.data.result,a.dialog.deployDetail.owner=e,a.dialog.dialogDetailVisible=!0):a.$alert("部署详情查询失败!","温馨提示").catch((function(){}))}))},enable:function(t,e,a){var i=this;this.dialog.deployBtn=a.currentTarget;var n="是否确定在此群组（group ID : "+e+"）中使用这个 Evidence 合约地址? <br/>* 启用后将直接同步到应用环境（如果是生产环境，请特别小心）。<br/>* 每一个群组，只能有一个启用的 Evidence 合约（调用EvidenceService的createEvidence会将Evidence写入这个 Evidence 合约）。<br/>* 不同群组，可以启用不同的 Evidence 合约。";this.$confirm(n,"温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary",dangerouslyUseHTMLString:!0}).then((function(a){i.disableBtn(i.dialog.deployBtn),i.dialog.hash=t,i.dialog.groupId=e,i.dialog.deployMessages=[],i.enableShareCns()})).catch((function(){}))},deleteRow:function(t,e){var a=this;this.dialog.deployBtn=e.currentTarget,this.$confirm("确认删除吗？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(e){a.disableBtn(a.dialog.deployBtn),a.removeHash(t)})).catch((function(){}))},removeHash:function(t){var e=this;s.a.doPost("removeHash/"+t+"/2").then((function(t){0===t.data.errorCode?(e.$alert("删除成功!","温馨提示").catch((function(){})),e.getShareList()):e.$alert(t.data.errorMessage,"温馨提示",{}).catch((function(){})),e.enableBtn(e.dialog.deployBtn)}))},comfirmBtn:function(){this.dialog.dialogDepolyDetailVisible=!1,this.dialog.dialogFormVisible=!1},enableShareCns:function(){var t=this,e={};e.hash=this.dialog.hash,e.groupId=this.dialog.groupId,this.dialog.deployMessages.push("存证合约启用中..."),this.dialog.dialogDepolyDetailVisible=!0,s.a.doPost("enableShareCns",e,15).then((function(e){t.dialog.dialogDepolyDetailVisible=!0,0===e.data.errorCode?(t.dialog.deployMessages.push("存证合约启用成功。"),t.dialog.deployMessages.push("请继续操作。"),t.getShareList()):"fail"===e.data.result?t.dialog.deployMessages.push("存证合约启用失败。"):t.dialog.deployMessages.push("存证合约启用失败:"+e.data.errorMessage),t.enableBtn(t.dialog.deployBtn)}))},isEnableEvidenceCns:function(){var t=this;s.a.doGet("isEnableEvidenceCns/"+this.dialog.groupId).then((function(e){e.data.result?t.enableShareCns():(t.dialog.deployMessages.push("请继续操作。"),t.getShareList(),t.enableBtn(t.dialog.deployBtn))}))},deployEvidence:function(t){var e=this;this.dialog.deployBtn=t.currentTarget,""!==this.dialog.deployForm.evidenceName?(this.disableBtn(this.dialog.deployBtn),this.dialog.deployMessages=[],this.dialog.deployMessages.push("存证合约部署中..."),this.dialog.dialogDepolyDetailVisible=!0,s.a.doPost("deployEvidence",this.dialog.deployForm,15).then((function(t){e.dialog.dialogDepolyDetailVisible=!0,0===t.data.errorCode?(e.dialog.hash=t.data.result,e.dialog.groupId=e.dialog.deployForm.groupId,e.dialog.deployMessages.push("存证合约部署成功。"),e.isEnableEvidenceCns()):(e.dialog.deployMessages.push("存证合约部署失败! 请查看日志。"),e.enableBtn(e.dialog.deployBtn))}))):this.$alert("请输入存证应用名!","温馨提示").catch((function(){}))},indexChange:function(t){t<1&&(t=1),this.page.pageIndex=t},getShareList:function(){var t=this;s.a.doGet("getShareList").then((function(e){0===e.data.errorCode&&(t.page.deployList=e.data.result,t.page.total=t.page.deployList.length,0!==t.page.total&&t.page.total===t.page.pageSize*(t.page.pageIndex-1)&&t.indexChange(t.page.pageIndex-1))}))},indexChange2:function(t){this.dialog.userListPage.pageIndex=t},getUserListByHash:function(t){var e=this;s.a.doGet("getUserListByHash/"+t).then((function(t){0===t.data.errorCode&&(e.dialog.userListPage.userList=t.data.result,e.dialog.userListPage.total=t.data.result.length,e.dialog.dialogTableVisible=!0)}))},init:function(){var t=this;s.a.doGet("getAllGroup/true").then((function(e){0===e.data.errorCode?(t.dialog.groupList=e.data.result,t.dialog.deployForm.groupId=t.dialog.groupList[0].value):t.$alert("启用列表失败!","温馨提示").catch((function(){}))})),this.getShareList()},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!1);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",{staticClass:"app_main_header_row"},[e("el-col",{attrs:{span:3}},[e("el-button",{staticClass:"btn",staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(e){return t.showDeploy()}}},[t._v("部署存证智能合约")])],1),t._v(" "),e("el-col",{staticClass:"head-icon",attrs:{span:21}},[e("a",{attrs:{target:"blank",href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/weidentity-quick-tools-web.html?highlight=Evidence#evidence"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question"},[t._v("存证智能合约部署使用教程")])])])],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.page.deployList.slice((t.page.pageIndex-1)*t.page.pageSize,t.page.pageIndex*t.page.pageSize),border:"true",align:"center",cellpadding:"0",cellspacing:"0"}},[e("el-table-column",{attrs:{prop:"evidenceName",label:"应用名字",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words",attrs:{title:a.row.evidenceName}},[t._v(t._s(a.row.evidenceName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"智能合约部署ID",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"long_words link",attrs:{title:a.row.hash},on:{click:function(e){return t.showAll(a.row.hash)}}},[t._v(t._s(a.row.hashShow))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"部署的机构名称",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(i){return null!==i.row.issuer?[e("span",{staticClass:"icon_question",attrs:{title:i.row.issuer.name}},[t._v(t._s(i.row.issuer.name))]),t._v(" "),!0===i.row.issuer.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("Xg0I"),widht:"50",height:"50",alt:""}}):t._e(),t._v(" "),!1===i.row.issuer.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("DnRc"),widht:"50",height:"50",alt:""}}):t._e()]:void 0}}],null,!0)}),t._v(" "),e("el-table-column",{attrs:{prop:"showGroupId",label:"所在群组",align:"center",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"170"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"420"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.enable?e("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[t._v("已启用")]):e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.enable(a.row.hash,a.row.groupId,e)}}},[t._v("启用")]),t._v(" "),e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.deleteRow(a.row.hash,e)}}},[t._v("删除")]),t._v(" "),e("el-button",{staticClass:"btn",staticStyle:{width:"90px"},attrs:{type:"primary"},on:{click:function(e){return t.showDeployDetail(a.row.hash,a.row.owner)}}},[t._v("详细信息")]),t._v(" "),e("el-button",{staticClass:"btn",staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(e){return t.getUserListByHash(a.row.hash)}}},[t._v("启用机构列表")])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"启用的机构列表",width:"48%",visible:t.dialog.dialogTableVisible},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogTableVisible",e)}}},[e("el-table",{attrs:{data:t.dialog.userListPage.userList.slice((t.dialog.userListPage.pageIndex-1)*t.dialog.userListPage.pageSize,t.dialog.userListPage.pageIndex*t.dialog.userListPage.pageSize),border:"true",cellpadding:"0",cellspacing:"0"}},[e("el-table-column",{attrs:{property:"name",label:"权威机构名称",width:"250"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n          "+t._s(i.row.name)+"\n          "),!0===i.row.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("Xg0I"),widht:"50",height:"50",alt:""}}):t._e(),t._v(" "),!1===i.row.recognized?e("img",{staticClass:"icon_question",attrs:{src:a("DnRc"),widht:"50",height:"50",alt:""}}):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{property:"weId",label:"WeID"}})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.dialog.userListPage.pageIndex,"page-size":t.dialog.userListPage.pageSize,layout:"total, prev, pager, next, jumper",total:t.dialog.userListPage.total},on:{"current-change":t.indexChange2}}),t._v(" "),e("br")],1),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"部署存证智能合约",width:"33%",visible:t.dialog.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogFormVisible",e)}}},[e("div",{staticClass:"dialog-body"},[e("el-form",{attrs:{model:t.dialog.deployForm}},[e("el-form-item",{attrs:{label:"选择将存证合约部署到哪一个FISCO-BCOS群组ID（group ID）","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-text"},[e("div",[t._v("说明:")]),t._v(" "),e("div",[t._v("1. 找不到想找要的FISCO-BCOS群组ID？请确认下是否已经完成群组的部署。")]),t._v(" "),e("div",[t._v("2. 只能在“非主群组”上部署存证智能合约，主群组上的存证智能合约不能随意替换。")])]),t._v(" "),e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"群组"},model:{value:t.dialog.deployForm.groupId,callback:function(e){t.$set(t.dialog.deployForm,"groupId",e)},expression:"dialog.deployForm.groupId"}},t._l(t.dialog.groupList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"存证应用名字","label-width":t.formLabelWidth}},[e("div",{staticClass:"mark-text"},[e("span",[t._v("给存证区块链应用起一个名字吧，用于不同的存证使用场景，例如“学历证书应用存证”。")])]),t._v(" "),e("el-input",{attrs:{placeholder:"Enter evidenceName"},model:{value:t.dialog.deployForm.evidenceName,callback:function(e){t.$set(t.dialog.deployForm,"evidenceName",e)},expression:"dialog.deployForm.evidenceName"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:function(e){return t.deployEvidence(e)}}},[t._v("部 署")])],1)]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"部署信息",width:"620px",visible:t.dialog.dialogDetailVisible,"close-on-click-modal":!0},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployDetail"},[e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("智能合约部署ID")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.deployDetail.hash))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("部署账户")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.deployDetail.owner))])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("群组")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:20}},[t._v(t._s(t.dialog.deployDetail.groupId))])],1),t._v(" "),t.dialog.deployDetail.local?e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("WeID SDK版本")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:7}},[t._v(t._s(t.dialog.deployDetail.weIdSdkVersion))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("WeID合约版本")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:9}},[t._v(t._s(t.dialog.deployDetail.contractVersion))])],1):t._e(),t._v(" "),t.dialog.deployDetail.local?e("el-row",[e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("部署来源")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:7}},[t._v(t._s(t.dialog.deployDetail.from))]),t._v(" "),e("el-col",{staticClass:"title",attrs:{span:4}},[t._v("区块链节点版本")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:9}},[t._v(t._s(t.dialog.deployDetail.nodeVerion))])],1):t._e(),t._v(" "),t.dialog.deployDetail.local?e("el-row",[e("el-col",{staticClass:"title",attrs:{span:5}},[t._v("区块链节点")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:19}},[t._v(t._s(t.dialog.deployDetail.nodeAddress))])],1):t._e(),t._v(" "),e("el-row",{staticClass:"none-border"},[e("el-col",{staticClass:"title",attrs:{span:5}},[t._v("存证智能合约地址")]),t._v(" "),e("el-col",{staticClass:"value",attrs:{span:19}},[t._v(t._s(t.dialog.deployDetail.evidenceAddress))])],1)],1),t._v(" "),e("br")]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"存证合约部署",width:"400px",visible:t.dialog.dialogDepolyDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"dialogDepolyDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.deployMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary"},on:{click:t.comfirmBtn}},[t._v("确 定")])],1)])],1)}),[],!1,null,null,null);e.default=p.exports},md7r:function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{page:{evidenceAsynList:[],total:0,pageIndex:1,pageSize:7},queryForm:{dataTime:"",status:"-1"},total:100,dbStatus:!1}},methods:{showDetail:function(t){this.$router.push({name:"asynEvidenceDetail",params:{dataTime:t}})},reTry:function(t){var e=this;this.$confirm("确定重试该批次吗？","温馨提示",{closeOnClickModal:!1,cancelButtonClass:"el-button--primary"}).then((function(a){var i={};i.dataTime=t,s.a.doPost("reTryAsyn",i).then((function(t){e.$alert("异步处理中，请注意查看数据。","温馨提示").catch((function(){}))}))})).catch((function(){}))},indexChange:function(t){this.page.pageIndex=t,this.init()},init:function(){var t=this,e={};e.iDisplayStart=(this.page.pageIndex-1)*this.page.pageSize,e.iDisplayLength=this.page.pageSize;var a=this.queryForm.dataTime;a=null!==a&&""!==a?a.replace(/-/g,""):0,e.dataTime=a,e.status=this.queryForm.status,s.a.doPost("getAsyncList",e).then((function(e){0===e.data.errorCode&&(t.page.evidenceAsynList=e.data.result.dataList,t.page.total=e.data.result.allCount)}))},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkDbState();case 2:r.a.data.dbStatus&&(t.init(),t.dbStatus=r.a.data.dbStatus);case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-form",{ref:"queryForm",staticClass:"item",attrs:{model:t.queryForm,"label-width":"80px"}},[e("el-row",{staticStyle:{width:"1200px"}},[e("el-col",{attrs:{span:5}},[e("el-form-item",{attrs:{prop:"dataTime",label:"任务日期:"}},[e("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.queryForm.dataTime,callback:function(e){t.$set(t.queryForm,"dataTime",e)},expression:"queryForm.dataTime"}})],1)],1),t._v(" "),e("el-col",{attrs:{span:5}},[e("el-form-item",{attrs:{prop:"status",label:"任务状态:"}},[e("el-select",{staticStyle:{width:"140px"},model:{value:t.queryForm.status,callback:function(e){t.$set(t.queryForm,"status",e)},expression:"queryForm.status"}},[e("el-option",{attrs:{label:"全部",value:"-1"}}),t._v(" "),e("el-option",{attrs:{label:"处理中",value:"1"}}),t._v(" "),e("el-option",{attrs:{label:"处理成功",value:"2"}}),t._v(" "),e("el-option",{attrs:{label:"处理失败",value:"3"}})],1)],1)],1),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:!t.dbStatus},on:{click:function(e){return t.init()}}},[t._v("查询")])],1)],1)],1),t._v(" "),e("div",{staticClass:"app_view"},[e("el-table",{attrs:{data:t.page.evidenceAsynList,border:"true",align:"center"}},[e("el-table-column",{attrs:{prop:"data_time",label:"任务日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"form_option",on:{click:function(e){return t.showDetail(a.row.data_time)}}},[t._v(t._s(a.row.data_time))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"任务状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[1===a.row.status?e("span",[t._v("处理中")]):2===a.row.status?e("span",[t._v("处理成功")]):3===a.row.status?e("span",[t._v("处理失败")]):e("span",[t._v("未知状态")])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"all_size",label:"总记录数",align:"center",formatter:t.dateFormat}}),t._v(" "),e("el-table-column",{attrs:{prop:"success_size",label:"成功数",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"fail_size",label:"失败数",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[3===a.row.status?e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.reTry(a.row.data_time)}}},[t._v("重试")]):t._e()]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,layout:"total, prev, pager, next, jumper",total:t.page.total},on:{"current-change":t.indexChange}})],1)],1)}),[],!1,null,null,null);e.default=p.exports},qpXh:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{server:"ws://"+window.location.host+"/webSocket",scket:null,data:""}},methods:{initConn:function(){this.data+="日志连接中...</br>";var t=new WebSocket(this.server);this.socket=t,this.socket.onmessage=this.OnMessage,this.socket.onopen=this.OnOpen,this.socket.onerror=this.OnError},OnOpen:function(){this.data+="日志连接成功</br>"},OnError:function(){this.data+="日志连接发生错误</br>"},OnMessage:function(t){this.data+=t.data+"</br>",window.scrollTo({top:document.body.scrollHeight})}},mounted:function(){this.initConn()},destroyed:function(){this.socket.close()}},n=(a("JsSH"),a("KHd+")),l=Object(n.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"log-view"},[t("pre",{domProps:{innerHTML:this._s(this.data)}},[this._v("  ")])])}),[],!1,null,null,null);e.default=l.exports},sCjM:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_complated"},[t("span",[this._v("1")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("区块链节点配置")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_active"},[t("span",[this._v("2")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("设置主群组")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item"},[t("span",[this._v("3")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("数据库配置(可选)")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item"},[t("span",[this._v("4")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("创建管理员WeID")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header card-title"},[t("h3",[this._v("配置主群组")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-mark"},[t("div",{staticClass:"card-mark-text"},[this._v("选择一个FISCO-BCOS的群组，作为 WeIdentity 的主群组（即部署 WeIdentity 智能合约的群组）")]),this._v(" "),t("div",{staticClass:"card-mark-icon"},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html?highlight=群组#group-selection",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v(" 什么是群组？")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"sql_warning",staticStyle:{right:"-160px"}},[t("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html#group-selection",target:"blank_"}},[t("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),this._v(" "),t("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[this._v("点击查看配置配置教程")])])])}],n=a("NVG9"),l={data:function(){return{roleType:localStorage.getItem("roleType"),form:{groupId:""},groupList:[]}},methods:{setGroupId:function(){var t=this;n.a.doPost("setGroupId",this.form).then((function(e){0===e.data.errorCode?t.$alert("群组配置成功!","温馨提示",{}).then((function(){localStorage.setItem("step",3),t.$router.push({name:"step3"})})).catch((function(){})):t.$alert("群组配置失败!","温馨提示",{}).catch((function(){}))}))},next:function(){this.setGroupId()},prev:function(){localStorage.setItem("step",1),this.$router.push({name:"step1"})},init:function(){var t=this;n.a.doGet("getAllGroup/false").then((function(e){0===e.data.errorCode&&(t.groupList=e.data.result,t.form.groupId=t.groupList[0].value)})),n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.form.groupId=e.data.result.group_id)}))}},mounted:function(){this.checkStep(),this.init()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[e("div",{staticClass:"guide_step_part box"},[e("div",{staticClass:"bottom_line"}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),"1"==t.roleType?e("div",{staticClass:"guide_step_item"},[e("span",[t._v("5")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",{staticStyle:{width:"200px",left:"-89px"}},[t._v("部署WeIdentity智能合约")])]):t._e()]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box",attrs:{id:"AccountDiv"}},[t._m(4),t._v(" "),t._m(5),t._v(" "),e("div",{staticClass:"card-body",staticStyle:{"margin-top":"12px"}},[e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("el-form",{ref:"form",attrs:{model:t.form}},[e("el-form-item",{attrs:{prop:"groupId"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"主群组"},model:{value:t.form.groupId,callback:function(e){t.$set(t.form,"groupId",e)},expression:"form.groupId"}},t._l(t.groupList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1)],1)],1)]),t._v(" "),e("div",{staticClass:"bt-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.prev}},[t._v("上一步")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1),t._v(" "),t._m(6)])])])])])])}),i,!1,null,null,null);e.default=s.exports},tbEp:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_complated"},[t("span",[this._v("1")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("区块链节点配置")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_complated"},[t("span",[this._v("2")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("设置主群组")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item guide_step_active"},[t("span",[this._v("3")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("数据库配置(可选)")])])},function(){var t=this._self._c;return t("div",{staticClass:"guide_step_item"},[t("span",[this._v("4")]),this._v(" "),t("img",{attrs:{src:a("nm1I"),alt:""}}),this._v(" "),t("p",[this._v("创建管理员WeID")])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("h3",[this._v("配置数据库")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"sql_warning"},[e("div",{staticClass:"warning_title"},[t._v("温馨提示")]),t._v(" "),e("p",[t._v("如果您需要使用到下列功能，则需要配置数据库")]),t._v(" "),e("p",[t._v("1.Transportation相关组件功能")]),t._v(" "),e("p",[t._v("2.Evidence异步存证功能")]),t._v(" "),e("p",[t._v("3.Persistence数据存储功能(例如：存储Credential)")]),t._v(" "),e("p",[e("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/deploy-via-web.html?highlight=配置数据库#db-configuration",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("配置教程")])])]),t._v(" "),e("p",[e("a",{staticStyle:{display:"block"},attrs:{href:"https://weidentity.readthedocs.io/zh_CN/latest/docs/how-to-use-persistence.html",target:"blank_"}},[e("img",{staticClass:"icon_question",attrs:{src:a("iMyu"),alt:""}}),t._v(" "),e("span",{staticClass:"icon_question",staticStyle:{color:"#017CFF","font-size":"12px",display:"inline-block"}},[t._v("使用教程")])])])])}],n=a("NVG9"),l={data:function(){return{roleType:localStorage.getItem("roleType"),dbForm:{persistence_type:"",mysql_address:"",mysql_database:"",mysql_username:"",mysql_password:"",redis_address:"",redis_password:""},dialog:{checkDetailVisible:!1,checkMessages:[],nextBtn:null,checkStatus:!1}}},methods:{checkInput:function(){if("mysql"===this.dbForm.persistence_type){if(""===this.dbForm.mysql_address)return this.$alert("请输入数据库 IP 和 PORT !","温馨提示",{}).catch((function(){})),!1;if(""===this.dbForm.mysql_database)return this.$alert("请输入数据库名称!","温馨提示",{}).catch((function(){})),!1;if(""===this.dbForm.mysql_username)return this.$alert("请输入数据库用户名!","温馨提示",{}).catch((function(){})),!1;if(""===this.dbForm.mysql_password)return this.$alert("请输入数据库密码!","温馨提示",{}).catch((function(){})),!1}else if(""===this.dbForm.redis_address)return this.$alert("请输入Redis的服务 IP 和 PORT !","温馨提示",{}).catch((function(){})),!1;return!0},setGuideStatus:function(){var t=this;n.a.doPost("setGuideStatus",{step:"5"}).then((function(e){localStorage.setItem("step",""),t.$router.push({name:"deployWeId"})}))},checkOrgId:function(){var t=this;n.a.doPost("checkOrgId",{}).then((function(e){0===e.data.errorCode&&(1===e.data.result?t.setGuideStatus():0===e.data.result?(localStorage.setItem("step",4),t.$router.push({name:"step4"})):t.$alert("程序出现异常，请查看日志。","温馨提示",{}).catch((function(){})))}))},checkPersistence:function(){var t=this;this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("数据库配置检测中..."),n.a.doGet("checkPersistence").then((function(e){t.dialog.checkDetailVisible=!0,t.enableBtn(t.dialog.nextBtn),e.data.result?(t.dialog.checkStatus=!0,t.dialog.checkMessages.push("数据库配置检测成功。"),t.dialog.checkMessages.push("请继续操作。")):t.dialog.checkMessages.push("数据库配置检测失败。")}))},jump:function(){this.checkOrgId()},submitDbConfig:function(){var t=this;this.checkInput()&&(this.dialog.checkMessages=[],this.dialog.checkStatus=!1,this.dialog.checkDetailVisible=!0,this.dialog.checkMessages.push("数据库配置提交中..."),this.disableBtn(this.dialog.nextBtn),n.a.doPost("submitDbConfig",this.dbForm).then((function(e){t.dialog.checkDetailVisible=!0,0===e.data.errorCode?(t.dialog.checkMessages.push("数据库配置提交成功。"),t.checkPersistence()):(t.dialog.checkMessages.push("数据库配置提交失败。"),t.enableBtn(t.dialog.nextBtn))})))},next:function(t){this.dialog.nextBtn=t.currentTarget,this.submitDbConfig()},prev:function(){localStorage.setItem("step",2),this.$router.push({name:"step2"})},init:function(){var t=this;n.a.doGet("loadConfig").then((function(e){0===e.data.errorCode&&(t.dbForm=e.data.result,"mysql"!==t.dbForm.persistence_type&&"redis"!==t.dbForm.persistence_type&&(t.dbForm.persistence_type="mysql"))})),this.$alert("<p>如果您需要使用到下列功能，则需要配置数据库<br/>1.Transportation相关组件功能<br/>2.Evidence异步存证功能<br/>3.Persistence数据存储功能(例如：存储Credential)</p>","温馨提示",{dangerouslyUseHTMLString:!0}).catch((function(){}))}},mounted:function(){this.init()},created:function(){this.checkStep()}},o=a("KHd+"),s=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_view_content"},[e("div",{staticClass:"app_view_register"},[e("section",{staticClass:"content"},[e("div",{staticClass:"guide_step_part box"},[e("div",{staticClass:"bottom_line"}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),"1"==t.roleType?e("div",{staticClass:"guide_step_item"},[e("span",[t._v("5")]),t._v(" "),e("img",{attrs:{src:a("nm1I"),alt:""}}),t._v(" "),e("p",{staticStyle:{width:"200px",left:"-89px"}},[t._v("部署WeIdentity智能合约")])]):t._e()]),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"box"},[e("div",{staticClass:"card card-primary warning_box"},[t._m(4),t._v(" "),e("el-form",{ref:"dbForm",attrs:{"label-position":"right",model:t.dbForm,"label-width":"220px"}},[e("el-form-item",{attrs:{label:"数据库类型:",prop:"persistence_type"}},[e("el-select",{staticStyle:{width:"72%"},attrs:{placeholder:"数据库类型"},model:{value:t.dbForm.persistence_type,callback:function(e){t.$set(t.dbForm,"persistence_type",e)},expression:"dbForm.persistence_type"}},[e("el-option",{attrs:{label:"mysql",value:"mysql"}}),t._v(" "),e("el-option",{attrs:{label:"redis",value:"redis"}})],1),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("目前暂只支持MySql与Redis数据库")])])],1),t._v(" "),"mysql"===t.dbForm.persistence_type?e("div",{attrs:{id:"mysqlForm"}},[e("el-form-item",{attrs:{label:"数据库IP:PORT:",prop:"mysql_address"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"IP:PORT",onKeyUp:"value=value=value.replace(/[^0-9：:。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');"},on:{blur:function(e){t.dbForm.mysql_address=e.target.value}},model:{value:t.dbForm.mysql_address,callback:function(e){t.$set(t.dbForm,"mysql_address",e)},expression:"dbForm.mysql_address"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"数据库名称:",prop:"mysql_database"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter DataBase Name"},model:{value:t.dbForm.mysql_database,callback:function(e){t.$set(t.dbForm,"mysql_database",e)},expression:"dbForm.mysql_database"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("* 数据库需要提前自己搭建好，并建立好数据库，数据库名称(DataBase Name)可以自行决定")])])],1),t._v(" "),e("el-form-item",{attrs:{label:"数据库用户名:",prop:"mysql_username"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"Enter username"},model:{value:t.dbForm.mysql_username,callback:function(e){t.$set(t.dbForm,"mysql_username",e)},expression:"dbForm.mysql_username"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"数据库密码:",prop:"mysql_password"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{type:"password",placeholder:"Enter password"},model:{value:t.dbForm.mysql_password,callback:function(e){t.$set(t.dbForm,"mysql_password",e)},expression:"dbForm.mysql_password"}})],1)],1):t._e(),t._v(" "),"redis"===t.dbForm.persistence_type?e("div",{attrs:{id:"redisForm"}},[e("el-form-item",{attrs:{label:"服务器IP:PORT:",prop:"redis_address"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{placeholder:"IP:PORT,IP:PORT",onKeyUp:"value=value=value.replace(/[^0-9：:，,。.]/g,'');value=value.replace(/[。]/g,'.');value=value.replace(/[：]/g,':');value=value.replace(/\\s+/g,'');value=value.replace(/[，]/g,',');"},on:{blur:function(e){t.dbForm.redis_address=e.target.value}},model:{value:t.dbForm.redis_address,callback:function(e){t.$set(t.dbForm,"redis_address",e)},expression:"dbForm.redis_address"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v('如：127.0.0.1:6379 ；如果多个节点，则请用半角逗号","分割：127.0.0.1:7100,127.0.0.1:7101')])])],1),t._v(" "),e("el-form-item",{attrs:{label:"服务器密码（选填):",prop:"redis_password"}},[e("el-input",{staticStyle:{width:"72%"},attrs:{type:"password",placeholder:"Enter password"},model:{value:t.dbForm.redis_password,callback:function(e){t.$set(t.dbForm,"redis_password",e)},expression:"dbForm.redis_password"}}),t._v(" "),e("div",{staticClass:"mark-bottom"},[e("span",[t._v("如未设置密码可不填写")])])],1)],1):t._e(),t._v(" "),e("div",{staticClass:"bt-part"},[e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.prev}},[t._v("上一步")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:t.jump}},[t._v("跳过")]),t._v(" "),e("el-button",{staticClass:"btn btn_150",attrs:{type:"primary"},on:{click:function(e){return t.next(e)}}},[t._v("下一步")])],1)],1),t._v(" "),t._m(5)],1)])])])]),t._v(" "),e("el-dialog",{staticClass:"dialog-view",attrs:{title:"温馨提示",width:"400px",visible:t.dialog.checkDetailVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"checkDetailVisible",e)}}},[e("div",{staticClass:"dialog-body deployMessage"},t._l(t.dialog.checkMessages,(function(a){return e("p",{key:a.value},[t._v(t._s(a))])})),0),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"width_100",attrs:{type:"primary",disabled:!t.dialog.checkStatus},on:{click:t.checkOrgId}},[t._v("下一步")])],1)])],1)}),i,!1,null,null,null);e.default=s.exports},"xi+1":function(t,e,a){"use strict";a.r(e);var i=a("yXPU"),n=a.n(i),l=a("o0o1"),o=a.n(l),s=a("NVG9"),r=a("Mt0T"),d={data:function(){return{panleData:{blockNumber:0,weIdCount:0,cptCount:0,issuerCount:0,policyCount:0}}},methods:{toPage:function(t,e){this.$router.push({name:t}),this.resetSetItem("menu2",e)},init:function(){var t=this;s.a.doGet("getDataPanel").then((function(e){0===e.data.errorCode&&(t.panleData=e.data.result)}))},check:function(){var t=this;return n()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.checkNodeState(!0);case 2:r.a.data.nodeStatus&&t.init();case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.check()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"content app_main"},[e("el-row",{staticClass:"panle"},[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"panle-box",staticStyle:{cursor:"default"}},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("当前块高")]),t._v(" "),e("div",{staticClass:"data"},[t._v(t._s(t.panleData.blockNumber))])]),t._v(" "),e("div",{staticClass:"right"},[e("img",{attrs:{src:a("qmDx"),alt:""}})])])]),t._v(" "),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"panle-box",on:{click:function(e){return t.toPage("weidList",2)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("WeID总数")]),t._v(" "),e("div",{staticClass:"data"},[t._v(t._s(t.panleData.weIdCount))])]),t._v(" "),e("div",{staticClass:"right"},[e("img",{attrs:{src:a("5n7q"),alt:""}})])])]),t._v(" "),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"panle-box",on:{click:function(e){return t.toPage("cptList",5)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("凭证模板(CPT)总数")]),t._v(" "),e("div",{staticClass:"data"},[t._v(t._s(t.panleData.cptCount))])]),t._v(" "),e("div",{staticClass:"right"},[e("img",{attrs:{src:a("UhiC"),alt:""}})])])])],1),t._v(" "),e("el-row",{staticClass:"panle"},[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"panle-box",on:{click:function(e){return t.toPage("issuerList",3)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("权威凭证发行者(Issuer)总数")]),t._v(" "),e("div",{staticClass:"data"},[t._v(t._s(t.panleData.issuerCount))])]),t._v(" "),e("div",{staticClass:"right"},[e("img",{attrs:{src:a("YlFe"),alt:""}})])])]),t._v(" "),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"panle-box",on:{click:function(e){return t.toPage("policyList",6)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("披露策略(Policy)总数")]),t._v(" "),e("div",{staticClass:"data"},[t._v(t._s(t.panleData.policyCount))])]),t._v(" "),e("div",{staticClass:"right"},[e("img",{attrs:{src:a("vwq6"),alt:""}})])])])],1)],1)}),[],!1,null,null,null);e.default=p.exports}}]);